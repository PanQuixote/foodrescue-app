<!DOCTYPE html>
<html>
<head>
  <meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.6.0">
  <title></title>
</head>
<body>
  <ul>
    <li>
      <h1>Food Rescue App Documentation</h1>
      <ul>
        <li>
          <b>About.</b> A publicly visible document for project planning, feature planning and knowledge management for
          the open source <a href="https://fairdirect.org/food-rescue-app">Food Rescue App</a>.
        </li>
        <li>
          <b>Source.</b> This document is viewable <a href="https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA">as a
          Dynalist document</a> on the Internet, in a more comfortable form with list folding. That is also where to
          edit the document.
        </li>
        <li>
          <h2>Project Resources</h2>
          <ul>
            <li>
              <h3>Documentation</h3>
              <ul>
                <li>
                  <a href="https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA">project documentation</a> (Dynalist)
                </li>
                <li>
                  <a href=
                  "file:///home/matthias/Projects/Fairdirect.Food_Rescue_App/Repo.foodrescue-content/doc/index.html">API
                  docs: foodrescue-content</a> (offline, Matthias Ansorg; needs "right click → Open Link in New Tag" in
                  Dynalist)
                </li>
              </ul>
            </li>
            <li>
              <h3>Source Code</h3>
              <ul>
                <li>
                  <a href="https://github.com/fairdirect/foodrescue-content">fairdirect/foodrescue-content</a>
                </li>
                <li>
                  <a href="https://github.com/fairdirect/foodrescue-app">fairdirect/foodrescue-app</a>
                </li>
                <li>
                  <a href=
                  "https://github.com/fairdirect/openfoodfacts-androidapp">fairdirect/openfoodfacts-androidapp</a>
                </li>
                <li>legacy
                  <ul>
                    <li>#discarded <a href=
                    "https://github.com/tanius/openfoodfacts-storagelifeinsights">openfoodfacts-storagelifeinsights</a>
                    (now a forwarder)
                    </li>
                    <li>#discarded <a href=
                    "https://github.com/tanius/openfoodfacts-realmhd-androidapp">openfoodfacts-realmhd-androidapp</a>
                    (now a forwarder)
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <h3>Websites</h3>
              <ul>
                <li>
                  <a href="https://realmhd.app/">project website</a>
                  <ul>
                    <li>https://realmhd.app/</li>
                    <li>https://fairdirect.org/realmhd-app</li>
                    <li>https://fairdirect.org/food-rescue-app</li>
                  </ul>
                </li>
                <li>
                  <a href="https://prototypefund.de/project/die-realmhd-app/">project description webpage</a> by
                  Prototype Fund
                  <ul>
                    <li>
                      <a href=
                      "https://translate.google.com/translate?sl=de&amp;tl=en&amp;u=https%3A%2F%2Fprototypefund.de%2Fproject%2Fdie-realmhd-app%2F">
                      auto-translated English version</a>
                    </li>
                  </ul>
                </li>
                <li>
                  <a href="https://wiki.openfoodfacts.org/Project:Food_Rescue">OFF project wiki page</a>
                </li>
              </ul>
            </li>
            <li>
              <h3>Databases</h3>
              <ul>
                <li>
                  <a href=
                  "https://www.obvibase.com/app/?location=%7B%22type%22%3A%22table%22%2C%22databaseId%22%3A%22dy4WzE7xkmIa7ziG%22%2C%22queryPath%22%3A%7B%22recordPath%22%3A%5B%5D%2C%22columnPath%22%3A%5B%221%22%5D%7D%7D">
                  Obvibase</a> (manually written food rescue content)
                  <ul>
                    <li>Needs upgrading to the Pro plan to share with others with write access.</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <h3>Goal and Motivation</h3>
              <ul>
                <li>What is it?
                  <ul>
                    <li>a food edibility informer</li>
                  </ul>
                </li>
                <li>Problem to solve
                  <ul>
                    <li>Food waste is a problem for society as a whole, with enormous consequential damage to the
                    environment and the climate. For example, over 12 million tons of food are thrown away every year
                    in Germany alone,¹ and about 40% of that in households. A key factor is the best-before date. If it
                    is exceeded, many throw away even unspoiled food because of uncertainty. The best-before date is an
                    overly carefully date chosen by manufacturers, often even amounting to deception of the consumer:
                    at the request of supermarket chains, manufacturers sometimes provide products that are produced at
                    the same time but carry different best-before dates.<br>
                      ¹ Figures from 2015, according to a study by the University of Stuttgart. See: <a href=
                      "https://www.zeit.de/wissen/2019-05/lebensmittelverschendung-haushalte-essen-muell-deutschland">article
                      on zeit.de</a>.
                    </li>
                    <li>Unspoiled food needs a real chance of being eaten. This is not only climate protection and
                    environmental protection, but ultimately also relevant for the global implementation of the human
                    right to adequate nutrition. Hunger is only a distribution problem!</li>
                  </ul>
                </li>
                <li>Approach
                  <ul>
                    <li>The aim of the project is to develop a solution that builds consumer confidence in food,
                    regardless of the best-before date. Specifically, it will be an application on mobile devices
                    (“smartphone app”) that quickly and conveniently informs how long food can actually be kept and how
                    its edibility can be reliably assessed. Consumer protection in the information age means rich
                    information instead of a single date. Among other things, information on the normal behaviour of
                    food during storage and processing should be included. That knowledge can often no longer be
                    assumed among consumers, since many of the more complex processes in domestic food processing (such
                    as canning) have been displaced by industry.</li>
                    <li>Users will access this information by reading the GTIN barcode that is available on all
                    packaged food into the application, using the camera of their mobile device. This is convenient,
                    fast and practical, and differs from the existing approach of project “<a href=
                    "http://www.eatbydate.com/">Eat By Date</a>”, where this information is presented on a website in
                    the form of an encyclopedia.
                    </li>
                    <li>This project is non-financially supported by the open source project "<a href=
                    "https://openfoodfacts.org/">Open Food Facts</a>", founded in 2012. Open Food Facts provides a
                    mobile application for displaying data about food products, and also already has a large community
                    of relevant users, documented by over 500,000 installations of the Open Food Facts Android
                    application. Specifically, the collaboration with Open Food Facts aims for the project to be
                    implemented as additional functions in the existing Open Food Facts Android application. If
                    necessary, implementation as a separate application with API connection to Open Food Facts is also
                    possible.
                    </li>
                    <li>In any case, users will have the opportunity to contribute and update information about the
                    storage life of food items by themselves. This prevents the database from becoming obsolete, and
                    corresponds to the way in which the existing Open Food Facts database is set up and maintained with
                    information about nutrient content, ingredients, allergens, etc.. All information will be provided
                    free of charge and under the same open licenses that are already used in the Open Food Facts
                    project.</li>
                    <li>Producers and laboratories will also be able to contribute information. Whether the application
                    will explicitly support the publication of shelf life tests depends on how readily manufacturers of
                    food products sold in Germany will respond to our requests to publish the results of these tests.
                    At this point it should be noted that a political requirement for the publication of such shelf
                    life tests would significantly increase the benefits of the application described here. But even
                    without such detailed data for individual products, useful information can be offered at the level
                    of product categories (such as "fruit juice, pasteurized").</li>
                  </ul>
                </li>
                <li>Goals
                  <ul>
                    <li>For everyone
                      <ul>
                        <li>less wood waste</li>
                        <li>contribution to climate protection</li>
                        <li>contribution to environmental protection</li>
                      </ul>
                    </li>
                    <li>For users
                      <ul>
                        <li>Confidence when handling stored food.</li>
                        <li>Rescue food and feel good ("dumpster diving at home").</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Possible impact
                  <ul>
                    <li>The idea can have several types of impact:
                      <ul>
                        <li>climate protection</li>
                        <li>ecosystem protection</li>
                        <li>groundwater protection</li>
                      </ul>
                    </li>
                    <li>Note that this idea is meaningful because it allows an individual developer or a small group to
                    have a much larger benefit for ecosystems, climate protection and ending global hunger than going
                    into ecosystem restoration, farming or similar endeavours in the "physical world".</li>
                    <li>From a 2019 study "Ernährungsreport" of the German ministry of nutrition and farming (as
                    <a href="https://www.welt.de/wirtschaft/article200208000">referred by welt.de</a>), food waste
                    composed of items that are still edible in principle has the following composition in Germany
                    (excluding the farm level):
                      <ul>
                        <li>fresh fruits and vegetables: 34%</li>
                        <li>self-prepared meals: 16%</li>
                        <li>bread and baked goods: 14%</li>
                        <li>drinks: 11%</li>
                        <li>dairy: 9%</li>
                        <li>ready-made meals and deep frozen food: 7%</li>
                        <li>other: 9%</li>
                      </ul>
                    </li>
                    <li>According to the same study, the reasons given by consumers for throwing away these still
                    edible food items are: concerns about food expiration / edibility after storage (58% of cases), too
                    large portion sizes (21%), bad amount selection at the time of purchase (12%). It can be assumed
                    that, in the majority of cases where consumers were concerned about edibility of edible (!) food
                    after storage, and expired best-before date raised these concerns. When throwing away for example
                    rotten vegetables, it is not counted in this statistic. In a minority of cases, consumers might
                    wrongly assess a food item to be inedible, while in fact it is. For both sources of the edibility
                    concern, better information can help.</li>
                    <li>With this information and the 40% of food wastage happening in households (also referred in
                    that study), we can calculate the possible maximum impact of an app that properly informs about
                    food expiry, which currently causes 58% of food wastage in private homes: 40% × 58% = 23.2% of all
                    food waste in Germany could be avoided.</li>
                    <li>Later, the app can also help with tips for proper amount planning for cooking and shopping, and
                    for food preservation when too large amounts are around. That would solve the two other main
                    reasons consumers give for wasting edible food, causing 21% and 12% of food waste, respectively.
                    Altogether, that could save up to 40% × (58% + 21% + 12%) = 40% × 91% = 36.4% of all food waste in
                    Germany.</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <h3>Plan</h3>
              <ul>
                <li>Official milestones
                  <ul>
                    <li><b>(M1) Definition of requirements.</b> In the beginning, it will be decided which information
                    about the storage life of food should be provided via the mobile application. That depends on the
                    practical relevance of the information, on consumer protection regulations and on the details of
                    the cooperation with Open Food Facts.</li>
                    <li><b>(M2) Data structure agreement with Open Food Facts.</b> Since the collected data on the
                    storage life of food should be contributed to the Open Food Facts database, a suitable data
                    structure is agreed on with the Open Food Facts core team. From what we discussed so far, the core
                    team is generally open to this type of data, but details still need to be discussed and
                    agreed.</li>
                    <li><b>(M3) Implementation of the software.</b> The planned program functions are first implemented
                    in a copy ("fork") of the Open Food Facts codebase. We will repeatedly seek the opinions of
                    developers from the Open Food Facts team to facilitate the later integration of our code.</li>
                    <li><b>(M4) Data research.</b> In addition to the implementation of the software, we collect easily
                    available data on the storage life of food items. These should relate to food items that are in
                    widespread use, in order to give the application a high practical value right from the start.</li>
                    <li><b>(M5) Integration of the software.</b> We contribute our code extensions to the official Open
                    Food Facts Android application, their server software and potentially their web frontend.</li>
                    <li><b>(M6) Data entry.</b> All collected data is now added to the database via the official Open
                    Food Facts application. It will be possible to contribute data in multiple languages ​​(including
                    German). The initial data entry within the scope of this project will not necessarily consist of
                    only data in German, since Open Food Facts is a worldwide project with English and French as its
                    main languages.</li>
                    <li><b>(M7) Implementation for iOS (optional).</b> If there is still time available, the same
                    software functions will also be implemented for the Open Food Facts application for Apple iOS
                    devices.</li>
                  </ul>
                </li>
                <li>Timeline
                  <ul>
                    <li>
                      <del>2020-03-01:&nbsp;Project start.</del>
                    </li>
                    <li>
                      <del>2020-03-15:&nbsp;Website launch.</del>
                    </li>
                    <li>
                      <del>2020-03-17:&nbsp;Meeting with Open Food Facts in Paris. #discarded</del>
                    </li>
                    <li>2020-04-15:&nbsp;Agreement on all data formats and the API with Open Food Facts.</li>
                    <li>2020-04-25:&nbsp;User interface defined.</li>
                    <li>2020-05-25:&nbsp;Test 1.</li>
                    <li>2020-05-15:&nbsp;Test 2: the first, internal test of the software.</li>
                    <li>2020-06-01:&nbsp;Test 3: Alpha release available for testing.</li>
                    <li>2020-07-15:&nbsp;Test 4: Release Candidate 1 available for testing.</li>
                    <li>2020-08-01:&nbsp;Test 5: Release as part of the official Open Food Facts app.</li>
                    <li>2020-08-21:&nbsp;First filling with data and text completed.</li>
                    <li>2020-08-28:&nbsp;Texts of the first filling also available in English.</li>
                    <li>2020-08-30:&nbsp;Final test before the Demo Day.</li>
                    <li>2020-08-31:&nbsp;Demo day.</li>
                  </ul>
                </li>
                <li>Target Group
                  <ul>
                    <li>The beneficiaries of the project include everyone who prepares food in private households and
                    would be willing to use a mobile device ("smartphone" or "tablet") - in other words, all citizens
                    who already use such a device regularly and in a variety of ways.</li>
                    <li>In order to reach this group, the project is being implemented in cooperation with the Open
                    Food Facts community. This is the world's largest open data community in the food sector and
                    consists mainly of consumers. The central tool of this community is a free and open source Android
                    application that has been installed more than 500 000 times. By integrating the software functions
                    developed in this project there, all these users automatically receive these functions with the
                    next update of their Android applications. It can be expected that many users of this application
                    will discover the new functions during normal use of the application, since this functionality is
                    visible immediately after barcode scanning on food packaging (which is the main function of the
                    application). It has to be noted that, while this is the plan, we might discover during the project
                    that our envisaged data are not compatible with the conventions and expectations of the Open Food
                    Facts developers, in which case the software functions would become part of a third-party mobile
                    application that belongs to the Open Food Facts ecosystem.</li>
                  </ul>
                </li>
                <li>Added value
                  <ul>
                    <li>When and why do people use our product?
                      <ul>
                        <li>When they want to rescue / eat expired food items but are unsure how.</li>
                      </ul>
                    </li>
                    <li>Why is our product important for society?
                      <ul>
                        <li>Reducing food waste is a contribution to environmental and climate protection and fairness
                        of resource ditribution.</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>User lens
                  <ul>
                    <li>What user groups did we reach? And how many users do we have?&nbsp;
                      <ul>
                        <li>existing Open Food Facts app users: 5000 at the end of the grant support period, ≥100 000
                        at some time later due to updates of the Open Food Facts app</li>
                        <li>new Open Food Facts app users: 500 at the end of the grant support period</li>
                      </ul>
                    </li>
                    <li>How and where do we find our users?&nbsp;
                      <ul>
                        <li>Updates of the Open Food Facts app.</li>
                        <li>Medium-term web publicity by means of high-quality articles about rescuing food that then
                        generate organic traffic for finding the app.</li>
                        <li>Reviews on food blogs, recipe websites etc..</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Team lens
                  <ul>
                    <li>What is needed for the project to live on after the end of the grant support? Which partners,
                    contributors and team members do we have to find for that?
                      <ul>
                        <li>The maintenance of the contributed code will be ensured by the core team of the Open Food
                        Facts project. Open Food Facts requires donations, contracts from public bodies etc. for
                        continuously funding its operations. Contributions of article content about food expiry, and
                        the translation of these articles, would ideally happen by the users of the app, but this can
                        be as difficult as Wikipedia finding authors. So ideally there would enough funding to keep one
                        author writing these articles.</li>
                      </ul>
                    </li>
                    <li>How do we achieve this?
                      <ul>
                        <li>Translation tasks can be made more efficient by using automatic translation tools and then
                        editing the results. Also, a small crowdfunding feature could be integrated into the app to
                        enable funding for the expansion of certain articles. With some funding but not enough to pay
                        an author permanently, writing sprints for active volunteer authors from the community could be
                        organized, in the form of attractive real-life events.</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Tech lens
                  <ul>
                    <li>What core features and functionality did we develop?&nbsp;
                      <ul>
                        <li>Showing the expiry period in the product facts when viewing a product in the Open Food
                        Facts app, and support for entering them using the app.</li>
                        <li>The tab "Shelf Life" in the Open Food Facts app.</li>
                        <li>A shelf life label providing summary information in the overview mode for a product viewed
                        in the Open Food Facts app.</li>
                        <li>A web interface for the above information, on the Open Food Facts website.</li>
                      </ul>
                    </li>
                    <li>What are the most important steps on the way there?&nbsp;
                      <ul>
                        <li>Defining the type and format of the data in collaboration with Open Food Facts.</li>
                        <li>Implementation.</li>
                        <li>Release of the code as part of the upstream application "Open Food Facts for Android".</li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <h2>Features</h2>
          <ul>
            <li>
              <i>About</i>
              <ul>
                <li>A list of all accepted and proposed features of the Food Rescue App project. Features that deserve
                more detailed discussion or planning are additionally linked to their own subnode.</li>
                <li>Features should only be described functionally, from a user perspective, yet without details about
                how they would be implemented.</li>
              </ul>
            </li>
            <li>
              <h3>Done</h3>
              <ul>
                <li>Offline use for the mobile app.
                  <ul>
                    <li>The mobile app should work completely offline. For that, all data would be provided as a SQLite
                    database bundled with the app.</li>
                    <li>Content of the bundled SQLite database:
                      <ul>
                        <li><b>Food rescue knowledge items.</b> Each with literature references, translations in other
                        columns, the area that the knowledge item belongs to, and the food categories to which they are
                        applicable.</li>
                        <li><b>Literature references.</b> The works of literature referenced in the knowledge items.
                        Literature references would include the full quote, but that would not be included into the
                        published version of the SQLite databases because it is copyrighted content.</li>
                        <li><b>Translation of barcodes to food categories.</b> References would be made to the most
                        specific categories, which are then connected to more generic ones with a hierarchy.</li>
                        <li><b>Food categories hierarchy.</b></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Referencing authoritative sources.
                  <ul>
                    <li>For the per-category information articles about edibility, storage and waste salvaging, Open
                    Food Facts will require the information contained there to have "fact status". A simple and proven
                    way to achieve that would be to apply the Wikipedia authoring standards about use of authoritative
                    sources, neutral tone etc.. Because both kinds of texts are about established facts, and not about
                    opinions, original research and the like.</li>
                  </ul>
                </li>
                <li>Food rescue content source formats.
                  <ul>
                    <li>Asciidoctor #accepted
                      <ul>
                        <li>Asciidoctor is a perfect choice for a nice-to-edit markup syntax because it is designed as
                        "DocBook written as plain text". DocBook is the markup in the Food Rescue App <a href=
                        "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=g1cISg36-2RIPnlZERx_2ktZ">native format</a>,
                        and since the Asciidoctor tool (1) is a Ruby gem and (2) can convert Asciidoctor text to
                        DocBook, all of the development work for conversion is already done.
                        </li>
                        <li>
                          <a href="https://asciidoctor.org/docs/asciidoc-syntax-quick-reference/">Asciidoctor
                          syntax</a> is chosen over the original AsciiDoc syntax because it is a more modern,
                          compatible superset and the de-facto standard as of 2019 (<a href=
                          "https://www.heise.de/forum/p-33735305">see</a>). It includes some <a href=
                          "https://asciidoctor.org/docs/asciidoc-syntax-quick-reference/#markdown-compatibility">Markdown
                          compatibility syntax</a>, which would be used as the default in the project.
                        </li>
                        <li>The Asciidoctor files would be named `.adoc` and managed directly in Git.</li>
                      </ul>
                    </li>
                    <li>CSV+Asciidoctor #accepted
                      <ul>
                        <li>
                          <b>Reasons for CSV.</b>
                          <ul>
                            <li>By using CSV format, way, non-developers can contribute content with a reasonably
                            comfortable editing workflow. For local editing, they would check out the CSV file from
                            Git, edit, commit to Git using the Github web interface. For online editing, they would
                            just edit an <a href="https://www.obvibase.com/">Obvibase</a> online database, which is
                            even more comfortable, allowing many occasional collaborators.
                            </li>
                            <li>CSV is already heavily used as the source format for Open Food Facts products, so it
                            fits well into the ecosystem.</li>
                            <li>The only multi-value field in food rescue content topics are the Open Food Facts
                            categories, and these can be encoded as one category per line in a multiline field
                            value.</li>
                          </ul>
                        </li>
                        <li>
                          <b>Reasons for Asciidoctor.</b> (For use in the main content CSV column, which is the only
                          field needing any formatting.)
                          <ul>
                            <li>It is used as the DocBook compatible source format in this application already
                              (<a href="https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=-7a2SWY6R-NnSjYmKDVJF4lm">see</a>),
                              so also using it inside CSV is natural.
                            </li>
                            <li>To allow people to choose an editor they like, formatting should be done using a
                            text-based markup language, rather than relying on any limited visual formatting that some
                            CSV / data table editor tools might support.</li>
                          </ul>
                        </li>
                        <li>
                          <a href="https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=_wiwIJFy_l9n2Xy_RPxEk7u3">format
                          documentation</a>
                        </li>
                      </ul>
                    </li>
                    <li>BibTeX #accepted
                      <ul>
                        <li>A widespread format for literature databases.</li>
                        <li>Used because it is the native format of <a href=
                        "https://github.com/asciidoctor/asciidoctor-bibtex">asciidoctor-bibtex</a>, the literature
                        management solution for Asciidoctor.
                        </li>
                      </ul>
                    </li>
                    <li>third-party content formats #accepted
                      <ul>
                        <li>For imported content, for example from <a href=
                        "https://www.foodsafety.gov/keep-food-safe/foodkeeper-app">FoodKeeper App</a>, no format can be
                        enforced. Instead, import scripts would be developed to automatically import these source
                        formats to the food rescue content database.
                        </li>
                      </ul>
                    </li>
                    <li>CSV+Markdown #discarded
                      <ul>
                        <li>The only field needing formatting would be the main content field, and Markdown is an
                        obvious candidate because of its popularity.</li>
                        <li>However, Markdown has several limitations that make it not a good choice for technical
                        writing. See: <a href="https://mister-gold.pro/posts/en/asciidoc-vs-markdown/">Stop Using
                        Markdown For Documentation</a>.
                        </li>
                        <li>One of the limitations of Markdown is that a custom format would have to be defined for the
                        literature references embedded in the text. Example: "<a href=
                        "https://asciidoctor.org/docs/asciidoc-syntax-quick-reference/#bibliography">[USDA+1],
                        pp.3-4]". In contrast, AsciiDoc / Asciidoctor already has [a syntax for bibliograpy
                        references</a>.
                        </li>
                        <li>Also, there is no tool for direct conversion of Markdown to DocBook. So either this had to
                        be developed for this project, or one would first use <a href=
                        "https://github.com/asciidoctor/kramdown-asciidoc">kramdown-asciidoc</a> to convert to AsciiDoc
                        and then <a href="https://github.com/asciidoctor/asciidoctor">Asciidoctor</a> to convert to
                        DocBook. But if so, why not write the source content in AsciiDoc / Asciidoctor format directly.
                        </li>
                      </ul>
                    </li>
                    <li>DocBook XML #discarded
                      <ul>
                        <li>DocBook is used as the Food Rescue App <a href=
                        "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=g1cISg36-2RIPnlZERx_2ktZ">native format</a>,
                        so writing in DocBook seems an obvious choice.
                        </li>
                        <li>However, writing in DocBook is too technical for many potential contributors, and "not
                        nice" to edit for everyone. So the equivalent, plain text markup language Asciidoctor is chosen
                        instead.</li>
                      </ul>
                    </li>
                    <li>DocBook XML bibliographies #discarded
                      <ul>
                        <li>Discarded after moving to Asciidoctor as the DocBook compatible source format, for which
                        <a href="https://github.com/asciidoctor/asciidoctor-bibtex">asciidoctor-bibtex</a> is the
                        bibliography management solution an BibTeX the format.
                        </li>
                        <li>Since bibliography entries have many fields, semantic markup makes sense here even if
                        DocBook Topics are never used for data entry.</li>
                        <li>Standard DocBook tools can be used to transform the raw bibliography to a rendered version
                        that can be included into the SQLite3 database.</li>
                        <li>This also makes it easy to generate PDF and EPUB versions later, as the bibliography is in
                        the right format already.</li>
                      </ul>
                    </li>
                    <li>DITA XML #discarded
                      <ul>
                        <li>DITA is a XML format for writing technical documentation. But compared to DocBook, it has
                        two drawbacks: (1) its <a href=
                        "https://www.xmlmind.com/tutorials/DocBookAssemblies/index.html#why_docbook">unnecessary
                        complexity</a>, a tribute to its origins in big business (IBM) rather than the open source
                        scene; (2) its lack of elements so that it often has to be extended (<a href=
                        "https://www.xmlmind.com/tutorials/DocBookAssemblies/index.html#why_docbook">see</a>).
                        </li>
                      </ul>
                    </li>
                    <li>TEI P5 XML with extensions #discarded
                      <ul>
                        <li>TEI is the most widespread standard for semantic text encoding in academia (<a href=
                        "https://teibyexample.com/examples/TBED00v00.htm?target=ex05_p5#ex05_p5">example</a>). All
                        knowledge items would be put into one single TEI XML document, like a book. Own additional XML
                        elements will be used where needed, esp. to include machine readable knowledge representation
                        etc..
                        </li>
                        <li>The problem is the unnecessary complexity of this format – a tribute to its origins in
                        academia rather than the open source scene. But it would provide what is needed, including rich
                        ways to describe citations and the bibliography. (<a href=
                        "https://tei-c.org/release/doc/tei-p5-doc/en/html/examples-bibl.html">overview</a>). This
                        includes <a href=
                        "https://tei-c.org/release/doc/tei-p5-doc/en/html/ref-citedRange.html">referencing cited
                        pages</a>.
                        </li>
                      </ul>
                    </li>
                    <li>LibreOffice Calc spreadsheets #discarded
                      <ul>
                        <li>The improvement of using this format over CSV would be some limited visual text formatting
                        (bold, underline, colors, hyperlinks) and visual table formatting of headers etc.. However,
                        this is not worth it, as it's a messy format not meant for data storage. The visual formatting
                        can still be used after running a custom CSV-to-ODS import script.</li>
                        <li>For proper management with Git, use the `.fods` Flat XML format rather than `.ods`
                          (<a href="https://superuser.com/a/1264392">see</a>). For later collaborative authoring of
                          this document, use an online installation of Collabora Office.
                        </li>
                      </ul>
                    </li>
                    <li>LibreOffice Writer (with custom styles) #discarded
                      <ul>
                        <li>The styles would have to be basic, using Markdown compatible formatting for data entry.
                        Each knowledge item would use literature references and be tagged with Open Food Facts
                        categories and knowledge item categories.</li>
                        <li>The advantage is that this approach also directly allows creating books and e-book
                        documents for use outside the Open Food Facts software. Just that the structure in this book
                        would follow the categories used by Open Food Facts.</li>
                        <li>For proper management with Git, use the .fodt format rather than .odt (<a href=
                        "https://superuser.com/a/1264392">see</a>). For later collaborative authoring of this document,
                        use an online installation of Collabora Office.
                        </li>
                        <li><b>Problem:</b> transforming from the messy LibreOffice XML format to something clean. So
                        why not write directly in that clean format, such as DocBook XML.</li>
                      </ul>
                    </li>
                    <li>YAML+Markdown / JSON+Markdown #discarded
                      <ul>
                        <li>The idea is to use documents in an object storage format like YAML+Markdown (with a YAML
                        Schema) or JSON+Markdown (with a JSON Schema). This would be directly managed in Git.</li>
                        <li><b>Problem:</b> one would have to introduce a custom syntax and parser for literature
                        references. Also, editing is not visually comfortable and also requires adherence to a strict
                        text format, and thus not much better than editing XML source.</li>
                      </ul>
                    </li>
                    <li>Open Food Facts wiki #discarded
                      <ul>
                        <li>This would use the <a href="https://en.wiki.openfoodfacts.org/">OFF wiki</a> as a web
                        browsable and web editable version of the knowledge base ("Wikipedia style"). From there, the
                        content would be automatically and regularly taken over into the Open Food Facts database,
                        stored into a field of "categories" records.
                        </li>
                        <li>The information would be stored in a separate namespace ("FoodRescue:" or Storage:" or
                        "Edibility:"). In there, there would be one page for each category, and one sub-page for each
                        sub-category.</li>
                        <li>At least at some time in the past, there was a system in place by which translations of
                        nutrient names were managed in a code block of a wiki page, then used on the openfoodfacts.org
                        website. See:<br>
                        https://en.wiki.openfoodfacts.org/Translations_-_Names_of_nutrients<br>
                        https://en.wiki.openfoodfacts.org/Translations_-_Index_page_-_Danish<br>
                        https://en.wiki.openfoodfacts.org/index.php?title=Special:AllPages&amp;from=Reuses+of+Open+Food+Facts</li>
                        <li>For the German versions of the content, it would be possible to have a deicated German wiki
                        set up. But it might be better to provide translations as sections of the same wiki page. Or as
                        sub-pages, with the main page being the English one. So the URLs would be, for example:<br>
                          https://en.wiki.openfoodfacts.org/Alcohol/Wine for the English version<br>
                          https://en.wiki.openfoodfacts.org/Alcohol/Wine/de for the German version<br>
                          See relevant source materials in the subnodes.
                          <ul>
                            <li>@teolemon: "We have a French wiki, but we try and use the English one. so that we can
                            share as much info without the barrier of language."
                            (https://openfoodfacts.slack.com/archives/C02LKEZ9R/p1441975857000011)</li>
                            <li>@stephane: "@teolemon suggested, it is probably best to use
                            http://en.wiki.openfoodfacts.org for the time being. We have a French wiki
                            http://fr.wiki.openfoodfacts.org but it is mostly not used now. You can create pages in
                            Spanish on the en.wiki"
                            (https://openfoodfacts.slack.com/archives/C02LKEZ9R/p1442927234000027)</li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Food rescue content native format.
                  <ul>
                    <li>The native file format of the Food Rescue App is a SQLite3 database with a specific table
                    structure. The main food rescue content field contains DocBook XML semantic markup, while all other
                    fields are not sub-structured. To render the food rescue content to screen, applications have to be
                    able to parse and transform a subset of DocBook 5.1 XML.</li>
                    <li>DocBook is a project that emerged for the documentation of open source software, so it is not
                    overengineered and has a reasonable complexity (<a href=
                    "https://www.xmlmind.com/tutorials/DocBookAssemblies/index.html#why_docbook">see</a>). It is also
                    very widespread in open source projects, making it a good choice in yet another open source
                    project. It is also supported out-of-the-box by XMLmind XML Editor. Also, in version 5.1 it
                    supports all necessary features: <a href=
                    "https://www.xmlmind.com/tutorials/DocBookAssemblies/">topics</a>, citations <a href=
                    "https://lists.oasis-open.org/archives/docbook-apps/200808/msg00028.html">with page numbers</a>,
                    bibliography etc.. Finally, it's perfect for generating PDF, EPUB and HTML versions of the food
                    rescue content with the usual DocBook tools.
                    </li>
                    <li>SQLite3 being the native format means that the first step is converting source content into it:
                    content is authored in various source formats by project collaborators and third parties
                      (<a href="https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=cQQFY0TDBNpOWqorLN2s8VvO">see</a>) and
                      a script then imports all source files into a SQLite3 database.
                    </li>
                    <li>SQLite3 being the native format also means that this format is used as the basis for all
                    further processing and conversion steps, including: (1) export to other formats, such as DocBook,
                    (2) live usage in software applications, (3) distribution for live usage in software applications,
                    (4) data analytics and sanity checks. For that, the SQLite3 format must contain all relevant source
                    data, without losing any semantics of source data. For example, saving pre-rendered bibliography
                    entries to the database is not enough.</li>
                    <li>An alternative would be to store Asciidoctor formatted text in the database rather than DocBook
                    XML. However, that's not a good idea as DocBook XML is a simpler to parse equivalent. Also, there
                    is no native Java or C++ implementation of the Asciidoctor format (though something via JRuby is
                    available). Anyway, Asciidoctor is clearly meant as a source format, not a presentation
                    format.</li>
                  </ul>
                </li>
                <li>Food rescue, storage, preservation and salvaging information per category.
                  <ul>
                    <li><b>Topics as unit of knowledge.</b> One unit of knowledge written and stored as a whole and
                    attached to the same set of categories is called a "topic" here and in the software.</li>
                    <li>
                      <b>Additional columns for structured data in a semantic form.</b> Most topics will consist of
                      information in natural language text. Some relevant data is however applicable to all categories
                      of food and can and should be given in a semantic form rather than as plain text, enabling
                      further automatic processing to calculate and show badges, labels, danger levels etc.. This
                      information should be provided in dedicated database columns, including:
                      <ul>
                        <li>danger of food poisoning (unnoticeable toxic changes over time)</li>
                        <li>storage duration under various conditions</li>
                        <li>average storage life of food items in the same category</li>
                      </ul>
                    </li>
                    <li>
                      <b>Attaching to categories.</b> Open Food Facts has detailed categories of products already, and
                      they are applied like tags: each product can be in any number of categories. By attaching the
                      expiry information to these categories, it will be simple to provide all food items with relevant
                      expiry-related information.<br>
                      The most important categories of food to focus on are, in this order: fruits, bread, vegetables,
                      cheese, yoghurt, milk, eggs. This is from <a href=
                      "https://www.researchgate.net/publication/273137546">a study about food waste on the household
                      level</a> (<a href="https://www.researchgate.net/figure/a_fig2_273137546">figure 1</a>).
                    </li>
                    <li><b>Rendering topics as bullet points.</b> In general, topics will be short and very specific,
                    rendered as a bullet point with a line header in bold, as also seen in this very document. The
                    DocBook Topic title is the line header, the content is the bullet item text. It is ok to have even
                    20 topics per section, for example "Pantry storage", "Fridge storage", "Freezer storage" etc.. If a
                    topic becomes too complex to be rendered like that, then its abstract will be rendered like that,
                    and its title linked to a separate document that renders only this topic.</li>
                    <li><b>Specific to general.</b> Attaching the information to both specific and general categories
                    allows to write about the most general methods ("smell and taste") in the most general categories
                    of food items, and that information will then be displayed along more specific information (if
                    available). The app would show the most specific content first, then moving to content from the
                    more and more general categories. This way, a user can stop reading when encountering information
                    that they have seen before.</li>
                    <li><b>Detail levels.</b> This information should come in multiple levels of detail, from a
                    one-glance label that indicates if a food item's storage life is "problematic" or not, to
                    summaries, to all the details incl. references to journal articles etc..</li>
                    <li>
                      <b>Unproven content.</b> To be able to show content that is not authoritative and potentially
                      dangerous, there should be a special inline tag, rendered with an orange background or similar.
                      People would be able to configure the app to also show this content after confirming they
                      unerstand the risks. This can be implemented using the DocBook <a href=
                      "http://www.sagehill.net/docbookxsl/Profiling.html">profiling attributes</a> for conditional
                      text. Possibly, people would only be shown the unproven content after successfully going through
                      a course and test that proves they understand all the basics of food safety. That could be an
                      online course in the browser at the end of which they get a key to unlock this content in the
                      app.
                    </li>
                    <li><b>Rendering with placeholders.</b> Knowledge items should be rendered using the generic name
                    of food items in the associated category. So, they would mention "cheeses" in the rendering even if
                    the knowledge item is applicable to more categories, by using a simple system with placeholders.
                    That makes the texts more readable without redundant storage.</li>
                    <li><b>Traditional knowledge.</b> There is no need to limit food rescue information to what is
                    known in and applicable for highly industrialized countries. Instead, also include traditional
                    knowledge from interviews with skilled cooks and farmers from all over the world. This is quite
                    simple to do – just hire somebody from a developing country on Fiverr to ask their parents and
                    grandparents for their knowledge about food storage and preservation.</li>
                    <li>
                      <b>Content sections.</b> Knowledge items with food rescue information would, in addition to food
                      categories, be tagged by the content sections they are meant to appear in. When rendering the
                      knowledge items, they are aggregated not by category but by content section and sorted "most
                      specific to most general" within these. Each knowledge item is then rendered as a bullet point.
                      Proposed content sections to show, in order and with the corresponding value for use inside the
                      database, CSV files etc.:
                      <ul>
                        <li>
                          <b>Risks and caveats (`risks`).</b> A risk assessment in case of making mistakes during the
                          edibility assessment, and an assessment of how simple or difficult the assessment of a
                          certain category of food is. This (risk and simplicity) should be displayed in a
                          fast-to-understand way, using a kind of self-defined categorization scheme. The idea is that
                          the "risk-free and easy" cases should be encouraging for new users to try, to then work their
                          way up to the others over time. Also including information about special dangers for small
                          children, elderly people or pregnant people or other groups in case of eating spoiled food
                          items. Because that seems to be a concerns of many consumers (inspiration <a href=
                          "https://www.welt.de/200208000#/comment/5d7a69f352faff00019e6bdf">here</a>).
                        </li>
                        <li>
                          <b>Edibility assessment (`assessment`).</b> Instructions to assess the edibility of food
                          items. Including how to detect edibility / toxicity issues with non-expired food items, for
                          example the problem about mould inside hazelnut kernels and inside pistachio, and the dangers
                          posed by that. Or the danger of ergot in grain, as the app should also be good for gardeners.
                          (One idea for presentation could be to use flowcharts rendered from a definition in
                          pseudocode – <a href="https://github.com/ochko/markdoc">see</a>.)
                        </li>
                        <li><b>Symptoms and causes (`symptoms`).</b> When people know already how to estimate the
                        edibility of the item at hand but detect a change that they don't know how to deal with, then
                        this section is for them. It lists symptoms in a compact way, with pictures, and then the
                        causes and their edibility impact after clicking on the symptom. Example symptoms: the proteine
                        crystallization on capers, the white bloom on chocolate, moulds of different types, spots on
                        walnut kernels etc.. Should also include all kinds of plant diseases and imperfections that
                        occur during growth.</li>
                        <li>
                          <b>Rescuing spoiled and damaged food (`post_spoilage`).</b> Instructions for how to rescue
                          half-spoiled food, or food that has spoiled but where that does not make consumption
                          dangerous. Spoiled food may include food contaminated with dirt and germs after falling down.
                          Examples:
                          <ul>
                            <li>How to prepare potatoes with sprouts safely.</li>
                            <li>How to use soured milk.</li>
                            <li>How to use overripe fruit for alcoholic fermentation.</li>
                            <li>How to remove mold where that is safely possible (bread, hard cheeses, jam etc.).</li>
                            <li>How to boil some types of potentially spoiled food to make it safe to eat.</li>
                            <li>How to clean different types of food after it fell down or otherwise became dirty. For
                            example, pieces of chocolate may be cleaned under running warm water so that some chocolate
                            melts away and takes the dirt with it.</li>
                            <li>How to assess, treat and use food after fridge or freezer had been defunct for a
                            certain time.</li>
                          </ul>
                        </li>
                        <li>
                          <b>Donation options (`donation_options`).</b> Suitable ways to donate this food item,
                          selected from the closest drop-off locations that accept this type of food item (depending on
                          if it requires refrigerated or frozen storage). See the related feature about <a href=
                          "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=-s0TeSct2AsbV6iN_l3Wr1dA">donating surplus
                          food</a>.
                        </li>
                        <li><b>Edible parts (`edible_parts`).</b> Information about what parts of food items are edible
                        and not. For example, cherry kernels are toxic, while the stalk of broccoli is edible.
                        Including information about how to prepare usually non-eaten but edible parts of food items.
                        For example, the core of broccoli stalks can be eaten raw and tastes like celery.</li>
                        <li>
                          <b>Cleaning out packaging, and cleaning pots and plates (`residual_food`).</b> Residual waste
                          in food packaging is another food waste problem, and optimizing package designs for better
                          clean-out <a href="https://www.refed.com/solutions/packaging-adjustments/">is supposed to</a>
                          have a very good ROI. Before that happens, tips that show customers how to clean packages
                          would achieve the same goal. For example "shake empty honey jar with warm milk". In addition,
                          some tips would be given how to clean out pots and plates, such as wiping clean with bread.
                        </li>
                        <li><b>Pantry storage (`pantry_storage`).</b> Informing consumers about the right storage
                        conditions and expectable storage time is also an important method to avoid food waste. This
                        section would give rough estimates about storage duration in various standardized storage
                        conditions (warm and humid, warm and dry, cool, and in the other sections about fridge and
                        freezer storage etc.). It is important to include all general storage conditions encountered
                        globally, including tropical and desert conditions and instructions also for people without a
                        fridge, without a freezer and under unfavourable climatic conditions (hot and humid, mostly).
                        Also, this section would include instructions about how to store a food item, here in the
                        pantry. Detailed instructions can often be given as a link to an article on the web.</li>
                        <li><b>Refrigerator storage (`refrigerator_storage`).</b> Like section "Pantry storage", but
                        about fridge storage. For example, how and where to store various vegetables and fruits in the
                        fridge. And how long seafood, raw meat prepared meals and other perishable items are storable
                        in the fridge under what conditions. Basically, how does storage time combined with temperature
                        ("degree hours") affect the storage duration of food items that need cold storage.</li>
                        <li><b>Freezer storage (`freezer_storage`).</b> Like section "Pantry storage", but about
                        freezer storage.</li>
                        <li>
                          <b>Other storage types (`other_storage`).</b> Like section "Pantry storage", but about
                          storage options beyond pantry, fridge and freezer that do not deserve an own section each
                          because few products will have information here. It includes, among other:
                          <ul>
                            <li><b>Storage in the root cellar.</b> Using the "dig into the sand" method or
                            similar.</li>
                            <li><b>Storage of preparations.</b> This is relevant for all leftovers of meals in the
                            household, and for other cases like: storing eggs after boiling, storing the egg yolks or
                            whites after using the other parts, storing meat after cooking, storing raw milk after
                            boiling etc..</li>
                            <li><b>Storage of large amounts.</b> Commercial traders might also use the app. For them,
                            extra tips for storing and handling large amounts of food would help.</li>
                          </ul>
                        </li>
                        <li><b>Preservation instructions (`preservation`).</b> Storage instructions exclude special
                        shelf life extension treatments, but this is documented here now. Including techniques for
                        freezing and canning, giving links to detailed instructions and recipes where adequate. In many
                        cases, preservation instructions can be given as a link to an article from the web, plus a
                        summary. For cases where food safety is critical (such as for pressure canning, meat canning
                        etc.), the article should come from a trusted / authoritative source.</li>
                        <li><b>Preparation instructions (`preparation`).</b> Instructions for cooking and other
                        preparation means that are relevant for food safety. Such as safe minimum temperatures etc..
                        This is not about recipes.</li>
                        <li>
                          <b>Reuse and recycling ideas (`reuse_and_recycling`).</b> Even when food was spoiled,
                          throwing it away is not necessarily the only option. The same applies to inedible parts of
                          food items, spent coffee grounds etc.. This section informs about potential uses. Any
                          additional use before ultimately throwing away something is waste avoidance and resource
                          protection. Examples include:
                          <ul>
                            <li>recipes to use residues from juicing</li>
                            <li>using spent lemon halves for washing dishes (avoiding detergent)</li>
                            <li>using coffee grounds as fertilizer</li>
                            <li>home-composting all kitchen scraps and food waste</li>
                            <li>food waste burial as an alternative to composting</li>
                            <li>burning nut shells and many other kinds of kitchen scraps (except bones and meat) in a
                            wood stove</li>
                            <li>home-growing fruits and vegetables as a way of full-circle waste utilization</li>
                            <li>biogas production for cooking from kitchen wastes, and using the remainder as compost
                            tea (will only be used in low-infrastructure areas, but the app is just as well meant for
                            these areas)</li>
                            <li>ways to recycle the nutrients contained in feces and urine (as links to web articles;
                            this will only be applicable to some areas, but for these some areas a composting toilet or
                            urine as nitrogen fertilizer can be very helpful)</li>
                          </ul>
                        </li>
                        <li>
                          <b>Production waste (`production_waste`).</b> A lot of food waste is implied in the
                          production of food, for example when feeding 10 kg corn and soy to cattle to produce 1 kg of
                          meat. Information would be given as a 95% CI range with a typical value for the category;
                          such data is available from scientific studies. Where it can be estimated more exactly, as a
                          smaller range or exact value would be given for a specific product. Ways to determine the
                          value more exactly are for example the origin of beef (which allows to include the typical
                          feed there, e.g. grass on marginal land vs. soy), certification of meat (free-range cattle
                          for example), origin of almonds (to know if they required irrigation) etc.. There would also
                          be an option for "I grew this myself with homemade compost", which would be the only one that
                          creates no waste. Information that can be included here to combat upstream food waste:
                          <ul>
                            <li>how much food is consumed to produce a given food item</li>
                            <li>how much water and energy is consumed to prouce a given food item</li>
                            <li>greenhouse gases emitted to produce a given food item</li>
                            <li>food items that can serve as alternatives with less upstrem waste, and links to recipes
                            for using them</li>
                          </ul>
                        </li>
                        <li><b>Packaging waste (`packaging waste`).</b> Information about the degree of harmfulness and
                        wastefulness of the packaging materials, and ways to reduce that. For example, reuse and
                        upcycling ideas for packaging material, including for beverage cartons etc.. And telling people
                        when the packaging is especially harmful because it protects a product much more than needed;
                        best example, bottled water compared to drinking water from the pipeline supplied to everyone's
                        house. That tip would only be presented when the system can be sure that the piped water is
                        potable – for that, the user would choose their region in the app settings.</li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <h3>Now</h3>
              <ul>
                <li>
                  <i>About</i>
                  <ul>
                    <li>Essential features to implement until 2020-08-31. Roughly in order of implementation.</li>
                  </ul>
                </li>
                <li>Standalone mobile app.
                  <ul>
                    <li>The app should be a standalone app (not part of the Open Food Facts Android app), because it
                    should be able to work offline, and that can be argued for data privacy reasons of not collecting
                    IP addresses.</li>
                    <li>Implementation technology
                      <ul>
                        <li>
                          <b>Proposal: (best one so far)</b> Create a small standalone app in C++, using Qt for
                          Android, incl. QML for the user interface. That way I can learn both C++ and Qt5, which will
                          help me with developing desktop applications under Linux. The problem might be how to use the
                          HeartDroid expert system when developing the app in C++. For more details see the feature
                          proposal for a <a href=
                          "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=zITgvLfrytJuA_b7-76ORAFu">cross-platform
                          app</a>.
                        </li>
                        <li><b>Proposal:</b> Implement this app as another build variant of the Open Food Facts Android
                        app. This way, taking over selected features into the official Open Food Facts app is simple as
                        no code from that app has been removed – just hidden in a way so it did not get included into
                        the build. For example, taking over the online query mode but not the offline data storage into
                        the official Open Food Facts app is simply by changing in the code what happens in which build
                        variant.</li>
                        <li><b>Proposal:</b> Base it on a stripped-down version of the OFF Android app. That should
                        simplify later integration with their app, as the naming, folder structure etc. will already be
                        compatible. Also, be keeping the code and data structures for querying the Open Food Facts
                        server, the app is prepared for the future feature of including other information (packaging,
                        nutrients, ingredients) into the edibility evaluation.</li>
                        <li><b>Proposal:</b> It should be written in Java and come with a small self-made Java library
                        to render content obtained from the SQLite database. With that library, similar functionality
                        can be added to the official Open Food Facts app if they are open to it, or included into their
                        API responses otherwise.</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Card-style display of food rescue information.
                  <ul>
                    <li>This is esp. suitable for the app format where there is little screen space available and one
                    needs big buttons and not small hyperlinks for comfortable interaction.</li>
                    <li>The food rescue content for one product would be structured by (1) headings for the different
                    <a href="https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=ZYsoIiZKiCqqvdw_JZC4f7fV">content
                    sections</a>, (2) multiple cards in each content section, each displaying summary information for
                    one food rescue topic, (3) full details of the food rescue topic incl. literature, error spotting
                    information etc. after clicking on a card.
                    </li>
                    <li>The card text would be supplied in database column `topic_contents.summary`, renamed from the
                    current `topic_contents.title` which is not needed because topics are generally very short. In
                    contrast to a title, card text can be slightly longer and use a limited set of formatting (bold
                    print, perhaps some icons).</li>
                    <li>In addition to the text, a card would show what to expect when clicking on the card to see the
                    topic details, such as "(details, sources, risks)", with "risks" in red so people won't miss
                    it.</li>
                    <li>Since the detailed information can be critical for food safety (<a href=
                    "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=3RaLc-FV4PngP5gVwVD0B8nt">example</a>) users
                    should be triggered to look at the card detail view, if there are details.
                    </li>
                    <li>Some cards might link to external sources (blog articles etc.). That's ok if this is indicated
                    on the card.</li>
                  </ul>
                </li>
                <li>Donating surplus food.
                  <ul>
                    <li>A way to donate / give away food that one does no longer want / need / is in danger of expiring
                    / is just too much. Then one can go and pick it up in the neighborhood. Can also be combined with
                    Second Food: "Donate to Second Food".</li>
                    <li>
                      <b>Proposal:</b> #accepted Provide information about drop-off points for food donations by
                      private individuals. This should use a map view with data provided by OpenFoodBank, and include
                      (1) locations, (2) opening times, (3) accepted types of food (pantry, refrigerated, frozen). This
                      data would be provided by users of OpenFoodBank depending on what data they enter into their
                      profile, and would constitute the OpenFoodBank service offer for private individuals. In
                      addition, data about <a href="https://foodsharing.de/karte">FoodSharing Fairteiler</a> drop-off
                      points can be included. Since this data does not require interaction with a third-party server
                      (beyond map display) or account creation, it is suitable for inclusion in the offline Food Rescue
                      App as well as into the Open Food Facts app. This information would be displayed in its own
                      section of food rescue information.
                    </li>
                    <li><b>Proposal:</b> As above, but additionally include the dataset of Foodsharing "Fairteiler"
                    points where people can drop off their food donations. Again, this dataset would be included as an
                    offline dataset.</li>
                    <li><b>Proposal:</b> #discarded Provide a food donation feature for private individuals that works
                    without explicit account creation. Instead, the account would be created in one click, using a
                    device ID, the Android device's Google Account or similar, and all messaging related to pickup or
                    delivery of the food items would happen inside the app, similar to how it's done in the BlaBlaCar
                    app or in eBay small ads for example. This would utilize the public area of Open Food Bank, so that
                    all items offered by individuals can be ordered by anyone (not just organizations of needy people).
                    That makes sense, as the primary concern is to prevent the food items form being thrown away. The
                    time that an offer stays active would be pre-filled automatically by the system based on the
                    preceding edibility assessment, to make sure no "really rotten" products are on offer and to
                    automatically remove offers that find no takers.</li>
                    <li><b>Proposal:</b> #discarded In addition, there would be the option to log in with e-mail
                    address and password into an OpenFoodBank account for institutional offers, using the closed-off
                    "wholesale" area of OpenFoodBank where only charitable organizations can access the offers. It may
                    be better to create a new app for this purpose (re-using the Food Rescue App's framework) to make
                    it focus on this single purpose; or it may make sense to integrate this feature into Food Rescue
                    App to allow shops to do an edibility assessment before donating surplus food (but in practice,
                    there will probably be very little need for that).</li>
                  </ul>
                </li>
                <li>Allowing users to check food rescue information for errors easily.
                  <ul>
                    <li>Since Open Food Facts is a user generated database, mistakes are quite frequent. As that
                    influences what food rescue information people see, that could lead to dangerous consequences. For
                    example, if the storage life information of crispbread is shown to a user who purchased ground meat
                    that made it by mistake into the crispbread category.</li>
                    <li>To allow app users to recognize these mistakes in time, each piece of food rescue information
                    should tell to which products it applies – at least when viewing it in a more detailed mode.</li>
                  </ul>
                </li>
                <li>Conversion workflow for food rescue content.
                  <ul>
                    <li><b>Transformation tools.</b> No special purpose software will be used to transform content for
                    distribution. Rather, simple SAX parsing and transformation in Ruby scripts. Alternatively, XSLT
                    transformation might be used, but as this introduces a new technology that should only be done if
                    it simplifies the tool complexity considerably.</li>
                    <li><b>Source format transformation for distribution.</b> The information from the `info` XML
                    element and the topic type will be stored into database columns of `knowledge_items`. Machine
                    readable knowledge representation is also removed and instead aggregated and used to train a model.
                    Everything else – the actual text content – is rendered to HTML and stored in column
                    `knowledge_items.text`. This leads to the least amount of processing compared to storing XML;
                    except if a HTML display widget is able to display XML with an associated stylesheet directly.</li>
                    <li><b>Source format transformation for display.</b> The HTML snippets and relevan values from
                    other columns are rendered into a HTML template at the time of display.</li>
                    <li><b>Bibliography transformation for distribution.</b> When storing the food rescue content into
                    the distributable database, the bibliography enties will be rendered to HTML and stored into
                    database table `bibliography`. A bibliographic style for rendering the entries is employed to
                    reduce the amount of data to store and to be able to store it all into one column. Knowledge items
                    refer to bibliography entries by ID, which is also recorded into a <i>m:n</i> table
                    `knowledge_items_bibliography`. The full text quotations are not stored into the database.</li>
                    <li><b>Bibliography transformation for display.</b> For display, a page shows a subset of
                    applicable knowledge items, and the associated bibliography entries as a linked list at the bottom.
                    That bibliography list is generated on the fly by merging the bibliography lists of all knowledge
                    items.</li>
                  </ul>
                </li>
                <li>Cross-platform application (mobile, desktop, web).
                  <ul>
                    <li>
                      <b>Implementation technology.</b> Qt5 is used for implementation. In particular, from within the
                      Qt ecosystem, with <a href=
                      "https://appbus.wordpress.com/2016/04/06/qt-quick-2-qt-labs-controls/">QtQuickControls2</a> are
                      used, not Qt Widgets and not QtQuickControls1. The use of Qt Quick (here QtQuickControls2)
                      implies using QML. The reason for QtQuickControls2 is that according to <a href=
                      "https://appbus.wordpress.com/2016/04/06/howto-survive-as-a-qt-newbie/">here</a> only this – the
                      newest – technology allows to create Android apps in the native looking "Material" design, which
                      is is Google's look&amp;feel for Android apps. The same "Material" design will be used on iOS, as
                      there is no native-looking iOS design yet (only the default Qt look "Default" and the Windows 10
                      look "Universal").
                    </li>
                    <li>
                      <b>Reasons for Qt.</b> It is the choice with by far the best cross-platform compatibility (see
                      below). Also Qt is a stable toolkit that is not vanishing anytime soon, insured both by being an
                      open source project and by having a profitable business model. Alternatives that lead to embedded
                      web applications (Electron etc.) are unacceptable. The only other main alternative would be
                      Flutter, using JavaScript compiled to native applications. However, its <a href=
                      "https://flutter.dev/desktop">desktop support is only emerging</a> as of 2020-05 and it does not
                      support mobile platforms beyond the commercialized Android and iOS platforms. There is also
                      <a href="https://dotnet.microsoft.com/apps/xamarin">Xamarin</a>, but likewise it only supports
                      Android and iOS, and Linux is not even supported as a development platform, and on top of that it
                      relies on .NET and C#.
                    </li>
                    <li>
                      <b>Implementation language.</b> The frontend of Qt applications can be described in QML (with
                      some embedded JavaScript). The backend is usually written in C++, but other choices are possible.
                      For example, Ubuntu Touch Qt applications can be written in Rust, Go, Python or JavaScript
                      (<a href="http://docs.ubports.com/en/latest/appdev/nativeapp/">see</a>). Also, there are Ruby
                      bindings for Qt and ways to execute Ruby code on Android, so even Ruby could be used (but it
                      would be very experimental). In order to tie in with the larger Qt developer community and
                      perhaps attract some contributors from there, sticking with C++ seems preferable.
                    </li>
                    <li>
                      <b>Supported platforms.</b> Qt5 with QML allows to support:
                      <ul>
                        <li>
                          <b>Major mobile platforms (Android, iOS).</b> It is totally possible to use Qt5 to write a
                          cross-platform mobile app for both Android and iOS. See for example <a href=
                          "https://medium.com/@shigmas/5d4a63ab7d6">this report</a>.
                        </li>
                        <li>
                          <b>Minor mobile platforms (<a href="https://en.wikipedia.org/wiki/Ubuntu_Touch">Ubuntu
                          Touch</a>, <a href="https://en.wikipedia.org/wiki/Sailfish_OS">Sailfish OS</a>, LineageOS,
                          Windows Phone, Blackberry).</b> Support for these is the unique strength of Qt, compared to
                          all other cross-platform frameworks. Ubuntu Touch integrates Qt as the main way to write
                          native applications (<a href="http://docs.ubports.com/en/latest/appdev/nativeapp/">see</a>)
                          and it's similar for SailfishOS (<a href="https://sailfishos.org/wiki/Qt">see</a>). similarly
                          This is great, because it is a kind of moral obligation to not become captured in
                          commercialized platforms like Android and iOS – supporting them is necessary for reach, but
                          at the same time and with the same codebase one must always support truly open platforms like
                          Ubuntu Touch and Sailfish OS (which at least plans to become fully open source).
                        </li>
                        <li>
                          <b>Major desktop platforms (Windows, OS X, Linux).</b> Qt5 supports many desktop platforms,
                          and when using QML, all of them can be targeted with the same code. That includes Windows,
                          Mac OS X, Linux etc.. See many examples (some incl. source code) in the <a href=
                          "https://showroom.qt.io/">Qt showroom</a>, and some more <a href=
                          "https://developex.com/blog/%F0%9F%86%92-examples-of-mobile-apps-in-qt/">here</a>. Also see
                          the desktop / Android <a href="https://community.kde.org/Android">cross-platform
                          instructions</a> by the KDE project, incl. a <a href=
                          "https://community.kde.org/Android/Tutorial">tutorial</a> and a <a href=
                          "https://community.kde.org/Android/FDroid">repository</a> of ported KDE applications.
                        </li>
                        <li>
                          <b>Web application.</b> This is about an application that serves HTML+JS+CSS. With some
                          tricks, this can be one of the platforms targeted with Qt5 QML. For details see feature
                          <a href="https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=E34d0t1guv-W5DImJF1zldh9">web
                          application</a>.
                        </li>
                        <li>
                          <b>Web server.</b> For general web use, including for <a href=
                          "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=LxHXiNSq9n8GdN1eLbUGeEdF">integration with
                          the Open Food Facts Android app</a>, a server application with a RESTful API should be
                          created from the same codebase. That is easily possible, as only plain C++ code is needed, no
                          Qt.<br>
                          This server software can re-use much of the C++ code of the Food Rescue App for mobile and
                          dektop platforms, namely data retrieval and HTML rendering. The software for the web server
                          platform can be the same as the same executable as the GUI software for the Linux platform,
                          just with a switch to run "headless". But perhaps it is cleaner to place the re-used code
                          into a C++ library and create a separate command-line application using that library. That
                          would also open up the possibility to create a Ruby gem with native extensions for that
                          library, and then to implement the web server software in Ruby. A similar thing might be
                          possible with language bindings for Perl, which fits better into the Open Food Facts
                          ecosystem. In any case, the same SQLite database is used for data retrieval that is also
                          included in the Food Rescue App mobile application, so updating the data storage is
                          effortless.
                        </li>
                      </ul>
                    </li>
                    <li>
                      <b>Challenges and solutions</b>
                      <ul>
                        <li>
                          <b>Amount of JavaScript in QML.</b> It is possible to define the UI's behavioral aspects in
                          JavaScript embedded into QML. However, this is not mandatory, as the behavior can also be
                          defined by C++ code. It is however also not detrimental because in adition to the usual
                          interpreted execution with a JS Runtime, "QML and JavaScript code can be compiled into native
                          C++ binaries with the Qt Quick Compiler." (<a href=
                          "https://en.wikipedia.org/wiki/QML">see</a>). So in total, it could be good to define all
                          behavior in QML-embedded JavaScript that would be defined in JavaScript in a web application
                          – so anything that does not need to happen on a server. Because that could be a great path to
                          allow Qt to target the web platform directly; for details see feature <a href=
                          "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=E34d0t1guv-W5DImJF1zldh9">web
                          application</a>. At the same time it's good to limit the JavaScript to just trivial code,
                          which means that non-JS developers can use this system immediately.
                        </li>
                        <li>
                          <b>Application file size.</b> For desktop applications under Linux, file size is not a
                          concern as the Qt library is only included once via package dependencies. Similarly, file
                          size is not a concern on mobile platforms that come with Qt libraries (Ubuntu Touch, Sailfish
                          OS). For desktop applications under Windows, file size is not a concern because everything is
                          messed up on that platform anyway (and desktops have enough space). However, file size
                          <i>is</i> a concern for Android and iOS, as the simplest Qt app APK file is about 7.8 MiB
                          (tested, using the "Tetrix" Qt example). Note that the <a href=
                          "https://showroom.qt.io/night-clock/">NightClock app</a> is only 3.3 MiB but only because it
                          is no longer a Qt app but got <a href=
                          "https://gitlab.com/mivoligo/Night_Clock_kotlin">re-implemented</a> in Kotlin.<br>
                          Static binding while eliminating all unused Qt code would be the way to go to reduce the file
                          size dramatically.
                        </li>
                        <li>
                          <b>iOS apps with the Qt open source version.</b> There is a rumor that a commercial Qt
                          licence is needed to create iOS apps that are published in the App Store because Qt'2 LGPL
                          would be inappropriate for apps published in the Apple App Store (<a href=
                          "https://www.linux-magazin.de/ausgaben/2016/11/qt-apps/3/">see</a>). However, that is wrong
                          on two levels: <b>(1)</b> No problem arises at all for fully open source apps, because that
                          automatically fulfills the re-linking requirement of the LGPL (<a href=
                          "https://opensource.stackexchange.com/a/6474">see</a>) and <b>(2)</b> a closed-source app in
                          the Apple App Store can fulfill the LGPL re-linking requirement by providing its object files
                          so users can link them statically (as required for iOS) against a modified version of Qt
                          (<a href="https://opensource.stackexchange.com/a/6495">see</a>).
                        </li>
                        <li>
                          <b>How to incorporate the HeartDroid Java library.</b> The standard way under Qt is seemingly
                          to use <a href="https://doc.qt.io/qt-5/qtandroidextras-index.html">Qt Android Extras</a>,
                          which enables calling Java code via <a href=
                          "https://en.wikipedia.org/wiki/Java_Native_Interface">JNI</a> (see the <a href=
                          "https://doc.qt.io/qt-5/examples-qtandroidextras.html">examples</a>). It might work also with
                          swig bindings, or by compiling Java into a native library. Some hints are provided <a href=
                          "https://stackoverflow.com/q/7506329">here</a>. One could also transform the Java library to
                          Kotlin and then compile using <a href=
                          "https://kotlinlang.org/docs/reference/native-overview.html">Kotlin/Native</a>. But the clean
                          option might be to find, or even implement, a C++ library that provides such an expert
                          system. Even if that means that the initial version of the Food Rescue App does not include
                          an expert system.
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Compacting the bundled data.
                  <ul>
                    <li>Before eventually having to move to <a href=
                    "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=VJarQbvduCJ6WyIOPsEPDKYT">in-app downloads</a> of
                    data packages with a subset of the whole product data each, it will be possible to bundle
                    <i>all</i> relevant Open Food Facts data into an app of &lt;10 MiB download size, avoiding the
                    complexity of in-app downloads.
                    </li>
                    <li>This requires measures to boil down the SQLite database used during development into a
                    distributable version. A script would take this job; it would be the same script that would later
                    be employed to also generate data packages for in-app download.</li>
                    <li>
                      <b>Measures</b><br>
                      By proposed order of implementation.
                      <ul>
                        <li><b>Mindful index creation.</b> There should only be those indexes in the database that are
                        needed by the queries to be fast enough.</li>
                        <li><b>Not including countries.</b> The information in which countries a product is on sale is
                        not relevant in the distributed app, only to later generate per-app data packages. This removes
                        the need for the `product_countries` table (1.2-1.4 million entries, 2 integer columns).</li>
                        <li><b>Only in-use categories, and products with in-use categories.</b> When generating the
                        database in a version that is meant to be used in the app, only include categories that are
                        referenced from at least one food rescue topic, and only include products that reference at
                        least one such category. For all other products, the app cannot provide any food rescue
                        information.</li>
                        <li><b>Limited categories per product.</b> Remove category associations beyond (say) two to
                        four per product. A limited number avoids the need for a separate table `products_categories`,
                        which saves the space for the foreign key column and its index. These few categories would be
                        the most specific categories. And from among the most specific categories, ideally those that
                        lead to the largest number of food rescue knowledge items (but that would require many
                        calculations testing).</li>
                        <li><b>Delta storage of GTIN codes.</b> For more compact storage of the GTIN code data, the
                        products table would contain a consecutive primary key (like now), a column for the full code
                        that is only filled every (say) 100 products and a code column that only stores the delta from
                        the last full code value. Remember that SQLite values take only space when they exist, and
                        depending on the value. Savings would be about 7 Byte (original) - 2 Byte (delta) = 5 Byte,
                        which for 1,200,000 products means 6 MiB difference on disk.<br>
                        Retrieval would be quite simple: `SELECT * FROM products ``WHERE id IN [6400..6500]`` AND
                        &lt;lastfullcode&gt; + code = ``&lt;target_code&gt;`. The `&lt;lastfullcode&gt;` would be a
                        sub-select to find the largest value in `fullcode` that is still smaller than
                        `&lt;targetcode&gt;`.<br>
                        For even more compact delta storage, that column could store the difference to the previous
                        row, not the previous row with a full value. But then, retrieval of a row with a given code is
                        more difficult, requiring multiple bisectioned attempts (with summing in SQLite) or probably
                        slower sequential summing in 100 returned values until finding the match.</li>
                        <li>
                          <b>Adjusting page_size before compression for downloads.</b> A page size of 512 instead of
                          1024 has been reported to save 7% in <a href=
                          "http://sqlite.1065341.n5.nabble.com/a-tp9753p9756.html">one case</a>.
                        </li>
                        <li><b>Better compression of downloads.</b> Instea of relying on the standard compression of
                        `.apk` files, one would pre-compress the database files before, yielding smaller download
                        sizes. This would also be a side effect of on-device database compression, which see.</li>
                        <li><i>------------------------------ everything below is non-essential
                        ---------------------------</i><br>
                        Transfer the feature to the "Maybe now" section when reaching here.</li>
                        <li><b>Shortest category name only.</b> Remove synonymous category names in the same language,
                        except keeping the shortest one to display in the app. This allows to place this name into a
                        database column in table "categories", instead of having a table `category_names` as required
                        in the database during buildup and development.</li>
                        <li>
                          <b>On-device database compression.</b> On-device storage size is worse than download size, so
                          ideally the same compression used for downloads would also be useful for compressed local
                          read-only storage, allowing selective decompression on demand. The demand would arise only
                          for doing the most detailed assessment, while the most used parts would be stored
                          uncompressed.
                          <ul>
                            <li>
                              <b>Proposal.</b> Use one compressed SQLite database per 1000 products, unpacked on demand
                              into a SQLite memory database. The database files would be packed into a combined archive
                              with a modern compression algorithm – there are PPM compressors that take hours to
                              compress, with files that can be half the size of bzip2 archives. For a good overview,
                              see: <a href="http://mattmahoney.net/dc/">Data Compression Programs</a> by Matt Mahoney.
                              <a href="http://mattmahoney.net/dc/zpaq.html">ZPAQ</a> is a good candidate here, and it
                              is in the public domain, has excellent compression, and supports selective decompression
                              of files (while the compression ratio benefits from compressing all files into one
                              archive).
                            </li>
                            <li>
                              <b>Proposal.</b> There are multiple commercial extensions for handling compressed SQLite
                              databases (<a href="https://sqlite.org/zipvfs/doc/trunk/www/readme.wiki">1</a>, <a href=
                              "http://www.hwaci.com/sw/sqlite/prosupport.html">2</a>, …) but there seems no need for
                              these, and the compression algorithm used there would also be suboptimal.
                            </li>
                            <li>
                              <b>Expectable results.</b> In a test with bzip2, a 5.4 MiB database with the typical food
                              rescue content was reduced to 32% its size. Using ZPAQ instead at the highest compression
                              ratio would probably result in a further reduction to 79% of the bzip2 size, so the final
                              file size would be 32%×79% = 25% of the original. (This is based on the comparison of
                              ZPAQ and bzip2 for compressing 10 MiB file "osdb" containing "database, synthetic data,
                              binary"; <a href="http://mattmahoney.net/dc/silesia.html">see</a>.)
                            </li>
                          </ul>
                        </li>
                        <li>
                          <b>String compression for knowledge items.</b> In this case, instead of compressing the whole
                          SQLite file one would compress lengthy strings individually and store them as BLOBs into the
                          database. There is no loss of functionality as no feature requires searching through the
                          knowledge items in text form.
                          <ul>
                            <li>
                              <b>Proposal.</b> A simple implementation would be with the SQLite zipfile module (if
                              available on Android), which allows decompression from BLOBs (<a href=
                              "https://www.sqlite.org/zipfile.html#table_valued_function_read_only_access_">see</a>).
                            </li>
                            <li>
                              <b>Proposal.</b> Try `smaz` for English text, and equivalents for other languages.
                              Because "smaz works well on English text because the compression dictionary is prebuilt
                              rather than generated for the specific data" (<a href=
                              "http://sqlite.1065341.n5.nabble.com/a-tp45884p45885.html">see</a>).
                            </li>
                            <li>
                              <b>Proposal.</b> For better compression, see the <a href=
                              "http://mattmahoney.net/dc/text.html">text compression benchmark</a>. That is geared to
                              much larger texts, though. But to profit from the increased efficiency of compressing
                              large texts, perhaps there is a way to have a shared symbol table for all compressed text
                              strings, while still allowing their individual decompression.
                            </li>
                          </ul>
                        </li>
                        <li>
                          <b>Shipment without indexes.</b> Excluding the database indexes and rebuilding them on the
                          device seems to result in a lot better compression (<a href=
                          "http://sqlite.1065341.n5.nabble.com/a-tp9753p9760.html">see</a>).
                        </li>
                        <li><b>Find more space saving potential with `sqlite-analyzer`.</b> It will show information
                        about the database and what takes up how much space in it.</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Finding products without barcode scanning.
                  <ul>
                    <li>The app should include a search box to enter food category names ("bananas" etc.) with
                    auto-suggest support, for the cases when barcode scanning does not provide a result.</li>
                    <li>Options include image recognition or (probably faster and more accurate) to enter the food item
                    as text, such as "banana".</li>
                    <li>This feature cannot be properly integrated into the Open Food Facts app, which is another
                    reason for also having a standalone version. See: "Open Food Facts contains only information about
                    packaged food. For average values of produce (for example, tomatoes or bananas) and other food
                    products, you can use one of the official national nutrition databases instead." (<a href=
                    "https://documenter.getpostman.com/view/8470508/SVtN3Wzy?version=latest#1ae4b598-5532-4d5e-97f6-05d6c5f77e1c">source</a>).
                    The best option for making products without a barcode accessible from within the Open Food Facts
                    app would be to modify the free-text search so that packaged produce is shown first.
                    </li>
                    <li>It is not a problem however to rely on the Open Food Facts category taxonomy for assigning
                    knowledge items to products. Because OFF does contain fruits and vegetables if they are packaged.
                    Consequentially, it also has the product categories for these; for example <a href=
                    "https://world.openfoodfacts.org/category/bananas">bananas</a>.
                    </li>
                    <li>Later, voice entry would be an attractive option.</li>
                    <li>Later, image recognition (probably server-side, or on the device) can be integrated as a way to
                    find fruit and vegetable products at least. However, it will probably not save any time compared to
                    typing or voice entry, so will not be meaningful.</li>
                  </ul>
                </li>
                <li>Food rescue badge.
                  <ul>
                    <li>A labelling system to summarize food rescue information, including a good graphical design for
                    the badge and its color coding, that informs users at a glance about its real-world storage life
                    duration and how careful one has to be when it expires. This would be placed into the product's
                    summary view in the Open Food Facts Android app, which covers only the lower 20% of the screen
                    after scanning a product.</li>
                    <li>The label can include a minimum extended shelf life, calculated by the <a href=
                    "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=ur0K0HHpPPIkmWsGlZt-TCFh">expert system</a> based
                    on the product's category and its <a href=
                    "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=uXpcT56F8NUm027ScQCKzGSq">design shelf life</a>.
                    </li>
                  </ul>
                </li>
                <li>Showing the product's design shelf life.
                  <ul>
                    <li>The OFF database contains expiry dates and product entry dates but they are not yet shown
                    anywhere and include some data quality issues to resolve first.</li>
                    <li>From this, a minimum duration of the design shelf life can be calculated. Given only one
                    measurement it will not be exact, but already help to rescue some food. Example: when crisp bread
                    is meant to last 12 months and it is 2 weeks over the date, it is very probably safe to eat.</li>
                    <li>Implementation: Including a column "shelf life duration" into the products table of the SQLite
                    database. Use a space-saving compact format, such as three letters: "12d", "10w", "12m", "10y". The
                    expiry date is not contained in the OFF CSV export, so this information would have to be imported
                    from the MongoDB dump (and later ideally should be included into the CSV export).</li>
                  </ul>
                </li>
                <li>Framing for user data transmission.
                  <ul>
                    <li>Framing is important to make people agree to data transmission, for example about how much food
                    they rescued. Just explain why this is important for the project, for the environment and for the
                    common goal etc.. Frame it in terms of what the user group finds important, in this case
                    environmental protection etc..</li>
                  </ul>
                </li>
                <li>Gamification / motivation features for rescueing food.
                  <ul>
                    <li>For displaying the effect of the app in a motivating way, a good example is the banking app of
                    the bank "Tomorrow". There, their number of planted trees is displayed right below the bank account
                    balance.</li>
                  </ul>
                </li>
                <li>Internationalization of the cross-platform app.
                  <ul>
                    <li>
                      <a href="https://appbus.wordpress.com/2016/04/28/howto-translations-i18n/">Instructions</a> when
                      using Qt for Android as the implementation technology.
                    </li>
                  </ul>
                </li>
                <li>Translation management system for food rescue content.
                  <ul>
                    <li>Required for the food rescue content. Categories, ingredient names etc. will be translated
                    within the Open Food Facts project (using their tools) and just imported.</li>
                    <li>The process should allow for original content to be created in any language, and for changes to
                    be made in any translated version. Translation will then ensure the content is first translated to
                    English resp. the change is incorporated into the English version, and from there to other
                    versions. This should make it much simpler for international contributors, as not everyone is
                    fluent enough in English.</li>
                    <li>
                      <b>Process</b> (proposal)<br>
                      This is the process defined by the OAXAL standard, but it remains to be seen how much of this is
                      supported with open source software yet.
                      <ol>
                        <li>While authoring the original document, use XSLT to strip xml:tm elements and to add them
                        automatically lateron.<br>
                          This is the usual process in use (<a href=
                          "https://www.translationdirectory.com/article491.htm">source</a>). As a probably better
                          alternative, XMLmind could be set up so that the xml:tm elements are not visible in visual
                          editing mode.
                        </li>
                        <li>Use xml:tm tags inside the source document and XSLT (or a Ruby script equivalent) to
                        transform that to XLIFF files.</li>
                        <li>Create translations for new content with a Ruby script and a machine translation API,
                        marking them as a fuzzy match that requires proofreading.</li>
                        <li>Create TMX Level 2 files with the translation memory from existing XML files, and import
                        them to OmegaT.<br>
                        This is the main use of xml:tm here: avoiding the redundant storage of translation memory
                        inside OmegaT.</li>
                        <li>Translate the XLIFF files with the open source software OmegaT (the best for translation
                        mgm), which helps due to translation memory (and exact matching due to xml:tm identifiers,
                        hopefully).</li>
                        <li>Create a new output file using the resulting XLIFF file and the structure from the original
                        document, using another XSLT transformation.</li>
                      </ol>
                    </li>
                    <li><b>Problem:</b> How to do translation management for the source data contained in CSV
                    files?</li>
                    <li>
                      <a href="https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=FjBDaSl2Agoyqw8t8LzkY49T">Tools</a>
                    </li>
                  </ul>
                </li>
                <li>Ebook, book and static website versions of the food rescue content.
                  <ul>
                    <li>Ebook, book and static website are, in a way, three more "platforms" supported by the Food
                    Rescue App, in addition to Android, iPhone, desktop platforms and the web via a web application.
                    That can be useful in kitchens, in factories and restaurants, in developing areas where people do
                    not own a smartphone, for teaching purposes, to print out a part of the content and hang it to the
                    wall, and for similar cases.</li>
                    <li>
                      <b>Content structuring</b>
                      <ul>
                        <li><b>Rescue notes by category.</b> One chapter treating 80-150 categories of food in a
                        self-made hierarchical chapter structure that us built from a manual selection of Open Food
                        Facts categories (which may have slightly different names for the purpose of the book though).
                        In the section for each of these categories, content is shown for a selection of multiple Open
                        Food Facts categories in the way it would be generated by the app (means, combining the
                        knowledge items applicable to all categories in the selection).</li>
                        <li><b>Rescue notes for specific food.</b> Containing sub-chapters in an alphabetic list, one
                        chapter for each sub-type of food item that deserves some special notes not yet covered in the
                        section by food category. Each sub-chapter would correspond to an Open Food Facts category,
                        ideally from their taxonomy, not necessarily one that has a WikiData equivalent.</li>
                      </ul>
                    </li>
                    <li>
                      <b>Implementation.</b>
                      <ul>
                        <li>An ebook can be generated from the food rescue database with automated means in EPUB, PDF
                        and DocBook formats. The DocBook format can be viewed directly for example with <a href=
                        "https://wiki.gnome.org/action/show/Apps/Yelp">Yelp</a>, the Gnome help browser.
                        </li>
                        <li>A static website can be generated with automated means, allowing to be installed offline
                        easily (as a directory).</li>
                        <li>A script would export the SQLite3 database directly to a DocBook Book document, or first to
                        DocBook Topic documents which are then combined via a DocBook Assembly document. The Assembly
                        document would use a chapter structure based on food categories. In contrast to the app, a book
                        or static website will contain knowledge items redundantly, once for every category they apply
                        to. This is however not a problem as this is generated redundancy.</li>
                        <li>Note that generating a DocBook Book document directly might be better as it might be
                        difficult to create the final output purely with XSLT tools, requiring quite some hacking to
                        render each topic as an item in a list and to calculate the order of topics in this list
                        ("specific to general").</li>
                        <li>Once the output is in DocBook file format, standard DocBook tools can be used to convert to
                        PDF, EPU and HTML formats.</li>
                        <li>Most building blocks of this are already implemented; see FoodRescueRopic#to_docbook, which
                        generates one DocBook topic file for each food rescue topic.</li>
                        <li>Technically, the implementation would consist of scripts and new `make` targets in
                        repository <a href="https://github.com/fairdirect/foodrescue-content">foodrescue-content</a>.
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Publicity.
                  <ul>
                    <li><b>Recommendation by Open Food Facts.</b> It would be great to have Open Food Facts recommend
                    the standalone app.</li>
                    <li>
                      <b>List of reuses.</b> Can be self-added to the <a href=
                      "https://wiki.openfoodfacts.org/Reuses_of_Open_Food_Facts">list of Open Food Facts reuses</a>.
                    </li>
                  </ul>
                </li>
                <li>Documentation-to-repo workflow.
                  <ul>
                    <li>A scripted, automatic process that takes over the project documentation as prepared in Dynalist
                    to files in a Github repository. Including conversion to Markdown, handling of internal links
                    etc..</li>
                    <li>Since all Dynalist documentation is unrelated to a specific Github repository, it seems best to
                    include it into a new, overarching repository "foodrescue".</li>
                    <li>The easiest might be to include (a part of) the Dynalist backup file into the repository
                    alongside a script that converts it to several linked Markdown files. These output files would be
                    include in repository even though they are redundant because it allows viewing the documentation
                    directly via Github, which is helpful for people starting to use the software.</li>
                  </ul>
                </li>
                <li>Displaying knowledge items in the Open Food Facts Android app.
                  <ul>
                    <li>Very relevant for good initial reach of the app.</li>
                    <li>This is only about displaying the human-readable food rescue information. Integrating the
                    expert system functionality into the OFF app is <a href=
                    "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=7SzFGpA3nySo7RtQE4PjYlXj">another task</a>, and
                    might not be done.
                    </li>
                    <li>
                      <b>Proposal (best so far): Microservice architecture.</b> The best implementation in terms of
                      development time and system architecture would be that the OFF app obtains the food rescue
                      information from a separate server software. That server application would be the cross-platform
                      Food Rescue App built for the web server platform (<a href=
                      "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=UFn_rSDTqUCYH9toT0f92AmX">see</a>). It would
                      provide an API that takes a barcode and returns a complete HTML document with all the food rescue
                      information.<br>
                      The OFF team will probably insist that the official OFF app only talks to the OFF host, but this
                      is not a problem: they can install that server software on their host. Still, developing this
                      server software and the associated client is simple: just run the client with configuration to
                      talk to an own development server for retrieving the food rescue content.
                    </li>
                    <li><b>Proposal: Retrieval from SQLite by the existing Product Opener server software.</b> Provide
                    the SQLite database to Open Food Facts for installation on their server, and extend their Perl
                    based server software to provide a separate API for returning food rescue content about a product.
                    This would only be called when opening the respective tab. This way, only a low amount of work is
                    needed on the server as the data does not have to be imported into MongoDB. Since it's not data
                    about products, it makes sense to not include it into MongoDB, the MongoDB and CSV database dumps
                    etc.. In addition, the "Rescue Info" tab would contain a link for installing the Food Rescue App at
                    the bottom, promising extended features and offline storage.</li>
                  </ul>
                </li>
                <li>Business model.
                  <ul>
                    <li>Since the app saves users actual money, it should be possible to somehow make a business model
                    for this app.</li>
                    <li>Since the app will be the world's best food rescue tool and since the developer does not need
                    much money (≥500 EUR a month is fine), the app could become an "own meaningful product" with
                    relative ease, allowing to live off meaningful open source work. Which is the dream of a
                    developer.</li>
                    <li>In Germany, each person discards ~82 kg of food per year in Germany in households (<a href=
                    "https://www.researchgate.net/publication/273137546">source</a>), of wich 37,3 kg are avoidable
                    (<a href=
                    "https://www.zeit.de/wissen/2019-05/lebensmittelverschwendung-haushalte-essen-muell-deutschland">source</a>).
                    Assuming a moderate price of 2.68 EUR/kg for fruits and bread dominated food waste, the app could
                    save 37.3 kg × 2.68 EUR/kg = 100 EUR per person per year, or 200 EUR per household per year, given
                    an <a href="https://www.arcgis.com/home/item.html?id=b6a82e2a656042b899bb88a1aeca5751">average
                    household size of 2.0</a> persons in Germany. If the app can capture 12% of that (24 EUR per
                    household per year, or 2 EUR per household per month), it would already be a great business model,
                    theoretically allowing millions per month in turnover.
                    </li>
                    <li><b>Proposal:</b> #accepted The app should make it clear that it is a community-supported open
                    source product, and show the current funding situation, such as "3,000 EUR in user support
                    available, utilizing for 100 hours of tasks development work according to the following list" or
                    "development has stalled because no community funding is available right now; donate to restart the
                    development at 30 EUR/h". If users are happy with the app and data as it is, no problem for them if
                    it's stalled, otherwise they will donate. The app makers guarantee one hour of work per 30 EUR of
                    donations, and show in real-time how much work they do for which donation and what the results are.
                    Also, users can vote (in the app or on a website) for priorities of what should be implemented;
                    because when people see what they get for their money, they might be more motivated to contribute.
                    This seems to be the most long-lasting business model, as these donations can also be used for
                    extending the Open Food Facts database once all relevant food rescue knowledge has been collected
                    and translated.</li>
                    <li><b>Proposal:</b> The app should include a Patreon-style regular support feature, where people
                    get extra content as a thank-you for their support (while the app itself and all data stays open
                    source and without a paywall). This could be handled via LiberaPay.</li>
                    <li>
                      <b>Proposal:</b> A grant in another round of Prototype Fund for developing an extension. Suitable
                      ideas include: <a href=
                      "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=ur0K0HHpPPIkmWsGlZt-TCFh">expert system</a>,
                      <a href="https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=LxtHBpwQadw8RvdqJ2uGXvrd">translation
                      management system</a>.
                    </li>
                    <li><b>Proposal:</b> Include a feature that tracks locally how much food the app helped save (by
                    asking the user for the outcome of each app use). It would estimate the value of the saved food,
                    and when that exceeds a certain threshold, it would ask the user for a contribution of 5% of that
                    (which should be around 5 EUR, so the threshold should be 100 EUR). Contributions would be made by
                    one-time in-app purchases, or better by PayPal or direct credit card payment because then there are
                    no fees involved. The app can even be a bit annoying by showing the "please make a 5 EUR
                    contribution" reminder at random every 2-7 times at startup. It could even stop to function, but
                    that would be less great.</li>
                    <li><b>Proposal:</b> The app should include a feature for regular donations inside the app, using
                    monthly in-app payments with a credit card. Automatic donations will make sure people don't just
                    forget their commitments to make donations, and setting up in-app payments is simple as most people
                    have a credit card registered in their Android device already. The problem with this compared to
                    LiberaPay or similar platforms is the excessive amount of fees Google would take.</li>
                    <li><b>Proposal:</b> Use Bountysource or similar to let people crowdfund for feature additions and
                    questions to be answered by the app. Link people from the app to there. They will be more inclined
                    to donate when they can influence what their money does to the app.</li>
                    <li>
                      <b>Proposal:</b> A grant by a government ministry. Similar to how the <a href=
                      "https://www.foodsafety.gov/keep-food-safe/foodkeeper-app">FoodKeeper App</a> is provided by a
                      U.S. Government department.
                    </li>
                    <li><b>Proposal:</b> Allow people to ask questions about food rescue directly from within the app
                    (with photo and bounty amount assigned). The app makers will answer these within hours, adding the
                    answer to the open source data.</li>
                    <li><b>Proposal:</b> Make it possible to donate rescued food to the app makers.</li>
                    <li><b>Proposal:</b> Sell the app, or have a for-money version of the app in the app stores. This
                    is possible, and would not even require to publish the app's source code by using Qt under a LGPL
                    v3 licence. And even when publishing te full source code, non-developers are still basically forced
                    to buy it because they lack the skills to build the app themselves (until maybe a competitor takes
                    the source code and uploads a version for free). However, putting a price tag on an abundant
                    resource and making it artificially scarce is ugly. We rather wan 5% of users donating 20 EUR each
                    than 100% of users paying 0.99 EUR each.</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <h3>Maybe now</h3>
              <ul>
                <li>
                  <i>About</i>
                  <ul>
                    <li>Optional features considered for implementation until 2020-08-31.</li>
                  </ul>
                </li>
                <li>Content ID.
                  <ul>
                    <li>During development, for debugging and for feedback and bug reports by users it would be helpful
                    to easily trace back displayed content in the Food Rescue App to its source in the <a href=
                    "https://github.com/fairdirect/foodrescue-content">foodrescue-content repository</a>.
                    </li>
                    <li>For that, each database record in the SQLite3 database with food rescue content should include
                    a content ID. The content ID can be made up from the source filename (or file path) and a
                    file-internal ID string, which might be "&lt;database_table&gt;:&lt;primary_key&gt;", the value of
                    a CSV file ID column or similar. Such an ID would probably be stored in two columns (file,
                    infile_ID) or three columns (file, table, ID).</li>
                  </ul>
                </li>
                <li>Expert system.
                  <ul>
                    <li>By design, the app fulfills the role of an expert system: it should contains all knowledge
                    items locally on the device, in both human readable form (text with literature references) and
                    computer readable form (facts by connecting with categories, and rules).</li>
                    <li>So ideally, there would be an open source expert system that could be used as the basis,
                    perhaps there is something both for the server side and Android client app side. Options:
                      <ul>
                        <li>Heartdroid as the suitable base software for an expert system feature.
                          <ul>
                            <li>https://heartdroid.re/</li>
                            <li>https://bitbucket.org/sbobek/heartdroid</li>
                            <li>https://github.com/sbobek/heartdroid</li>
                            <li>https://heartdroid.re/hwed/ (the visual knowledge editor)</li>
                            <li>https://onlinelibrary.wiley.com/doi/full/10.1111/exsy.12328 (research paper introducing
                            Heartdroid, saying "To the best of our knowledge, HEARTDROID is the only working
                            open‐source rule engine for mobile platforms.")</li>
                            <li>Dissertation paper introducing Heartdroid: "Methods for modeling self-adaptive mobile
                            context-aware systems", https://www.researchgate.net/publication/311575943</li>
                            <li>Developed in Java, so it fits well into the system.</li>
                            <li>Note that the performance of Heartdroid is 10 s execution time for models up to 2000
                            rules. This is visible from the graph in the PhD paper, p. 155. Also that limit is set to
                            be the maximum for user retention on p. 152 of that paper. This means that the other paper
                            uses base-e logarithm in its figure 9, because then it's the same result: e^2.3 = ~10s.
                            See: https://onlinelibrary.wiley.com/doi/full/10.1111/exsy.12328#exsy12328-fig-0009</li>
                          </ul>
                        </li>
                        <li>Other options for base software for an expert system feature.
                          <ul>
                            <li>Heartdroid paper, table 1 shows a comparison of all rule-base inference engines with
                            mobile support as of early 2018:
                            https://onlinelibrary.wiley.com/doi/full/10.1111/exsy.12328#exsy12328-tbl-0001</li>
                            <li>https://stackoverflow.com/q/4930680</li>
                            <li>CLIPS4Android, https://github.com/gomezgoiri/CLIPS4Android . But seemingly no longer in
                            development. The base software CLIPS is however well-known.</li>
                            <li>https://github.com/DrItanium/DROID-CLIPS . Same as for CLIPS4Android.</li>
                            <li>Brain4it, https://joinup.ec.europa.eu/solution/brain4it/about . But here, all the logic
                            ("AI") is on the server.</li>
                            <li>https://github.com/topics/expert-system , but nothing else found for Android.</li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                    <li>The benefit of utilizing an actual expert system ("rules based inference engine") is that there
                    is no need to define any flow charts manually. Instead, the inference engine will ask what it needs
                    to know, in the right order, automatically.</li>
                    <li>At the start, the mobile application would not yet implement the expert system, but only show
                    the human readable knowledge items, aggregated together and presented after scanning a product as
                    proposed above. There would not&nbsp;be any manually defined interactive flow charts or elements –
                    that would be added by the expert system functionality, which is clearly optional within the scope
                    of this project but also the most interesting part to get to.</li>
                    <li>The great thing about using an expert system is that the app can be called "intelligible and
                    full-privacy artificial intelligence".</li>
                    <li>Ideas for expert system rules:</li>
                  </ul>
                </li>
                <li>Wiki-like web application for data entry.
                  <ul>
                    <li>Editing CSV with online ad-hoc databases and offline spreadsheet applications is acceptable for
                    data entry for a small team, but not the most comfortable thing in case the group of editors would
                    grow to include many community members. So ideally, a wiki-like application for editing the food
                    rescue content in AsciiDoc format would be used.</li>
                    <li><b>Proposal: <a href="https://github.com/gollum/gollum">Gollum</a>.</b> This basically ticks
                    all the boxes: wiki software, open source, written in Ruby, used and supported by a large
                    organization (Github), able to use AsciiDoc as a native format, and storing its data in a Git
                    repository. Git data storage allows to use Gollumn as online editor for data stored in repo
                    food-rescue-content and imported from there with a script to the SQLite3 database.</li>
                    <li><b>Proposal: Gollum and extra fields.</b> The problem with plain wiki editing will be that
                    there is no tabular editing. So values like author, version date and Open Food Facts categories
                    have to be encoded into AsciiDoc metadata fields or similar, not unlike editing DocBook XML
                    directly. That will make the use uncomfortable for occasional editors. To solve this, Gollum can be
                    extended so that these extra fields are edited using form fields but would still be encoded into
                    the AsciiDoc document when saving.</li>
                    <li><b>Proposal: Github wiki.</b> This is an installation of Gollum, saving its data to a folder of
                    the Git repository on which the wiki has been enabled. So it's the same as using Gollum, just
                    without the need for doing an own installation. Notably, it understands AsciiDoc format.</li>
                  </ul>
                </li>
                <li>Magnet links via Google Search.
                  <ul>
                    <li>Ideally, users should be able to check all knowledge item content in primary sources, also in
                    case they want to study more of the details. For that, as far as possible only works that are
                    available online should be cited.</li>
                    <li>This is not possible for many books because, while they are available online, these are
                    questionable sources. To be able to link to them legally, the link should go to a Google search, of
                    which one of the first results then is the work in question. That is often possible by searching
                    for a 5+ word phrase of the content – basically a poor man's <a href=
                    "https://en.wikipedia.org/wiki/Magnet_URI_scheme">magnet link</a>.
                    </li>
                  </ul>
                </li>
                <li>Photo upload to Open Food Facts.
                  <ul>
                    <li>People cannot be expected to enter anything on a mobile device, and this is much more
                    efficiently one on a desktop computer using the existing Open Food Facts web application.</li>
                    <li>But when a product does not exist in the database, the app can ask people to take pictures of
                    the product, ingredients table, nutrition table, best before date etc. and upload them, together
                    with the scanned barcode. That is a good contribution to expand the Open Food Facts dataset.</li>
                  </ul>
                </li>
                <li>Counter for rescued food.
                  <ul>
                    <li>Basically a feedback form at the bottom of the knowledge article about a food item's storage
                    life, saying: "Did this help you to decide if your food item is still good to eat?", with the
                    following options to answer: "Yes, and I saved it." / "Yes, but I had to throw it away." / "No, I'm
                    still not sure." But of course with better wording and some good gamification – it should make
                    people proud if they rescued food, but also accomplished if they went through the app's information
                    and then decided to play it safe. From this, detailed statistics about the rescued food can be
                    made, including the weight, caloric energy content, approximate market price and approximate
                    embodied carbon emissions of the rescued food. This makes it simple to argue for the success and
                    continuous development of this feature.</li>
                    <li>There should be a question about what the customer wants to do with the scanned product: "I'll
                    eat it / not sure, can I donate it to somebody? / I have to throw it away". Donating will enter it
                    on the openfoodbank.net marketplace. "auch wenn der bezug von spenden über ofb für endkunden direkt
                    erstmal nicht möglich ist, sollten spenden für jedermann möglich sein. da passt die realmhd app
                    perfekt. wenn ich ein gescanntes produkt aufgrund des überschrittenen mhds nicht essen mag, kann
                    ich es über die app spenden. die app müsste anzeigen, wer das produkt in meinem umkreis in empfang
                    nimmt (oder z.b. zu spendenboxen von organisation x am orty vereist). die box geht dann auf, wenn
                    der barcode gescannt wird. so könnten organisationen nur spenden bekommen, welche sie auch haben
                    möchten."</li>
                  </ul>
                </li>
                <li>Using categories outside the Open Food Facts taxonomy.
                  <ul>
                    <li>Currently, only 37% of all products in Open Food Facts have assigned categories, and those that
                    do might not use the "official" categories from the taxonomy. Or they might use some official
                    categories but also others, and the latter would include relevant information not encoded in the
                    assigned official categories.</li>
                    <li>By expanding the official taxonomy of categories (either locally or contributed upstream), the
                    information contained in these inofficial categories is also utilized. Expanding the taxonomy means
                    sorting in additional categories as either a synonym or sub-category of an existing category.</li>
                    <li>Before doing this, one should estimate the number of products (first in Germany) that would get
                    category information at all, and the number that would get additional category information.</li>
                  </ul>
                </li>
                <li>Bibliography management application.
                  <ul>
                    <li>Not sure if this is meaningful, but it could help as an interface to enter the bibliography
                    more comfortably.</li>
                    <li>
                      <b>Proposal: Zotero.</b> <a href="https://en.wikipedia.org/wiki/Zotero">Zotero</a> seems a good
                      choice as it is a widespread, actively maintained, open source application. It would also help
                      with reading, as it includes PDF annotation features and ways to reference or include the full
                      text PDF files. Hopefully there are ways to import a bibliography from DocBook, and to export it
                      there, so that the DocBook file is the authoritative version managed on Github.
                    </li>
                  </ul>
                </li>
                <li>Photos of food symptoms.
                  <ul>
                    <li>The app can also contain photos of food symptoms, including spoilage and harmless changes.
                    These can be very small (&lt;10 kiB per picture) by using the open source <a href=
                    "https://en.wikipedia.org/wiki/Better_Portable_Graphics">BPG format</a>, using a white background
                    etc.. That allows to include a few hundred pictures into the SQLite database of an offline app
                    without blowing up the download size by much.
                    </li>
                  </ul>
                </li>
                <li>Collecting expiration dates and other printed-on information.
                  <ul>
                    <li>This data would be contributed to the Open Food Facts database. Such a feature would esp. also
                    make sense to add to the Open Food Facts app itself.</li>
                    <li>Data structure proposals
                      <ul>
                        <li>Proposal: Multiple recordings of the data printed on individual product items should be
                        recordable. That prevents having to introduce versioning for the whole product data records,
                        and makes such data more accessible compared to versions. Namely, all recordings are accessible
                        as a set, which makes it simpler to make automatic calculations (maximum observed expiration
                        period etc.). The proposed data type would be a hierarchy as follows: (see subnodes).
                          <ul>
                            <li>`item_info` (because this is about information relating to individual items rather than
                            the product type)
                              <ul>
                                <li>`0` (array start, recording no. 0)
                                  <ul>
                                    <li>`entry_date` (when the information recorded below was entered; filling fields
                                    below meant for derived content later would not change its value)</li>
                                    <li>`itemtext_picture` (a picture of the text contained on a product, similarly to
                                    pictures of ingredient lists etc.)<br>
                                    Most food items have only one location where manufacturers print something on the
                                    individual, already packaged food item. This includes an expiration date and often
                                    other codified information about batch, production location, production date and
                                    time etc.. So it makes sense to introduce one more picture data type to let users
                                    collect this information, making it available for later transcription and reverse
                                    engineering by others.</li>
                                    <li>`itemtext_prefix` (the text that is part of the packaging print and introduces
                                    the print-on information, such as "Best before:")</li>
                                    <li>`itemtext_fulltext` (verbatim text as contained in `itemtext_picture`)</li>
                                    <li>`production_date` (derived from a part of `itemtext_fulltext`, normalized to a
                                    date datatype)</li>
                                    <li>`expiration_type` (options: best_before, use_by, no_date; could also be stored
                                    outside the array once per product, but it seems more systematic this way and also
                                    allows to track changes from no_date to best_before and similar cases)</li>
                                    <li>`expiration_date` (derived from a part of `itemtext_fulltext`, normalized to a
                                    date datatype)</li>
                                    <li>`expiration_period` (derived from a part of `itemtext_fulltext`, normalized to
                                    a duration datatype)</li>
                                    <li>`expiration_period_calculated` (taken over from `expiration_period` if
                                    available, otherwise calculated from `entry_date` and `expiration_date`)</li>
                                    <li>(later, various fields for <a href=
                                    "https://en.wiki.openfoodfacts.org/Food_Traceability_Codes">food traceability
                                    codes</a> would also be added here, each decoding a part of `itemtext_fulltext`
                                    just as the other fields above do)
                                    </li>
                                  </ul>
                                </li>
                                <li>`1`
                                  <ul>
                                    <li>…</li>
                                  </ul>
                                </li>
                                <li>…</li>
                              </ul>
                            </li>
                          </ul>
                        </li>
                        <li>Proposal: "many products list just the production date and the duration" as per
                        https://github.com/openfoodfacts/openfoodfacts-server/issues/1589 . So there has to be a way to
                        deal with this when gathering data. This could be done by setting "expiration_date_type =
                        calculated" and "expiration_duration = some duration", with durations given in ISO calendar
                        date format.</li>
                        <li>Proposal: There should be another field "expiration_date_type", with values "use_by" and
                        "best_before" and "absent". The "absent" key is useful to express that the product has no
                        storage life related date at all. For examples packaged, fresh produce. For already recorded
                        food items, this can probably be determined from the product categories quite reliably as there
                        will be legal requirements which products need to have which type of date.</li>
                        <li>Proposal: The production date is often hard to decode as manufacturers do not use a
                        standard format. So perhaps, a field that contains the printed-on data verbatim would be good
                        for a start, and this can then be decoded as time goes by. Even better, a picture type can be
                        added to record this information, and others can then extract it from the picture.</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Showing input data for the user to check.
                  <ul>
                    <li>Open Food Facts is a user-generated database that may contain errors. To prevent errors from
                    leading to potentially dangerous mis-estimations of edibility, the app should show all input data
                    used by its algorithms for the user to check.</li>
                    <li>That would usually mean: product categories, later also some (but not all) ingredients, the
                    absence of some ingredients, the packaging and preservation type etc..</li>
                    <li>To be able to check the product categories, it will be important that all categories of
                    products available in a certain country are also translated to the language of that country.</li>
                  </ul>
                </li>
                <li>Downloadable data for food products per country.
                  <ul>
                    <li>The data would be downloadable as SQLite files from within the app. Each would contain the Open
                    Food Facts products available in one or more countries. There would be one data package for each
                    country with more than 10 000 product records (ca. 1 MiB storage requirements). At this time, that
                    would mean 9 per-country data packages and one data package for all other products (<a href=
                    "https://world.openfoodfacts.org/countries">see</a>).
                    </li>
                    <li>People would be able to use multiple data packages in parallel if they want. In that case, the
                    app will query each database in turn.</li>
                    <li>There would be some overlap as some products might be available in multiple countries. However,
                    that overlap seems small (for language reasons alone).</li>
                  </ul>
                </li>
                <li>Web application (also optimized for mobile use).
                  <ul>
                    <li>A public, mobile-optimized website that gives access to the full functionality, including the
                    expert system features. People would enter or scan barcodes or product category names to see the
                    associated food rescue information.</li>
                    <li>This is a good solution to reach <b>(1)</b> desktop users, <b>(2)</b> people who want to use
                    the functionality occasionally on a mobile device, without installing an app; <b>(3)</b> people on
                    iOS, as native iOS support <a href=
                    "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=jzqZ6vlO6U0pJ-w6X9BibZeo">is unrealistic</a>
                    right now.
                    </li>
                    <li>This is also a good solution for marketing. The food rescue information will in many cases be
                    the world's best knowledge about rescuing specific food items. Consequentially, when making that
                    available on the web and not just inside the app, it can be expected that search engines will bring
                    a lot of traffic to them over time. By hinting from the web version to the app makes it a major
                    publicity instrument for uptake of the app usage.</li>
                    <li>Integrating in-browser barcode scanning is possible with <a href=
                    "https://github.com/serratus/quaggaJS">QuaggaJS</a>, a barcode scanning library implemented
                    completely in JavaScript. This seems preferably to the web application taking a picture and
                    transfering it to the server for barcode recognition because (1) scanning barcodes often takes
                    multiple attempts with adjustments, which is fast only when doing real-time scanning and (2)
                    client-side scanning avoids uploading images, which are much larger than the text string recognized
                    from them.
                    </li>
                    <li>Integrating the expert system is possible because "HeaRTDroid is a rule-based inference engine
                    both for Android mobile devices, and desktop solutions … <a href="https://heartdroid.re/">it's a
                    p]ure Java implementation that allows for integration with any Java code" ([see</a>). A better
                    option might be to wait for the "Server mode with TCP/IP protocol and REST API" of Heartdroid,
                    which is currently under development (<a href="https://heartdroid.re/">see</a>). Because that
                    allows to write the mobile website in any language. Similarly, HearRTDroid could be invoked as a
                    command line program on the server side, returning a food edibility estimation as a result and also
                    a list of database IDs of knowledge items to display alongside.
                    </li>
                    <li>
                      <b>Proposal (best so far):</b> Provide this by letting the <a href=
                      "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=zITgvLfrytJuA_b7-76ORAFu">Qt5 cross-platform
                      Food Rescue App</a> also target the web application platform. This <a href=
                      "https://redmine.webtoolkit.eu/boards/2/topics/15981">seems to be possible</a> by using the Wt
                      framework and standard Qt QML files. A more manual way would involve <a href=
                      "https://github.com/qmlweb/qmlweb">qmlweb</a> or <a href="https://pureqml.com/">PureQML</a>. In
                      any way, an interesting technological challenge to explore. Any QML / Qt based solution would
                      result in a web application with a server-side API and a client-side Single Page Application.
                    </li>
                    <li><b>Proposal:</b> Could be developed in Ruby on Rails (or a Ruby micro-framework like Sinatra)
                    for development to be reasonably fast. The server-side application would use the exact same SQLite
                    database as the mobile app, just including all product data rather than only those for a specific
                    country. A Ruby gem with native extensions around a C++ library extracted from the cross-platform
                    Food Rescue App could be used as a library to make the implementation faster. Alternatively and
                    probably cleaner, these features would be implemented in pure Ruby, only relying on the sqlite3
                    gem.</li>
                    <li><b>Proposal:</b> Perhaps there is a mobile website version of Open Food Facts which could serve
                    as a basis.</li>
                  </ul>
                </li>
                <li>Comment / question feature on knowledge items.
                  <ul>
                    <li>There should be a comment feature in the app to tell what's missing or knowledge that should be
                    added. People won't do any major editing from the app anyway, so that is not needed.</li>
                    <li>Proposal: this could take the form of a feedback form below the articles on edibility and
                    storage life where users can input unanswered questions. Users will then be notified in their app
                    when somebody researched and entered the answer. The list of currently unanswered questions would
                    be shown below the article, to make it clear what research and authoring work contributors are
                    welcome to do.</li>
                  </ul>
                </li>
                <li>Usage tracking to estimate rescued food.
                  <ul>
                    <li>The "counter for rescued food" feature above required user input to work, which will not come
                    in many cases. To better estimate how much food gets rescued, one could also make an estimate based
                    on usage data from the food rescue features, registering when somebody goes to the "Shelf life"
                    tab, and how much people scroll and read there. This kind of tracking however has a bad reputation
                    for a reason, so either there should be a surefire way to anonymize these statistics, or data
                    should be collected in a different way. For example, people might <i>have</i> to fill the feedback
                    form of the "counter for rescued food" feature for a former food rescue attempt in order to see the
                    "Shelf Life" information for another product.</li>
                  </ul>
                </li>
                <li>Mandatory use.
                  <ul>
                    <li>There will probably be global foo shortages in autumn / winter 2020 / 2021. This could still
                    easily not lead to mass starvation in poor countries when rich countries fix their food waste
                    issue. Mandatory use of a food edibility estimation tool in households would be a first step.</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <h3>Later</h3>
              <ul>
                <li>
                  <i>About</i>
                  <ul>
                    <li>Features that will not be realized until 2020-08-31, but perhaps later.</li>
                  </ul>
                </li>
                <li>Additional types of input data for showing food rescue content.
                  <ul>
                    <li>In the initial version, knowledge items to display (and also the corresponding expert system
                    rules to select) are selected based on food category information alone. However, other information
                    are also relevant to estimate edibility, especially when evaluated by expert system rules.</li>
                    <li>
                      <b>Proposed additional types of data</b>
                      <ul>
                        <li><b>Combinations of categories.</b> In Open Food Facts, categories are not super detailed.
                        Instead, combinations of categories are use. So instead of having a category "grated parmesan
                        cheeses", the product would be placed into both "parmesan cheeses" and "grated cheeses". And
                        instead of "pasta meals", one would use categories "pasta" and "meals ready-to-eat". As can be
                        seen from these examples, the expected storage life can be estimated much more exactly with
                        these combinations. In addition to "AND" combinations, one would also need "AND NOT"
                        combinations, such as "parmesan cheeses AND NOT grated cheeses" to apply to block parmesan
                        only.</li>
                        <li><b>Design shelf life.</b> If 10% more is safe it means very different things …; relevant
                        fields include expiration date information, which is not yet included in the CSV.</li>
                        <li>
                          <b>Common name.</b> Designates the type of product; often the same as a product category, but
                          sometimes more specific; see <a href=
                          "https://en.wiki.openfoodfacts.org/Data_fields#Common_name">field doc</a>, relevant field
                          `generic_name`.
                        </li>
                        <li><b>Macronutrients.</b> Because for example foods high in proteine are at higher risk of
                        causing food poisoning; relevant fields include `fat_100g`, `carbohydrates_100g`,
                        `sugars_100g`, `proteins_100g`.</li>
                        <li><b>Packaging.</b> Glass jar, metal can, protective athmosphere, … . For example, food
                        rescue content could be attached to a combination of "category: sauces" and "packaging: glass
                        jar / metal can" to apply to non-instant sauce products, for which there is no category.</li>
                        <li><b>Required storage.</b> Refrigerated, frozen, cool and dry, … .</li>
                        <li><b>Preservatives.</b> Relevant fields include `ingredients_text`, `salt_100g`,
                        `alcohol_100g`.</li>
                        <li><b>Preservation type.</b> Canned, pressure canned, pasteurized, … .</li>
                        <li><b>Water content.</b> Can perhaps be calculated, if everything that is not a macronutrient
                        or micronutrient must be water. Could also be added as a range to categories. Could also be
                        input by the user with a measuring device for the actua product under scrutiny, and can be
                        contributed from there to the Open Food Facts database.</li>
                        <li><b>Available storage and preservation technology.</b> It makes no sense to show fridge and
                        freezer storage information to people who don't have one, for example in developing countries.
                        So there should be a user settings section to choose what storage and preservation technology
                        one has available. This would also help people to store food properly when they temporarily
                        don't have their usual storage tech; for example in a disaster, on a camping trip etc..</li>
                      </ul>
                    </li>
                    <li><b>Offline storage.</b> Depending on what information is needed, it can be included in the
                    offline SQLite database of the app, not requiring online access. For example preservatives (as E
                    numbers), protein content (in mass percent) and design shelf life (as duration) can be stored
                    compactly.</li>
                    <li>
                      <b>Database model.</b> The current proposal is to store the conditions to select a topic in a
                      table `topic_visibility`, with columns `category_id` and `extra_conditions`. The latter would
                      reference a database query that a product has to fulfill in order to show the food item. (See
                      <b>⦿</b> for details.)
                      <ul>
                        <li>Storing complex conditions in normalized form in a database is complex and messy and still
                        usually not powerful enough and should be avoided. Instead, complex conditions can be stored in
                        text form as boolean expressions. That usually creates issues with parsing them, but not when
                        storing full database queries as done here.</li>
                        <li>Storing full database queries is equivalent to storing their result in a table
                        `topic_products`. However, storing just the query is much more compact (~200 B rather than
                        &gt;~10 kiB on average), basically a form of algorithmic compression.</li>
                        <li>To reduce storage demand further, the database query would not be stored directly into
                        column `topic_visibility.extra_conditions` but rather into a separate table, referenced with a
                        name like `in_jars`. That allows to re-use the same query many times and also helps to keep the
                        database content human readable.</li>
                        <li>To reduce storage demand further, during the deployment process the database queries can be
                        saved as binary BLOBs using a custom ZIP-like compression format with a pre-defined symbol
                        table that contains SQL keywords etc. and is defined when expo. The symbol table would be
                        defined while exporting the database for deployment, and would be stored in code. That way,
                        high compression ratios can be achieved for individual SQL queries.</li>
                        <li>The database queries can be arbitrarily complex, selecting the associated products based on
                        whatever information is available about them in the offline database. The most common forms
                        would be "multiple categories" and "not in another category". In this case, any one category
                        required for being associated with the topic would be placed into
                        `topic_visibility.category_id` and the others into the `extra_conditions` column in such a way
                        that the query in that column is re-usable.</li>
                        <li>Example for database storage: `topic_visibility.category_id` referencing category "Parmesan
                        cheeses" and `topic_visibility.category_id` referencing a query `grated_cheese` containing:
                        `SELECT product_id FROM products INNER JOIN categories ON … WHERE categories.name = "Grated
                        cheeses" AND product_id = ?;`. Including a parameter `?` that can be filled in when running the
                        query allows to avoid letting the database return hundreds of rows. Instead, it will tell if
                        the currently scanned product should show the considered food rescue topic or not, by returning
                        the product ID or nothing.</li>
                      </ul>
                    </li>
                    <li>
                      <b>Data input and interpolation.</b> Some of the proposed additional data is not (yet) available
                      in Open Food Facts. The cleanest solution would be to add new fields to Open Food Facts and
                      manually enter the additional types of data there, by looking at the product pictures (see:
                      <a href="https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=IDUEIP281F9mL8pqw56Rje_D">Adding Open
                      Food Facts data</a>). However, that is a lot of effort and takes time. Until then, it could be a
                      good idea to deduce this data approximately from other data (see: <a href=
                      "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=1K9fVGi4pKk08Smcvj17B-iF">Interpolating input
                      data</a>) and mark it with a degree of uncertainty, which the expert system can handle.
                    </li>
                    <li>
                      <b>Current relevance.</b> So far, only the ingredients could help to better inform edibility
                      estimations. Here, the amount of protein etc. is alread encoded pretty well in the category.
                      Information about preservatives would help. Other information first needs a major data entry
                      effort in the OFF database to be useful; for example, only ~7000 products are marked as "in metal
                      can" (<a href="https://world.openfoodfacts.org/packaging">see</a>) so far. Also, packaging codes
                      are very messy and would have to be tidied up after introducing a taxonomy. So at the current
                      time, this feature would add little benefit for the effort and other features should be added
                      first.
                    </li>
                  </ul>
                </li>
                <li>Categories for home-made food items.
                  <ul>
                    <li>Since their shelf life is much different from commercially packaged or preserved food, there
                    should be extra categories for this.</li>
                    <li>These would only be accessible by entering "homemade …" into the search bar to find a category
                    suggestion.</li>
                  </ul>
                </li>
                <li>Interpolating input data.
                  <ul>
                    <li>Interpolation would help to fill in missing data (with attached higher uncertainty) until
                    somebody will fill it in manually from observations about the product. This is esp. useful for data
                    that can not be directly observed from labelling and would have to be measured, such as water
                    content etc..</li>
                    <li>A good example of clustering Open Food Facts data is the Gaussian Mixture clustering see in the
                    Kaggle notebook "<a href="https://www.kaggle.com/allunia/hidden-treasures-in-our-groceries">Hidden
                    treasures in our groceries</a>". It infers product category from macronutrient composition.
                    </li>
                    <li>
                      <b>Proposed interpolations</b>
                      <ul>
                        <li><b>Design shelf life.</b> Can be deduced from the design shelf life of similar products,
                        based on category, packaging type, preservation type and macronutrient composition. Also, too
                        low values (by observing an expiration date shortly before expiry) can be corrected by
                        comparing with the most similar products.</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Completing the Open Food Facts dataset.
                  <ul>
                    <li>The Food Rescue App will eventually contain more information than just product categories in
                    its database, as that enables more accurate edibility assessments (see feature proposal "<a href=
                    "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=tU0TZa0f7DaXx9v14vdD1j97">Additional types of
                    input data</a>").
                    </li>
                    <li>This data should be added to the Open Food Facts dataset and imported from there. A lot can be
                    added from already existing pictures (such as "preservation type: canned", expiration date etc.).
                    Other data could only be added from pictures after taking new and more product pictures, for
                    example in stores. Whatever the case, data entry from pictures could be a good job for freelance
                    digital workers in lower-wage countries, if there is funding to pay them.</li>
                    <li>It makes sense to focus the efforts on completing the Open Food Facts dataset for one country
                    first before moving to another.</li>
                  </ul>
                </li>
                <li>In-app download of data packages.
                  <ul>
                    <li>The app would offer free in-app downloads of the SQLite databases, with variants for all
                    countries, per country, and also per language (English, country's main language or both). That
                    reduces the local storage requirements. In the initial version however, only a single global
                    database would exist, and be packaged right into the app.</li>
                    <li>There should be a server-side software that generates updated versions of the SQLite databases
                    for download by the app. Alternatively, that could be done manually with scripts once per month. If
                    done server-side, data storage would be in one large PostgreSQL database, and updates from the Open
                    Food Facts CSV export, their category taxonomy etc. would be imported automatically. The server
                    component would also include a web interface (ideally just generated without programming, perhaps
                    using Ruby and the generated admin interface) to add new knowledge items, and that would be the way
                    how people contribute to the content of the project.</li>
                    <li>Data selection for packages
                      <ul>
                        <li><b>Country-specific products.</b> Remove all products that are not sold in the target
                        country.</li>
                        <li><b>Local language versions only.</b> Both knowledge items and category names would only be
                        included in the language (or languages) of the target country.</li>
                        <li><b>Versions with common products only.</b> There could be a version where products with
                        less than a configurable number of scans in the last year are removed. Because for these
                        products, the added convenience of barcode scanning does not outweigh the storage space usage,
                        given that very probably these products would never be scanned by users (because perhaps they
                        are no longer produced). For these products, people can search by category themselves.</li>
                      </ul>
                    </li>
                    <li><b>Decision:</b> This is not a priority right now, as bundling all intended data for all Open
                    Food Facts products together with compression for download and storage will lead to ~6.5 MiB data
                    in download size and size on disk, assuming a 25 MiB SQLite databases with 75% compression
                    according to tests. Since this feature makes the app more complex to use, avoiding it is better
                    until download size hits approx. 15 MiB.</li>
                  </ul>
                </li>
                <li>OCR to help with barcode reading.
                  <ul>
                    <li>To help in cases where a barcode cannot be recognized, the software could also read the digits
                    printed below the barcode using OCR. That can be done without being error prone because the last
                    digit of any GTIN code "is a check digit, which follows the standard modulo 10 calculation"
                    (<a href="https://en.wikipedia.org/wiki/Global_Trade_Item_Number#Format_and_encodings">see</a>).
                    </li>
                  </ul>
                </li>
                <li>Web application feature for content authoring.
                  <ul>
                    <li>Currently, authoring food rescue content is done by editing CSV files or DocBook XML files with
                    various tools (<a href=
                    "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=Zov0uejcHo6ZldcfV5hTHJsA">see</a>).
                    </li>
                    <li>If that turns out to be deterring potential collaborators, it would be better to integrate
                    content authoring features into the web application version of Food Rescue App. There is no need to
                    integrate it into the mobile version, as nobody does scientific or technical writing on the
                    go.</li>
                    <li>Using the web application, content would be directly added to and modified in its SQLite3
                    database. It would then be exported and added to the Git repository, which would still serve as the
                    authoritative datasource from which all content is built (namely, after also integrating updated
                    content from other sources such as Open Food Facts products and categories, the FoodKeeper App
                    etc.).</li>
                    <li>This also allows to further automate the build process. Also, the translation management system
                    could be integrated, but that would be rather difficult.</li>
                  </ul>
                </li>
                <li>Plausibility checks of expert system results.
                  <ul>
                    <li>As a way for the developers to check the quality of the recommendations even though not all
                    cases can be tested, there should be an automated testing function that calculates results for many
                    combinations of input parameters and evaluates the outputs with automated means. For example,
                    increasing the amount of time that a test product's expiration date has passed should worsen the
                    edibility estimation gradually. If it becomes unstable instead, something with the expert system
                    rules is wrong.</li>
                    <li>These checks can and should be implemented as rules into the expert system itself. If one such
                    rule is triggered, the system would tell the user: "These results are inconsistent and probably not
                    reliable – procceed with care."</li>
                  </ul>
                </li>
                <li>Pre-calculated results of the expert system.
                  <ul>
                    <li>All edibility estimations that do not rely on user input can be made by the expert system ahead
                    of time, and the results can be saved into the SQLite database. That gives instant results and also
                    allows to check the calculations for plausibility before distributing the database. Such a result
                    could be for example "+2 weeks in the fridge, +5 months in the freezer".</li>
                    <li>For more precise results, the user would optionally answer some questions (expiration date,
                    observed changes etc.) and have the expert system calculate a new result live. In many cases, a
                    user will be happy with the quick result though, esp. when it claims much more storage life beyond
                    the expiration date than has passed so far.</li>
                  </ul>
                </li>
                <li>Expert system that learns from user feedback.
                  <ul>
                    <li>There is the option to make the expert system learn from user feedback: "The expressiveness of
                    the HMR+ allows to keep large parts of the application's logic as a rule‐based model. This allows
                    for fast reconfigurations of the system on‐the fly, without a need to recompile a source code. Such
                    adaptability may be understood as an ability of the system to modify its logic (e.g., with machine
                    learning methods) or user interfaces and user experience (with callbacks mechanism)."
                    (https://onlinelibrary.wiley.com/doi/full/10.1111/exsy.12328)</li>
                  </ul>
                </li>
                <li>Microbial growth simulators as part of the expert system.
                  <ul>
                    <li>Simulators for microbial growth and storage test results provided by companies can be
                    integrated into the application. The application would then be able to take in data from sensors
                    (current pH, current water content, current water activity, time-series temperature, time-series
                    relative humidity) as input for these simulations. Time series data would come from web-connected
                    sensors attached to the food items or can also be extrapolated from location, historical weather
                    data and building type.</li>
                    <li>The application would then combine everything (and extrapolate over knowledge gaps) using its
                    expert system and Open Food Facts data about food items with similar ingredients (storage test
                    results, pH, water content, water activity and user experience with the expiration date etc. would
                    be added to Open Food Facts).</li>
                    <li>That would probably make it a suitable system even for professional use, avoiding a lot of food
                    waste even in commercial and wholesale settings.</li>
                  </ul>
                </li>
                <li>Displaying expert system results in the Open Food Facts Android app.
                  <ul>
                    <li>Because the Open Food Facts uses a client-server architecture, this requires to implement the
                    expert system server-side. Which is a major effort, so this feature is for later.</li>
                    <li>As an alternative, the expert system could be implemented server-side right from the beginning.
                    But that is less great compared to an app that can work completely offline, and it is also complex
                    (requiring tighter collaboration with the OFF team).</li>
                  </ul>
                </li>
                <li>Recommending hypocaloric diet to rescue food.
                  <ul>
                    <li>There is indeed a lot of food waste because people in affluent countries eat more than they
                    need. The way to rescue this food is to not eat it. The app might recommend that, either based on
                    the calculated BMI of the user, or based on diet tracking.</li>
                    <li>For diet tracking, the simplest option is to use the mobile device to scan everything while
                    shopping. It will sum up the calories, and tell the user to stop shopping when the threshold (based
                    on shopping period and number of people in the household) is reached.</li>
                    <li>Probably it's not a good idea to make this recommendation often, as people could think this is
                    insulting and might stop using the app. But as an ultima ratio measure, it's necessary. Basically,
                    when the app might become aware that global hunger is above a certain threshold, it would activate
                    this behavior.</li>
                  </ul>
                </li>
                <li>Ability to report unclear / misleading / dangerous edibility estimations.
                  <ul>
                    <li>Esp. relevant when a user experienced food poisoning as a result of using the app.</li>
                  </ul>
                </li>
                <li>Generic resource rescue system.
                  <ul>
                    <li>Beyond rescuing food, the app could care for rescuing all kinds of other products and
                    resources.</li>
                    <li>
                      <b>Resources to rescue</b>
                      <ul>
                        <li><b>Drugs / medication.</b> Like food, most drugs don't go bad at their best-before date.
                        The difficulty is to know which might become dangerous, which just become weaker (and might
                        need higher dosing) and which do not change at all.</li>
                        <li><b>Clothing.</b> How to upcycle clothing. How to donate it to the closest gift shop
                        etc..</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Intelligibility of the expert system.
                  <ul>
                    <li>The principle should be that every rule entered into the expert system is also documented with
                    a human-readable knowledge item which also mentions its sources. Ideally all knowledge would be
                    both human and machine readable, making for an intelligible AI system.</li>
                    <li>Later, it would ideally be possible to show the rules used by the expert system's reasoning and
                    their relative contribution to the decision in a kind of "explainer screen".</li>
                    <li>This is not a priority as it will probably not be requested or valued by the typical users –
                    they don't care about "understandable AI" as they are not techies.</li>
                  </ul>
                </li>
                <li>Using expiry dates for shopping list planning.
                  <ul>
                    <li>Another way to fight food waste with the help of the OFF app and expiry information would be a
                    feature that warns about shopping list items or shopped items if they are in danger of rotting away
                    before being eaten. That estimation would be made based on a configured number of people and meals
                    and perhaps with feedback of what had to be thrown away during past shopping trips. Not everyone
                    writes a shopping list before shopping, but (1) people can just very quickly select their usual
                    items from past shopping lists and (2) people can also add to the shopping list during the shopping
                    by simply scanning the item. The inspiration is from <a href=
                    "https://www.welt.de/200208000#/comment/5d7a8616cff47e00016f0416">here</a>. Probably, this feature
                    has no place in the current OFF Android app. But perhaps there is an existing, open source, OFF
                    based shopping list app where it can fit in. Another problem is that this feature proposal
                    <i>could</i> be too tech-centric. People might just not use it as it might never be comfortable
                    enough to use. It might find its niche in purchasing operations for small restaurants, maybe.
                    </li>
                  </ul>
                </li>
                <li>Showing per-category expiry distributions.
                  <ul>
                    <li>From per-product expiry dates, diagrams for each category can be created that show shelf life
                    durations of all other products in the same category, and where the currently analyzed product
                    falls in. That should already allow users to know when they can be more relaxed about a specific
                    product, and would allow them to rescue some food items.</li>
                  </ul>
                </li>
                <li>Comparison of declared shelf life between products.
                  <ul>
                    <li>The "Shelf Life" (German: "Haltbarkeit") tab of the OFF app would contain an article explaining
                    edibility, proper storage etc. and below that an auto-generated section summarizing results
                    inferred from best-before and use-by dates of products in this category. That would include a
                    comparison of the scanned product with other products in the category, showing if there are
                    "better" ones (lasting longer, also without preservatives). This is basically small advertising for
                    products that are not labelled to be thrown away, hopefully nudging manufacturers to provide more
                    real best-before dates. The OFF web interface already has a nice architecture for product
                    comparison with product in the same category. Comparison of the expiration period can be added
                    there easily. See for example <a href=
                    "https://world.openfoodfacts.org/product/4001686386613">here</a> at "Comparison to average values
                    of products in the same category: …". This idea has been discussed before by OFF: "<a href=
                    "https://openfoodfacts.slack.com/archives/C17324N0L/p1462730965000039">…] a user inputting
                    production and consumption dates for the same product at the same time would enable us to make
                    averages over time […] that could help see producers which are too conservative […] assuming that
                    all products rot at the same pace (all products that are similar)" (@teolemon [here</a>)).
                    </li>
                  </ul>
                </li>
                <li>Edibility assessment for wild plants and animals.
                  <ul>
                    <li>Many wild herbs are actually edible, for example stinging nettle. Also wild mushrooms
                    etc..</li>
                    <li>This would complete the feature set: an offline expert system that can be used to determine
                    what type of plant or animal one is looking at, and what the dangers of eating it would be. The
                    dangers also should include the dangers of misidentification and the risks involved – means, if
                    there are plants that look similar and are poisonous.</li>
                    <li>This would also accurately inform about the dangers of various wild food, such as the radiation
                    danger of eating wild-grown mushrooms in Europe due to the Chernobyl incident, and the
                    recommendation to limit their ingestion to a certain amount.</li>
                    <li>For identification, there could be a collaboration with a plant identification software by
                    accessing their API. The accuracy of these services is not more than 95%, which is not enough for
                    cases where there is even a remote chance of a dangerous misidentification. So it would be
                    presented as a guess, with a checklist of steps for the user to confirm the plant by comparing
                    various plant parts to pictures, counting and measuring plant parts etc.. Options:
                      <ul>
                        <li>
                          <b><a href="https://plantnet.org/">PlantNet</a>.</b> Provides an API at <a href=
                          "https://my.plantnet.org/">my.plantnet.org</a>, with relatively generous usage quotas. The
                          app itself is not open source, but the contributed user data (observations of plant species
                          with a picture) is licensed under CC-BY-SA 2.0 (<a href=
                          "http://identify.plantnet-project.org/api/about/terms">see</a>, in section "Intellectual
                          property rights").
                        </li>
                        <li><b><a href="https://www.picturethisai.com/">PictureThis.ai</a>.</b> Not open source, but a
                        well-known and feature-rich plant identification software.</li>
                        <li>
                          <a href="https://www.google.com/search?q=open+source+plant+identification">more options</a>
                        </li>
                      </ul>
                    </li>
                    <li>In addition to showing the edibility, the nutritional data of these wild plants and animals
                    could also be shown. But that would be better done by a different app.</li>
                  </ul>
                </li>
                <li>Generic mobile expert system for products.
                  <ul>
                    <li>Later, this application could become a more general expert system for mobile devices, not
                    limited to food edibility. It would be relatively easy to extend it to other reasoning about
                    products (ethical buying, esp. about food, presenting an alternative to certification
                    schemes).</li>
                  </ul>
                </li>
                <li>AsciiDoc syntax variant with single Unicode control characters.
                  <ul>
                    <li>The idea is to edit the source, but always using single Unicode characters as control
                    sequences. The editor's code highlighting would then be used to provide visual feedback ("WYSIWYM")
                    via font color, fontweight, font size etc., quite similar to programming editors. Just that
                    advanced syntax hihlighting would also include changing the font size tomultiples (1, 2, 3) and
                    fractions (0.5) of the width and height. Since the font would still be monospace, cursor navigation
                    would still be as comfortable as in "normal" programming, while information density on one screen
                    would be higher and more comfortable.</li>
                    <li>This is a completely new way for a plaintext markup language like Markdown, AsciiDoc, XML etc..
                    It is still based on editing the source format, but allows better visual feedback and less clutter
                    than any alternative. It is especially much less bloated than XML, but as systematic as XML.</li>
                    <li>Since the control sequences are very short, there is very little visual clutter. And since
                    Unicode characters are used for the control sequences, there is hardly ever a need to escape
                    characters, and no danger of running out of control sequence characters. So there is no need for
                    ugly doubling, triping and other combinations. Also, as start and end characters are visually
                    matching but different from the start and end characters of any other "tag", it solves the issue in
                    programming etc. of having to count parentheses to determine if a section is correct. It might be
                    best to use Unicode characters from the private use area rather than misusing existing ones.</li>
                    <li>To enter the control sequences, one would (1) either use toolbar buttons to enter the Unicode
                    characters, (2) or use custom Compose key sequences under Linux, (3) or use "backslash formulas" as
                    in LyX to enter control characters by name, (4) or use copy&amp;paste from previous sections.</li>
                    <li>Fictional, minimal example, with an AsciiDoc equivalent. (It's more useful when replacing more
                    ugly syntax.)<br>
                      AsciiDoc: `Hello <b>World</b>, look at <a href="http://example.com/">this link</a>`<br>
                      AsciiCode: `Hello ❰World❱, look at 【this link ∥ http://example.com/】`<br>
                      Presentation: Hello <b>❰World❱</b>, look at 【this link ∥ <a href=
                      "http://example.com/">http://example.com/</a>】
                    </li>
                    <li>For existing work in similar directions, but with programming languages, see:<br>
                      <a href="https://en.wikipedia.org/wiki/APL_(programming_language">APL (programming
                      language)</a>)<br>
                      <a href="http://xahlee.info/comp/unicode_support_ruby_python_elisp.html">Unicode in Function
                      Names and Operator Symbol</a><br>
                      <a href="https://bugs.ruby-lang.org/issues/8437">Ruby feature request #8437</a>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <h3>Discarded</h3>
              <ul>
                <li>Flow charts defined in a formal language.
                  <ul>
                    <li>The SQLite database would also contain the definitions for flow charts for the quick tests of
                    edibility. (But that is a feature that can also follow later, as it's just for comfort and not a
                    necessity.) These flow charts would then also contain a function asking if the user was able to
                    rescue the food item as the last question. This data will be aggregated locally, and once per month
                    the user is asked if they want to contribute that to the statistics.</li>
                  </ul>
                </li>
                <li>Integration into an Open Food Facts iOS app.
                  <ul>
                    <li>Marked as "optional" in the original project plan.</li>
                    <li>There is a <a href="https://github.com/openfoodfacts/openfoodfacts-ios">native iOS app</a>,
                    which is in active development as of 2020-04-20. This is certainly not a priority, as the iOS
                    market share is 14% vs. 86% Android (<a href=
                    "https://www.idc.com/promo/smartphone-market-share/os">see</a>).
                    </li>
                    <li>There is also a cross-platform <a href=
                    "https://github.com/openfoodfacts/openfoodfacts-cordova-app">OFF Cordova app</a> (the system
                    previously called "PhoneGap"). It would be possible to add the food rescue features here, even
                    offline because SQLite incl. preloading is available: "On Cordova …, the native SQLite database is
                    often a popular choice, because it … offers more flexibility in backing up and pre-loading
                    databases, because the SQLite files are directly accessible to app developers" (<a href=
                    "https://pouchdb.com/adapters.html">see</a>).
                    </li>
                    <li>However, <b>(1)</b> Cordova is a bad technology choice in general as it's basically a packaged
                    web app, <b>(2)</b> the Cordova app is marked as alpha software and its latest commit is from
                    2018-09-11; <b>(3)</b> the Cordova app is the former, now legacy, official app of Open Food Facts
                    (<a href="https://world.openfoodfacts.org/data">see</a>) and <b>(4)</b> it is not anymore the focus
                    of the OFF team, as they say "We'd very much like <a href=
                    "https://en.wiki.openfoodfacts.org/Mobile_Apps">to] have native apps for speed and access to more
                    advanced features" ([see</a>).
                    </li>
                    <li>
                      <b>Decision:</b> There is currently no good way to implement iOS support, as doing so would
                      require contributing to the native app, which is a hard-to-justify effort at the moment. So far,
                      the better alternative is an <a href=
                      "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=E34d0t1guv-W5DImJF1zldh9">optimized mobile
                      website</a> or a <a href=
                      "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=zITgvLfrytJuA_b7-76ORAFu">Qt5 cross-platform
                      app</a>.
                    </li>
                  </ul>
                </li>
                <li>Online information retrieval in the app.
                  <ul>
                    <li>This is relevant only after implementing that data is not bundled with the app but downloaded
                    from within the app later. Because then, before downloading any data package, the app would query
                    the Open Food Facts server instead. Some users might prefer this mode as it saves them storage
                    space.</li>
                    <li>This feature is also a good preparation for later integration with the official Open Food Facts
                    Android app, where both the barcode-to-category translation and the expert system functionality
                    would happen on the server.</li>
                    <li>This feature is also relevant for a later <a href=
                    "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=tU0TZa0f7DaXx9v14vdD1j97">use of more data for
                    edibility estimations</a>, as all the data can be obtained form the Open Food Facts API. However,
                    the feature is not essential for that, as the data can also be included offline.
                    </li>
                    <li><b>Decision.</b> Not a good idea. An offline app does is a good is a good USP and does not have
                    to also work online. It would require extra permissions at the time of installation to support
                    this, which might create trust issues compared to a pure offline app. And users who don't want the
                    app can simply use the web version (which is needed anyway).</li>
                  </ul>
                </li>
                <li>Android app using Jruby.
                  <ul>
                    <li>No up-to-date, usable technology choice exists even though this is possible in principle.</li>
                    <li>Possible implementation technologies
                      <ul>
                        <li><b><a href="https://github.com/jedld/droiuby">Droiuby</a>.</b> Possibly the most mature,
                        but unmaintained since 2014. Also, it might be based on an Android toolchain that is no longer
                        offered by Google, similar to how the Ruboto 1.x version became unusable.</li>
                        <li>
                          <b><a href="http://ruboto.org/">Ruboto</a>.</b> Latest version from early 2019 only has
                          <a href=
                          "https://github.com/ruboto/JRuby9K_POC/blob/master/app/src/main/resources/startup_activity.rb">
                          a proof of concept</a> and only supports Android 8+; <a href=
                          "http://ruboto.org/news/2019/01/06/Ruboto-9k.html">see</a>. The earlier Ruboto 1.x versions
                          cannot be used anymore because "Ruboto 1.x is based on the previous generation of the
                          toolchain which is not available anymore from Google. " (<a href=
                          "https://groups.google.com/d/msg/ruboto/WfDz15X3z9E/SHVAmJNaBAAJ">see</a>).
                        </li>
                        <li><b><a href="http://docs.rhomobile.com/en/5.4/guide/api_ruby">RhoMobile Ruby APIs</a>.</b>
                        Unmaintained since 2012.</li>
                        <li><b><a href="https://stackoverflow.com/a/27305604">jrubyc --java</a>.</b> A way to translate
                        Ruby code to Java, and then to use that to compile an Android application.</li>
                        <li><b><a href="https://www.jruby.org/">JRuby</a>.</b> The engine all of the above use;
                        actively maintained, but hard to use on its own.</li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <h2>Component Documentation</h2>
          <ul>
            <li>
              <h3>C++ development</h3>
              <ul>
                <li>
                  <a href="https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=kf4SFd6oya-PFzYwpotN73sx">development
                  environment</a> (incl. build system)
                </li>
                <li>code documentation
                  <ul>
                    <li>Doxygen
                      <ul>
                        <li>Used for API documentation of C++ code. Written in Qt, apparently.</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>code style</li>
                <li>C++ language</li>
                <li>C++ standard library</li>
                <li>useful libraries
                  <ul>
                    <li>
                      <a href="https://github.com/Orc/discount">Discount</a> (Markdown library in C / C++, as used in
                      the KDE Kirigami application Kookbook)
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <h3>Content authoring</h3>
              <ul>
                <li>AsciiDoc / Asciidoctor writing
                  <ul>
                    <li>
                      <a href="https://asciidoctor.org/docs/asciidoc-syntax-quick-reference">syntax reference</a>
                    </li>
                    <li>
                      <a href="https://asciidoctor.org/docs/user-manual">user manual</a>
                    </li>
                    <li>
                      <a href="https://www.rubydoc.info/gems/asciidoctor">Ruby API docs</a>
                    </li>
                    <li>
                      <a href="https://powerman.name/doc/asciidoc">cheatsheet</a>
                    </li>
                    <li>
                      <a href="https://github.com/asciidoctor/asciidoctor-bibtex#usage">bibliography syntax</a> (via
                      asciidoctor-bibtex plugin)
                    </li>
                  </ul>
                </li>
                <li>CSV+Asciidoctor writing
                  <ul>
                    <li>
                      <i>About</i>
                      <ul>
                        <li>Needed to produce CSV files with embedded Asciidoctor, which is one of the source formats
                        for food rescue content.</li>
                        <li>Collaborators are free to use whatever tool they like from this list. The only important
                        thing is that all data ends up in the authoritative data store <a href=
                        "https://github.com/fairdirect/foodrescue-content">fairdirect/foodrescue-content</a> in
                        CSV+Asciidoctor format.
                        </li>
                      </ul>
                    </li>
                    <li>
                      <i>Columns</i>
                      <ul>
                        <li><b>ID.</b></li>
                        <li><b>Text.</b></li>
                        <li>
                          <b>Text type.</b> Values conform to the planned <a href=
                          "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=ZYsoIiZKiCqqvdw_JZC4f7fV">content
                          sections</a> of food rescue content. See there for the allowed values.
                        </li>
                        <li><b>Categories.</b></li>
                        <li><b>Author.</b></li>
                        <li><b>Date added.</b> An ISO 8601 date.</li>
                        <li><b>Version date.</b> An ISO 8601 date.</li>
                      </ul>
                    </li>
                    <li>
                      <a href="https://www.obvibase.com/">Obvibase</a>
                      <ul>
                        <li>Obvibase is an instant-use, web-based database that allows real-time collaboration. It is
                        not open source, but provides a free version that is probably sufficient (3 databases of 1 MiB
                        each). The commercial plan is 4 USD per user per month.</li>
                        <li><b>Supported features</b>: Multi-value fields are possible via nested tables. Multiline
                        values are possible (use `Shift + Return` to create a linebreak). Export is possible by
                        exporting each table to CSV. Since CSV also allows multiline field values, no problem
                        here.</li>
                        <li>
                          <b>Unsupported features:</b> Direct export to SQLite3 is not possible, but can be added by
                          combining all exported tables in a custom script. Other limitations are listed <a href=
                          "https://ma.juii.net/blog/best-collaborative-ad-hoc-database">here</a>.
                        </li>
                      </ul>
                    </li>
                    <li>
                      <a href="https://airtable.com/">Airtable</a>
                      <ul>
                        <li>Very similar to Obvibase, but more complicated and more feature rich. Like Obvibase, it is
                        SaaS freemium software and not open source</li>
                      </ul>
                    </li>
                    <li>
                      <a href="https://www.libreoffice.org/discover/calc/">LibreOffice Calc</a>
                      <ul>
                        <li>Provides good table editing functionality as needed: import from and export to CSV,
                        multiline field values, data filtering, freezing header rows etc..</li>
                        <li>Allows opening, editing and saving a CSV file without having to go through any export
                        dialog.</li>
                      </ul>
                    </li>
                    <li>
                      <a href="https://www.grubba.net/">Grubba</a> #potential
                      <ul>
                        <li>Grubba is a no-coe online database builder. It is free to use as a SaaS solution, but not
                        open source software. Export to Excel files is possible, so in principle it can be used to edit
                        CSV files.</li>
                        <li>It might not provide the required large, multi-line text fields for writing articles. To be
                        evaluated.</li>
                      </ul>
                    </li>
                    <li>Ruby on Rails #potential
                      <ul>
                        <li>When a tool has to be chosen for which coding is needed, then this framework together with
                        the admin generator gem is a suitable one because it's based in Ruby, like the rest of the food
                        rescue content tools.</li>
                      </ul>
                    </li>
                    <li>
                      <a href="https://www.openxava.org/">OpenXava</a> #potential
                      <ul>
                        <li>An open source application where you define a data model in simple Java code and it
                        generates a web application to edit data in a relational database model with multiple connected
                        tables. Seems mature.</li>
                        <li>However, as this involves coding, a relational database on a server etc., that might make a
                        simple Ruby on Rails or similar application more attractive to stay within the same programming
                        framework.</li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <h3>Content bibliography</h3>
              <ul>
                <li>asciidoctor-bibliography
                  <ul>
                    <li>The second tool that allows to add BibTeX bibliographies to Asciidoctor documents. Not part of
                    the official Asciidoctor toolkit.</li>
                    <li>
                      <a href="https://github.com/riboseinc/asciidoctor-bibliography">repo</a>
                    </li>
                  </ul>
                </li>
                <li>asciidoctor-bibtex
                  <ul>
                    <li>The first tool that allows to add BibTeX bibliographies to Asciidoctor documents. Part of the
                    official Asciidoctor toolkit.</li>
                    <li>
                      <a href="https://github.com/asciidoctor/asciidoctor-bibtex">repo</a>
                    </li>
                  </ul>
                </li>
                <li>BibTeX
                  <ul>
                    <li>
                      <a href="https://en.wikipedia.org/wiki/BibTeX#Bibliographic_information_file">file format
                      cheatsheet</a>
                    </li>
                    <li>
                      <a href="https://ctan.org/pkg/biblatex-cheatsheet">detailed file format cheatsheet</a>
                    </li>
                    <li>
                      <a href="http://www.bibtex.org/Format/">file format structure details</a>
                    </li>
                    <li>
                      <a href="https://github.com/FTSRG/cheat-sheets/wiki/BibTeX-Guidelines">practical BibTeX tips</a>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <h3>Content import and storage</h3>
              <ul>
                <li>DocBook format
                  <ul>
                    <li>
                      <a href="https://tdg.docbook.org/tdg/5.1/">DocBook 5.1: The Definitive Guide</a>
                    </li>
                    <li>
                      <a href="https://www.xmlmind.com/tutorials/DocBookAssemblies/">DocBook Topics and Assemblies</a>
                    </li>
                    <li>
                      <a href="doccookbook.sourceforge.net/html/en/dbc.markup.xincludes.html">XInclude in DocBook</a>
                    </li>
                  </ul>
                </li>
                <li>DocBook editing
                  <ul>
                    <li><i>About.</i> DocBook is no longer used for content authoring. It is still the target format in
                    the database, so some editing will be required.</li>
                    <li>
                      <a href="https://www.xmlmind.com/xmleditor/">XMLmind XML Editor</a>
                      <ul>
                        <li>It supports DocBook 5.1 out of the box.</li>
                        <li>It's a bit ifficult to use in visual mode, but this could be improved by using DTD for a
                        relevant subset of DocBook, by providing a cheatsheet etc..</li>
                        <li>It is not open source, but free to use for open source projects (<a href=
                        "https://www.xmlmind.com/xmleditor/which_license.html">see</a>). No open source XML editor with
                        visual block editing mode has been found (<a href=
                        "https://wiki.tei-c.org/index.php?title=Category:Editing_tools">see</a>), so this is the best
                        bet so far.
                        </li>
                      </ul>
                    </li>
                    <li>MS Visual Code (with extensions)
                      <ul>
                        <li>Used as the IDE as well (<a href=
                        "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=1BlLcnGnhrnRQCet6LSsPkJ_">see</a>).
                        </li>
                      </ul>
                    </li>
                    <li>
                      <a href="http://dep4e.sourceforge.net/">DocBook Editing and Processing for Eclipse (DEP4E)</a>
                      #potential
                    </li>
                    <li>
                      <a href="https://help.ubuntu.com/community/DocBookEditors#OpenOffice.org_Writer">(more
                      options)</a>
                    </li>
                    <li>AbiWord #discarded
                      <ul>
                        <li>AbiWord can save to and load from DocBook XML files. But it has too many limitations: (1)
                        it can load from and save to DocBook `book` documents, but not DocBook `topic` documents; (2)
                        it cannot parse the file if there are additional elements in
                        `&lt;bookinfo&gt;…&lt;/bookinfo&gt;` elements; (3) it has no support for literature references
                        at all; and probably many more points like that.</li>
                      </ul>
                    </li>
                    <li>LibreOffice #discarded
                      <ul>
                        <li>LibreOffice can save to and load from DocBook XML files. But it has too many limitations:
                        (1) it can load from and save to DocBook `article` documents, but not DocBook `topic`
                        documents; (2) it does not generate `&lt;info&gt;…&lt;/info&gt;` elements, and if editing these
                        into the XML source LibreOffice will destroy them when opening them the next time by
                        interpreting these as textual content; (3) it does not render literature references with the
                        correct elements in the output; (4) it does not include the bibliography list in the output;
                        and probably many more points like that.</li>
                        <li>Proposal: A custom Ruby Script could be used to convert between the DocBook XML format for
                        LibreOffice and for topic storage.</li>
                        <li>Proposal: Use DocBook articles for content storage, in exactly the way generated by
                        LibreOffice. However, this is not possible as it does not store `info` elements, the
                        bibliography index etc., so a lot of postprocessing would be needed.</li>
                        <li>Proposal: Extend the LibreOffice DocBook export code to include an option of exporting to
                        DocBook topics in the way needed here.</li>
                      </ul>
                    </li>
                    <li>LyX #discarded
                      <ul>
                        <li>Using LyX as DocBook editor is only possible in version 1.2.0 (<a href=
                        "https://wiki.lyx.org/LyX/DocBook">see</a>). The current version is 2.3.x.
                        </li>
                        <li>Also, installing LyX brings in all the LaTeX packages (650 MiB of stuff), so it's not a
                        great choice for people who only want to edit DocBook and not need it for LaTeX stuff.</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>DocBook processing
                  <ul>
                    <li>DocBook viewer</li>
                    <li>DocBook XML editor</li>
                    <li>Ox
                      <ul>
                        <li>
                          <a href="http://www.ohler.com/ox/">API docs</a>
                        </li>
                        <li>
                          <a href="https://github.com/ohler55/ox">repository</a>
                        </li>
                      </ul>
                    </li>
                    <li>
                      <a href="https://pandoc.org/">Pandoc</a> (allows converting from DocBook to EPUB, HTML, PDF, ODT,
                      AsciiDoc, AsciiDoctor etc.)
                    </li>
                    <li>
                      <a href="https://opensuse.github.io/daps/doc/art.tutorial.html">DABS</a> #potential
                    </li>
                    <li>
                      <a href="https://l10n.kde.org/docs/tools.php">checkXML5</a> #potential
                    </li>
                    <li>
                      <a href="https://l10n.kde.org/docs/tools.php">meinproc5</a> #potential
                    </li>
                    <li>
                      <a href="https://github.com/shahryareiv/asciimintjs">asciimintjs</a>, a tool to convert AsciiDoc
                      documents to other formats, including PDF via LaTeX #potential
                    </li>
                    <li>
                      <a href="https://antora.org/">Antora</a>, a build tool for Asciidoctor projects, written in
                      JavaScript #potential
                    </li>
                  </ul>
                </li>
                <li>Open Food Facts products import
                  <ul>
                    <li>
                      <a href="https://world.openfoodfacts.org/data">data download page</a>
                    </li>
                    <li>
                      <a href="https://en.wiki.openfoodfacts.org/Data_fields#Common_name">general field
                      documentation</a>
                    </li>
                    <li>expiration date field documentation
                      <ul>
                        <li>OFF products currently contain a field "expiration_date". See for example:
                        "expiration_date: "25/05/2016"" in
                        https://world.openfoodfacts.org/api/v0/product/5014044006350.json .</li>
                        <li>The expiration date, even when contained in the database, is currently not shown in the OFF
                        web interface. Example: https://world.openfoodfacts.org/product/4001686386613</li>
                        <li>The expiration date is entered into the field probably verbatim as shown on the product,
                        not converted to any standard date format yet. See for example:<br>
                        "07/2017" in https://world.openfoodfacts.org/api/v0/product/4001686386613.json<br>
                        "25/05/2016"" in https://world.openfoodfacts.org/api/v0/product/5014044006350.json</li>
                        <li>Currently, 137 022 products out of 1 173 731 products (11.7%) have their expiration date
                        information completed. See: https://world.openfoodfacts.org/state/expiration-date-completed .
                        For others, this information can still be extracted from the product images. However, usually
                        that's not the case as there are only images of the product front plus the ingredients list and
                        nutrition table, while the expiration date is usually contained on a side or similar. Again,
                        however it seems possible that the non-cropped versions of pictures showing the ingredients and
                        nutrition info are also accessible somewhere (see:
                        https://en.wiki.openfoodfacts.org/OCR/Results#Kind_of_images_processed ).</li>
                        <li>The data quality of field expiration_date is often questionable as it is not recorded (and
                        often no longer inferable) at what date the expiration date "measurement" was made and entered.
                        For example, product 4001686386613 has expiration date "07/2017". The only information about a
                        recording date is "entry_dates_tags[0]", here "2013-04-25". That does not fit together though,
                        as even candies won't have 4 years of expiration dates. So probably, "expiration_date" was
                        filled during an update, and it is no longer recorded when.</li>
                      </ul>
                    </li>
                    <li>MongoDB database dump
                      <ul>
                        <li>Download: https://world.openfoodfacts.org/data</li>
                        <li>This is the only full data dump of product data. The CSV does not contain all columns.</li>
                        <li>MongoDB contains only (!) a collection of products, nothing else. All other structure, for
                        example of categories, is defined in text files at
                        https://github.com/openfoodfacts/openfoodfacts-server/tree/master/taxonomies .</li>
                        <li>fields related to categories
                          <ul>
                            <li>categories</li>
                            <li>categories_lc</li>
                            <li>categories_hierarchy</li>
                            <li>categories_tags</li>
                            <li>categories_prev_hierarchy</li>
                            <li>categories_debug_tags</li>
                          </ul>
                        </li>
                        <li>example
                          <ul>
                            <li>```<br>
                            "_id" : 20525002,<br>
                            […]<br>
                            "categories_tags" : [<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:plant-based-foods-and-beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:plant-based-beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:hot-beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:herbal-teas",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:teas"<br>

                            ],<br>
                            "categories_hierarchy" : [<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:plant-based-foods-and-beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:plant-based-beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:hot-beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:herbal-teas",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:teas"<br>

                            ],<br>
                            […]<br>
                            "categories" : "Aliments et boissons à base de végétaux,Boissons,Boissons chaudes,Boissons
                            à base de végétaux,Thés,Infusions",<br>
                            […]<br>
                            "categories_lc" : "fr",<br>
                            ```</li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                    <li>CSV database dump
                      <ul>
                        <li>Download: <a href="https://world.openfoodfacts.org/data">index page</a>, <a href=
                        "https://static.openfoodfacts.org/data/en.openfoodfacts.org.products.csv">direct download
                        link</a>
                        </li>
                        <li>Size: 2.3 GiB as of 2020-03.</li>
                        <li>CSV does not contain all data (<a href=
                        "https://github.com/openfoodfacts/openfoodfacts-server/issues/2325">see</a>). For example, the
                        expiration_date field is probably not contained, as seen in the <a href=
                        "https://github.com/openfoodfacts/openfoodfacts-server/issues/2325#issuecomment-536164991">CSV
                        column header</a>.
                        </li>
                        <li>
                          <a href="https://static.openfoodfacts.org/data/data-fields.txt">CSV field documentation</a>
                        </li>
                        <li>
                          <a href=
                          "https://blog-postgresql.verite.pro/2018/12/21/import-openfoodfacts.html">instructions for
                          conversion to PostgreSQL</a><br>
                          This imports the whole CSV file into one table, without normalization.
                        </li>
                        <li>
                          <b>relevant columns</b> for Food Rescue App<br>
                          Using the field names in the CSV file header as seen 2020-04-21.
                          <ul>
                            <li>`code`: the GTIN code of the product</li>
                            <li>`categories_en`: comma-separated list of English-language categories; may contain tags
                            where an English name is not available, such as "fr:pate-d-amende", which should be ignored
                            as this is a data consistency error</li>
                            <li>`countries_en`: comma-separated list of English-language country names in which the
                            product is for sale; relevant for generating SQLite databases per country</li>
                          </ul>
                        </li>
                        <li>
                          <b>not relevant columns</b> for Food Rescue App
                          <ul>
                            <li>`categories`: <b>not</b> relevant, as this contains French (!) category names only,
                            omitting any category where only an English (or other language) name exists</li>
                            <li>`categories_tags`: <b>not</b> relevant, as we use the full names to identify
                            categories, as done in the categories.txt taxonomy definition file</li>
                            <li>`main_cat`: <b>not</b> relevant, as this is simply one of the categories; also, it is
                            recorded in tag format, which is not what we need (e.g. "en:refrigerated-meals" or
                            "fr:noir")</li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Open Food Facts categories import
                  <ul>
                    <li>categories.txt
                      <ul>
                        <li>This is the authoritative data source for the category taxonomy. It is manually maintained
                        in the Github repository.</li>
                        <li>Directory: <a href=
                        "https://github.com/openfoodfacts/openfoodfacts-server/tree/master/taxonomies">openfoodfacts-server/taxonomies</a>
                        </li>
                        <li>File page:
                        https://github.com/openfoodfacts/openfoodfacts-server/blob/master/taxonomies/categories.txt</li>
                        <li>File download link:
                        https://github.com/openfoodfacts/openfoodfacts-server/blob/master/taxonomies/categories.txt?raw=true</li>
                        <li>File download command<br>
                        ```<br>
                        wget
                        https://github.com/openfoodfacts/openfoodfacts-server/blob/master/taxonomies/categories.txt?raw=true
                        -O categories-txt.1-downloaded.txt<br>
                        ```</li>
                        <li>The file contains some syntactic errors as it is manually maintained.</li>
                      </ul>
                    </li>
                    <li>categories.result.txt
                      <ul>
                        <li>Location: <a href=
                        "https://github.com/openfoodfacts/openfoodfacts-server/tree/master/taxonomies">openfoodfacts-server/taxonomies</a>
                        </li>
                        <li>Generated by openfoodfacts-server using the categories.txt etc. files from the same
                        directory as input. The server parses and sorts the file (by language and then name of parent
                        categories), adds country information and other calculated information. No important
                        information is added compared to categories.txt.</li>
                        <li>The file should be syntactically uniform and correct as it is automatically generated.</li>
                      </ul>
                    </li>
                    <li>categories.result.sto
                      <ul>
                        <li>Location: <a href=
                        "https://github.com/openfoodfacts/openfoodfacts-server/tree/master/taxonomies">openfoodfacts-server/taxonomies</a>
                        </li>
                        <li>Generated by openfoodfacts-server using the categories.txt etc. files from the same
                        directory as input. The server performs name normalization to convert names to "tags"
                        (lowercase strings with dashes), expands category names with synonyms etc.. No important
                        information is added to the categories.</li>
                        <li>These files are read with Perl function `retrieve()` (<a href=
                        "https://github.com/openfoodfacts/openfoodfacts-server/blob/master/lib/ProductOpener/Tags.pm#L1677">see</a>),
                        which means they are Perl data structures in the binary format of the <a href=
                        "https://perldoc.perl.org/Storable.html">Storable Perl module</a>.
                        </li>
                        <li>To convert these to other data structures, one would probably have to write a small Perl
                        script and convert to a text file.</li>
                      </ul>
                    </li>
                    <li>JSON categories API
                      <ul>
                        <li>This is by far the simplest-to-use and most tidy definition of the categories
                        taxonomy.</li>
                        <li>Also contains 1165 "sameAs:" references to WikiData entries, out of 27514 categories. Each
                        entry has only 0 or 1 "sameAs:" reference (because the number of those with exactly one
                        reference is also 1165, as found by Vi command :%s/"sameAs":\[[^,\]]*\]//ng&nbsp;&nbsp;). These
                        are not in the textfile definition, so it is unclear where this relationship is defined in the
                        server software.</li>
                        <li>URL
                          <ul>
                            <li>http://world.openfoodfacts.org/categories.json</li>
                          </ul>
                        </li>
                        <li>documentation
                          <ul>
                            <li>https://documenter.getpostman.com/view/8470508/SVtN3Wzy#categories</li>
                          </ul>
                        </li>
                        <li>example usage
                          <ul>
                            <li>https://github.com/openfoodfacts/openfoodfacts-python/blob/master/draft.py</li>
                          </ul>
                        </li>
                        <li>example record
                          <ul>
                            <li>```<br>
                            {<br>
                            &nbsp;&nbsp;"products": 19421,<br>
                            &nbsp;&nbsp;"url": "https://world.openfoodfacts.org/category/sauces",<br>
                            &nbsp;&nbsp;"id": "en:sauces",<br>
                            &nbsp;&nbsp;"name": "Sauces",<br>
                            <br>
                            &nbsp;&nbsp;"sameAs": ["https://www.wikidata.org/wiki/Q178359"],<br>
                            &nbsp;&nbsp;"known": 1<br>
                            }<br>
                            ```</li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                    <li>categories information in the JSON products API
                      <ul>
                        <li>example 1
                          <ul>
                            <li>Source: https://world.openfoodfacts.org/api/v0/product/20525002</li>
                            <li>```<br>
                            categories: "Pflanzliche Lebensmittel und Getränke, Getränke, Pflanzliche Getränke,
                            Heißgetränke, Kräutertees, Tees",<br>
                            […]<br>
                            categories_lc: "de",<br>
                            […]<br>
                            "categories_hierarchy" : [<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:plant-based-foods-and-beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:plant-based-beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:hot-beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:herbal-teas",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:teas"<br>

                            ],<br>
                            ```</li>
                          </ul>
                        </li>
                        <li>example 2
                          <ul>
                            <li>Source: https://world.openfoodfacts.org/api/v0/product/20525002.json</li>
                            <li>```<br>
                            "categories_tags" : [<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:plant-based-foods-and-beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:plant-based-beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:hot-beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:herbal-teas",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:teas"<br>

                            ],<br>
                            […]<br>
                            "categories_hierarchy" : [<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:plant-based-foods-and-beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:plant-based-beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:hot-beverages",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:herbal-teas",<br>

                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"en:teas"<br>

                            ],<br>
                            […]<br>
                            "categories" : "Pflanzliche Lebensmittel und Getränke, Getränke, Pflanzliche Getränke,
                            Heißgetränke, Kräutertees, Tees",<br>
                            […]<br>
                            "categories_lc" : "de",<br>
                            […]<br>
                            compared_to_category: "en:herbal-teas"<br>
                            ```</li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                    <li>all categories by number of products in them
                      <ul>
                        <li>JSON
                          <ul>
                            <li>https://world.openfoodfacts.org/category/categories</li>
                          </ul>
                        </li>
                        <li>HTML
                          <ul>
                            <li>https://world.openfoodfacts.org/categories</li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                    <li>ratio of product records with category information
                      <ul>
                        <li>36.8% (448 224 of 1 216 377 products)</li>
                        <li>Source: `wc -l` for the original and filtered CSV file.</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>SQLite3
                  <ul>
                    <li>
                      <a href="https://www.sqlite.org/docs.html">full documentation</a>
                    </li>
                    <li>
                      <a href="https://www.tutorialspoint.com/sqlite/sqlite_quick_guide.htm">quick reference</a>
                    </li>
                    <li>
                      <a href="https://sqlite.org/cli.html#special_commands_to_sqlite3_dot_commands_">dot commands
                      overview</a>
                    </li>
                    <li>
                      <a href="https://github.com/sparklemotion/sqlite3-ruby/">Ruby gem source code</a>
                    </li>
                    <li>
                      <a href="https://www.rubydoc.info/gems/sqlite3/1.4.2">Ruby gem API docs</a>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <h3>Content translation</h3>
              <ul>
                <li>xml:tm (in-document translation memory markup)
                  <ul>
                    <li>This is a standard to define translation memory right inside XML documents.</li>
                    <li>To be transformed to XLIFF and back to the target XML format using XSLT: "xml:tm is designed to
                    work directly with XLIFF. xml:tm effectively pre-digests documents for XLIFF so that you can create
                    XLIFF documents by means of an XSLT transformation." (<a href=
                    "http://docs.oasis-open.org/oaxal/V1.0/oaxal-v1.0.html">source</a>)
                    </li>
                    <li>The argument here for xml:tm is to avoid redundancy: the Git repo should only contain the XML
                    documents in various languages, and the translation memory (in</li>
                    <li>Introduction of the idea and process: <a href=
                    "https://www.xml.com/pub/a/2004/01/07/xmltm.html">Translating XML Documents with xml:tm</a>,
                    2004-01-07
                    </li>
                    <li>Standard document: <a href="https://www.gala-global.org/xmltm-10#SectionStructure">XML:TM
                    1.0</a>
                    </li>
                    <li>
                      <a href="http://docs.oasis-open.org/oaxal/V1.0/oaxal-v1.0.html">OAXAL Reference Architecture</a>,
                      showing how xml:tm and XLIFF are meant to interoperate.
                    </li>
                  </ul>
                </li>
                <li>
                  <a href="https://en.wikipedia.org/wiki/OmegaT">OmegaT</a> (translation mgm system)
                  <ul>
                    <li>OmegaT is the best available open source translation management tool, <a href=
                    "https://en.wikipedia.org/wiki/OmegaT">see Wikipedia</a>.
                    </li>
                    <li>XLIFF is the most widespread XML standard for translation interchange.</li>
                    <li>It supports XLIFF Level 2, which allows translating while keeping inline tags intact.</li>
                  </ul>
                </li>
                <li>
                  <a href="https://en.wikipedia.org/wiki/Okapi_Framework">Okapi Framework</a> (translation format
                  conversions)
                  <ul>
                    <li>It should be possible to use this to convert xml:tm to XLIFF, or if not, to extend it
                    accordingly.</li>
                  </ul>
                </li>
                <li>
                  <a href="https://xtm.cloud/">xtm.cloud</a> (full OAXAL implementation, commercial)
                  <ul>
                    <li>Not in use here currently. It's a commercial service that would cost 30 EUR/user per month
                    (<a href="https://xtm.cloud/pricing/">source</a>).
                    </li>
                    <li>Interesting, because <a href=
                    "https://www.w3.org/International/multilingualweb/pisa/slides/nedas.pdf#page=13">from their 2011
                    presentation</a> it seems that they impemented the full OAXAL standard, incl. xml:tm.
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <h3>Content viewing</h3>
              <ul>
                <li>
                  <a href="https://wiki.gnome.org/action/show/Apps/Yelp">Yelp</a>, the Gnome help browser, able to show
                  DocBook documents
                </li>
              </ul>
            </li>
            <li>
              <h3>Convergent GUI development</h3>
              <ul>
                <li>Android deployment and debugging
                  <ul>
                    <li>
                      <a href="https://developer.android.com/studio/command-line">command line tools</a> for Android
                      development
                    </li>
                  </ul>
                </li>
                <li>Qt development environment
                  <ul>
                    <li>Qt Creator
                      <ul>
                        <li>Can replace Android Studio when using Qt for Android development.</li>
                        <li>
                          <a href="https://en.wikipedia.org/wiki/Qt_Creator">Wikipedia: Qt Creator</a>
                        </li>
                        <li>
                          <a href=
                          "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=cQiJMQPK-7I1PGvHhRrm_8JK">Installation
                          under Ubuntu Linux</a>
                        </li>
                        <li>
                          <a href="https://doc.qt.io/qtcreator/creator-developing-android.html">Connecting Android
                          Devices</a>
                        </li>
                      </ul>
                    </li>
                    <li>
                      <a href="https://github.com/miurahr/aqtinstall/">aqtinstall</a> (tool to install Qt across
                      platforms)
                    </li>
                    <li>CMake
                      <ul>
                        <li>
                          <a href="http://doc.qt.io/qt-5/cmake-manual.html">CMake manual for Qt</a>
                        </li>
                        <li>
                          <a href=
                          "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=KdqPMJ3kMvdkjjKlcV371xDC&amp;q=%23cmake%20">
                          own instructions</a>
                        </li>
                      </ul>
                    </li>
                    <li>qmake
                      <ul>
                        <li>
                          <i><b>Not used.</b></i>
                          <ul>
                            <li>Because (1) Qt Creator supports qmake just as well as CMake, (2) CMake is recommended
                            for Kirigami application development and (3) Qt 6 will switch to CMake.</li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Qt development (general, esp. Android)
                  <ul>
                    <li>
                      <a href="https://doc.qt.io/qt-5/android.html">Qt for Android</a> (documentation index page)
                    </li>
                    <li>
                      <a href="https://forum.qt.io/category/11/mobile-and-embedded">support forum for Qt for mobile and
                      embedded development</a>
                    </li>
                    <li>
                      <a href="https://www.kdab.com/author/bogdan-vatra/">articles by BogDan Vatra</a> (insights into
                      developing with Qt for Android by Bogdan Vatra, <a href=
                      "https://wiki.qt.io/Maintainers#Platform_Maintainers">the official maintainer</a> of Qt for
                      Android)
                    </li>
                    <li>
                      <a href="https://softwareengineering.stackexchange.com/q/88685">reasons against Qt</a> (but note
                      that many reasons are from 2012 and might no longer apply)
                    </li>
                  </ul>
                </li>
                <li>Qt Quick (QML, QRC, QuickControls2, …)
                  <ul>
                    <li>
                      <a href="https://doc.qt.io/qt-5/qmlreference.html">The QML Reference</a>
                    </li>
                    <li>
                      <a href="https://doc.qt.io/qt-5/resources.html">.qrc files</a>
                    </li>
                    <li>
                      <a href="https://appbus.wordpress.com/category/qt-for-mobile/overview/">articles about developing
                      mobile applications with QuickControls2</a>
                    </li>
                    <li>
                      <a href="https://www.linux-magazin.de/ausgaben/2016/11/qt-apps/">German article "Mobile Apps mit
                      Qt Creator"</a>
                      <ul>
                        <li>The article describes how to create performant, modern looking cross-platform mobile apps
                        using "Qt QuickControls 2", QML and Qt Creator (and no Android Studio!), with <a href=
                        "https://github.com/ekke/c2gQtCon_x">a real-world example</a> for Android and iOS.
                        </li>
                      </ul>
                    </li>
                    <li>example apps for mobile platforms<br>
                      A good way to start an app is from a well-documented, cross-platform, open source Android and iOS
                      application.
                      <ul>
                        <li>
                          <b><a href="https://github.com/ekke/c2gQtWS_x">QtWS 2019 Conference App</a>.</b> This is the
                          continued and extended version of the <a href="https://github.com/ekke/c2gQtCon_x">QtCon 2016
                          Conference App</a>, which is disussed in the Linux Magazin article "<a href=
                          "https://www.linux-magazin.de/ausgaben/2016/11/qt-apps/">Mobile Apps mit Qt Creator</a>" and
                          also <a href="https://appbus.wordpress.com/2016/08/06/qtcon-2016-conference-app/">on the
                          author's blog</a>. They share the same codebase, but this extended versions adds about 100
                          commits. APKs are available from Google Play and directly from the Github Readme. See also
                          our own <a href=
                          "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=DWyok6Vj8dr8Xr5MQwfAKJbz">installation
                          instructions</a>.<br>
                          The app is the perfect match for a template / example / scaffolding mobile app with Qt5+QML:
                          <ul>
                            <li>It is cross-platform (tested on iOS and Android but may work on others as it's
                            Qt).</li>
                            <li>It also compiles easily for a desktop target and provides a very useful desktop
                            experience out of the box. Great during development and testing, and to create a desktop /
                            mobile cross-platform app.</li>
                            <li>It has a very fast UI with a nice "mobile like" look, using the newest Qt UI controls
                            called "Qt Quick Controls 2" that provide a native look and feel to mobile apps. The UI has
                            a good finish and one can feel the German perfectionism in it (it's author is German).</li>
                            <li>It uses QML for the UI elements.</li>
                            <li>Its general navigation is very suitable for a typical app to present information, and
                            already includes a card-like navigation system.</li>
                            <li>It has has some nice (but optional) navigation goodies for one-hand use on a
                            smartphone.</li>
                            <li>It's licenced under "Unlicence", which basically means public domain.</li>
                            <li>The <a href="https://github.com/ekke/c2gQtCon_x">QtCon 2016 app</a> has a relatively
                            reasonable size (15 MiB for the Android APK) while the <a href=
                            "https://github.com/ekke/c2gQtWS_x">QtWS 2019 app</a> is ~44 MiB. The reason for that large
                            size is a 33.6 MiB library `libc2gQtWS_x.so`, probably containing the conference content
                            incl. images. And in addition many other dynamically linked libraries, mostly Qt. That can
                            be much smaller by static linking and including unused code. So this size is not an issue
                            for apps based on it.
                            </li>
                          </ul>
                        </li>
                        <li>
                          <b><a href="https://github.com/ekke?tab=repositories">ekke repositories</a>.</b> Many nice
                          Qt5 example mobile apps, from the maker of the QtCon 2016 and QtWS 2019 apps recommended
                          above. The six example apps also come with accompanying <a href=
                          "https://github.com/ekke/drawer_nav_x#drawer_nav_x">blog posts</a>.
                        </li>
                        <li>
                          <b><a href="https://showroom.qt.io/?s=Kaqaz&amp;lang=en">Kaqaz</a>.</b> Uses QML and is made
                          for both desktop and mobile platforms <a href=
                          "https://github.com/sialan-labs/kaqaz/#ubuntu-touch">and Ubuntu Touch</a>. Also, <a href=
                          "https://github.com/sialan-labs/kaqaz/#ubuntu">it uses SQLite3</a>. So for these it's a good
                          reference, but overall its finish level and mobile UI suitability is much lower. Also, the
                          licence is GPL. See also the <a href="https://github.com/sialan-labs/kaqaz/">source code</a>.
                        </li>
                        <li><b><a href="http://www.dot.state.mn.us/app/pavecool/">PaveCool</a>.</b></li>
                        <li>
                          <b><a href="https://showroom.qt.io/?s=Function+Plotter&amp;lang=en">Function Plotter</a>.</b>
                          A minimal example. See also the <a href=
                          "https://github.com/chrishenx/Function-Plotter">source code</a>.
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Kirigami
                  <ul>
                    <li>A KDE product for convergent GUI applications across mobile and desktop platforms. It is A
                    small library built on top of Qt5 QuickControls2 and not tied in with the rest of KDE. That way,
                    it's lightweight enough to be considered on top of Qt. KDE5 is now anyway a set of independent but
                    connected frameworks.</li>
                    <li>
                      <a href="https://kde.org/products/kirigami/">product website</a>
                    </li>
                    <li>
                      <a href="https://invent.kde.org/frameworks/kirigami/-/blob/master/README.md">README</a>
                    </li>
                    <li>
                      <a href="https://techbase.kde.org/Kirigami">documentation wiki</a>
                    </li>
                    <li>
                      <a href="https://api.kde.org/frameworks/kirigami/html/index.html">API documentation</a> (incl.
                      overview for installation etc.)
                    </li>
                    <li>
                      <a href=
                      "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=KdqPMJ3kMvdkjjKlcV371xDC&amp;q=%23kirigami%20">own
                      instructions</a>
                    </li>
                    <li>
                      <a href="https://invent.kde.org/frameworks/kirigami">Git repository</a> (see also: <a href=
                      "https://cgit.kde.org/kirigami.git/about/">old repo interface</a>, <a href=
                      "https://github.com/KDE/kirigami#kirigami">Github mirror</a>)
                    </li>
                    <li>
                      <a href="https://bugs.kde.org/buglist.cgi?product=frameworks-kirigami">issue tracker</a> (see
                      also: <a href="https://bugs.kde.org/buglist.cgi?quicksearch=kirigami">KDE issues mentioning
                      "kirigami"</a>, <a href="https://invent.kde.org/frameworks/kirigami/-/issues">unused issue
                      tracker</a> in the repo)
                    </li>
                    <li>
                      <a href="https://invent.kde.org/frameworks/kirigami/-/merge_requests">merge requests</a>
                    </li>
                    <li>walkthrough article for creating a Kirigami mobile app: <a href=
                    "https://nicolasfella.wordpress.com/2019/02/20/creating-a-plasma-mobile-application/">part 1</a>,
                    <a href=
                    "https://nicolasfella.wordpress.com/2019/02/28/creating-a-plasma-mobile-app-1-basic-controls/">part
                    2</a>
                    </li>
                    <li>example applications
                      <ul>
                        <li>Kirigami Gallery
                          <ul>
                            <li>A single application demonstrating all available Kirigami components.</li>
                            <li>
                              <a href="https://invent.kde.org/sdk/kirigami-gallery">repository</a>
                            </li>
                            <li>Also available in an old 2017 version <a href=
                            "https://play.google.com/store/apps/details?id=org.kde.kirigamigallery">on Google Play</a>.
                            </li>
                          </ul>
                        </li>
                        <li>Qrca
                          <ul>
                            <li>"Barcode scanner."</li>
                            <li>
                              <a href="https://invent.kde.org/plasma-mobile/qrca">repository</a>
                            </li>
                            <li>
                              <a href="https://invent.kde.org/jbbgameich/qrca">forked repository</a>
                            </li>
                            <li>available in the <a href="https://community.kde.org/Android/FDroid">KDE Android/FDroid
                            repo</a>
                            </li>
                          </ul>
                        </li>
                        <li>Kookbook (recipe manager; available in the <a href=
                        "https://community.kde.org/Android/FDroid">KDE Android/FDroid repo</a>)
                          <ul>
                            <li>"Simple application viewer based on markdown formatted recipes." (source:
                            `./README`)</li>
                            <li>
                              <a href="https://invent.kde.org/utilities/kookbook">repository</a>
                            </li>
                            <li>
                              <a href="https://github.com/KDE/kookbook">repository Github mirror</a>
                            </li>
                          </ul>
                        </li>
                        <li>Kongress
                          <ul>
                            <li>"Companion application for conferences."</li>
                            <li>
                              <a href="https://invent.kde.org/utilities/kongress">repository</a>
                            </li>
                          </ul>
                        </li>
                        <li>Okular Mobile Version
                          <ul>
                            <li>The KDE document viewer.</li>
                            <li>
                              <a href="https://userbase.kde.org/Okular/en#Mobile_Version">product page</a>
                            </li>
                          </ul>
                        </li>
                        <li>Klimbgrades
                          <ul>
                            <li>Climbing grades converter.</li>
                            <li>
                              <a href=
                              "https://notmart.org/blog/2017/03/climbing-grades-a-kirigami-example-app/">product
                              page</a>
                            </li>
                            <li>Available on Google Play.</li>
                            <li>Available in the <a href="https://community.kde.org/Android/FDroid">KDE Android/FDroid
                            repo</a>.
                            </li>
                          </ul>
                        </li>
                        <li>----</li>
                        <li>more apps in the <a href="https://mglapps.frama.io/">Frama list "Mobile GNU/Linux Apps"</a>
                        (search for "Kirigami")
                        </li>
                        <li>more apps in the <a href="https://community.kde.org/Android/FDroid">KDE Android/FDroid
                        repo</a> (all 19 Android apps in here are made with Kirigami, as that is KDE's mobile
                        technology)
                        </li>
                        <li>more apps by <a href="https://invent.kde.org/search?search=kirigami">searching in the KDE
                        GitLab platform</a>
                        </li>
                        <li>more apps from the <a href="https://github.com/KDE/kirigami/tree/master/examples">Kirigami
                        official examples</a>
                        </li>
                        <li>more apps by searching on the Github platform</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>MauiKit
                  <ul>
                    <li>
                      <i><b>Not used.</b></i>
                      <ul>
                        <li>It seems to add just unnecessary complexity. Kirigami should be enough as it has the same
                        goal and is the base software used by MauiKit. Avoiding one layer of complexity is good! Also,
                        Kirigami developers sometimes backport MauiKit functionality ("Camilo and Marco worked on
                        expanding some Kirigami features inspired by Maui apps. This includes pull back headers and
                        footers"; <a href=
                        "https://www.plasma-mobile.org/2020/03/09/Plasma-Mobile-Sprint-2020.html">see</a>).
                        </li>
                      </ul>
                    </li>
                    <li>The "Multi-Adaptable User Interfaces Kit", a small framework on top of Kirigami but with the
                    same intentions. Basically a fork of Kirigami that extends it further.</li>
                    <li>
                      <a href="https://mauikit.org/">product website</a>
                    </li>
                    <li>
                      <a href="https://gitlab.com/nitrux/mauikit/maui-bug-tracker">issue tracker</a>
                    </li>
                    <li>example applications
                      <ul>
                        <li>
                          <a href="https://mauikit.org/#vsc_row_iaadbhkvgi">official list</a> (none available in Google
                          Play; some available in Ubuntu packages; see also the descriptions in the <a href=
                          "https://nxos.org/maui/mauikit-1-1-0-release/">1.1 release notes</a>)
                        </li>
                        <li>
                          <a href="https://mglapps.frama.io/">Frama list: Mobile GNU/Linux Apps</a> (search for
                          "MauiKit")
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Fluid
                  <ul>
                    <li>
                      <i><b>Not used.</b></i>
                      <ul>
                        <li>Mentioned for completeness. It does not seem to be mature enough to be used for real.</li>
                      </ul>
                    </li>
                    <li>"a collection of cross-platform QtQuick components for building fluid and dynamic applications
                    <a href="https://liri.io/docs/sdk/fluid/develop/index.html">…] Fluid controls are based on Qt Quick
                    Controls 2" ([source</a>)
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <h3>Project documentation and licencing</h3>
              <ul>
                <li>Dynalist
                  <ul>
                    <li>Used for all project documentation that is not directly related to code.</li>
                  </ul>
                </li>
                <li>Github `README.md` and other Markdown files
                  <ul>
                    <li>Used for documentation that should be immediately accessible to visitors looking at the source
                    code repository.</li>
                  </ul>
                </li>
                <li>Markdown
                  <ul>
                    <li>Used as subset of Asciidoctor, Github Flavored Markdown, in Dynalist etc..</li>
                    <li>
                      <a href="https://daringfireball.net/projects/markdown/syntax">official reference</a>
                    </li>
                    <li>
                      <a href="https://commonmark.org/help/">cheatsheet</a>
                    </li>
                    <li>
                      <a href="https://de.wikipedia.org/wiki/Markdown#Auszeichnungsbeispiele">short reference</a>
                      (German)
                    </li>
                    <li>
                      <a href="https://markdown.de/">reference</a> (German)
                    </li>
                  </ul>
                </li>
                <li>REUSE
                  <ul>
                    <li>A tool to make sure all files are suitably annotated with licence information that enables
                    simple reuse.</li>
                    <li>
                      <a href="https://reuse.software/">website</a>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <h3>Ruby development</h3>
              <ul>
                <li>build system
                  <ul>
                    <li>Rake
                      <ul>
                        <li>
                          <a href=
                          "https://github.com/ruby/rake/blob/master/doc/rakefile.rdoc#rakefile-format-">Rakefile
                          syntax</a>
                        </li>
                        <li>
                          <a href="https://github.com/ruby/rake">source code</a>
                        </li>
                        <li>
                          <a href="http://docs.seattlerb.org/rake/">API documentation</a>
                        </li>
                        <li>
                          <a href="https://martinfowler.com/articles/rake.html#BuiltInCleaning">introduction by Martin
                          Fowler</a>, with hints on Rake debugging etc.
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>code documentation
                  <ul>
                    <li>
                      <a href="https://rubystyle.guide/#comments">The Ruby Style Guide, section "Comments"</a>
                    </li>
                    <li>
                      <a href=
                      "https://github.com/fairdirect/foodrescue-content#53-documentation-style-guide">foodrescue-content:
                      Documentation Style Guide</a>
                    </li>
                    <li>YARD
                      <ul>
                        <li>
                          <a href="https://yardoc.org/guides/index.html">user guide</a>
                        </li>
                        <li>
                          <a href="https://gist.github.com/chetan/1827484">cheatsheet</a>
                        </li>
                        <li>
                          <a href=
                          "https://rubydoc.info/gems/yard/file/docs/GettingStarted.md#customized-yard-markup">how to
                          create hyperlinks</a>
                        </li>
                        <li>
                          <a href=
                          "https://github.com/lsegal/yard/blob/master/docs/GettingStarted.md#documenting-attributes">how
                          to document class / module attributes</a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>code style
                  <ul>
                    <li>
                      <a href="https://rubystyle.guide/">The Ruby Style Guide</a>
                    </li>
                    <li>
                      <a href="https://github.com/rubocop-hq/rubocop">RuboCop</a>, a code style checker based on The
                      Ruby Style Guide
                    </li>
                  </ul>
                </li>
                <li>development environment / IDE
                  <ul>
                    <li>MS Visual Studio Code</li>
                    <li>ruby-vscode
                      <ul>
                        <li>The best available VS Code plugin for Ruby support.</li>
                        <li>
                          <a href="https://github.com/rubyide/vscode-ruby/tree/master/docs">documentation</a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Ruby language</li>
                <li>Ruby standard library
                  <ul>
                    <li>
                      <a href="https://ruby-doc.org/stdlib-2.7.1/">API documentation</a>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <h3>Software design, GUI design</h3>
              <ul>
                <li>
                  <a href="https://hig.kde.org/">KDE Human Interface Guidelines</a> (guidelines for mobile/desktop
                  convergent GUI applications)
                </li>
                <li>
                  <a href="https://en.wikipedia.org/wiki/SOLID">SOLID</a>
                </li>
                <li>
                  <a href="https://en.wikipedia.org/wiki/Package_principles">Package principles</a>
                </li>
                <li>
                  <a href="https://en.wikipedia.org/wiki/GRASP_(object-oriented_design">GRASP</a>)
                </li>
              </ul>
            </li>
            <li>
              <h3>Open Food Facts project</h3>
              <ul>
                <li>slack channels
                  <ul>
                    <li>OpenFoodFacts uses Slack for collaboration internally and with the open source community.</li>
                    <li>\#expirydates
                      <ul>
                        <li>https://openfoodfacts.slack.com/archives/C0A1SE6Q7</li>
                        <li>Charles Nepote: "The discussions related to your project can take place in \#expirydates
                        channel IMHO."
                        (https://openfoodfacts.slack.com/archives/C02KVRT2C/p1583313975033400?thread_ts=1583274883.031800&amp;cid=C02KVRT2C)</li>
                      </ul>
                    </li>
                    <li>\#general
                      <ul>
                        <li>https://openfoodfacts.slack.com/archives/C02KVRT2C</li>
                        <li>Charles Nepote: "Of course, you can also post in this \#general channel to communicate
                        general news about the project."
                        (https://openfoodfacts.slack.com/archives/C02KVRT2C/p1583313975033400?thread_ts=1583274883.031800&amp;cid=C02KVRT2C)</li>
                      </ul>
                    </li>
                    <li>\#bestbeforedates
                      <ul>
                        <li>https://openfoodfacts.slack.com/archives/C17324N0L</li>
                        <li>teolemon: "Creating a channel about best before date dates […] which are too conservative
                        and make us throw away stuff"
                        (https://openfoodfacts.slack.com/archives/C17324N0L/p1462729437000005)</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>test site
                  <ul>
                    <li>URL
                      <ul>
                        <li>https://uk.openfoodfacts.net/</li>
                        <li>https://world.openfoodfacts.net/</li>
                      </ul>
                    </li>
                    <li>HTTP Basic Auth
                      <ul>
                        <li>username
                          <ul>
                            <li>off</li>
                          </ul>
                        </li>
                        <li>password
                          <ul>
                            <li>off</li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>server software
                  <ul>
                    <li>https://github.com/openfoodfacts/openfoodfacts-server</li>
                    <li>https://en.wiki.openfoodfacts.org/Product_Opener</li>
                    <li>https://en.wiki.openfoodfacts.org/Infrastructure</li>
                    <li>Overview of their server setup:
                    https://en.wiki.openfoodfacts.org/Project:Personalized_Search#Software_Bill_of_Materials</li>
                  </ul>
                </li>
                <li>Android app
                  <ul>
                    <li>This is a native app: "a Java/Kotlin version on Android, and an hybrid version on iOS currently
                    developed in HTML and JS with Apache Cordova / Phonegap for iOS, with a <a href=
                    "https://world.openfoodfacts.org/contribute">native iOS] Swift version that needs volunteers"
                    ([source</a>)
                    </li>
                    <li>source code
                      <ul>
                        <li>https://github.com/openfoodfacts/openfoodfacts-androidapp</li>
                      </ul>
                    </li>
                    <li>packages
                      <ul>
                        <li>https://f-droid.org/en/packages/openfoodfacts.github.scrachx.openfood/</li>
                        <li>https://play.google.com/store/apps/details?id=org.openfoodfacts.scanner</li>
                      </ul>
                    </li>
                    <li>installation
                      <ul>
                        <li>
                        https://github.com/openfoodfacts/openfoodfacts-androidapp/blob/master/README.md#installation</li>
                      </ul>
                    </li>
                    <li>background information
                      <ul>
                        <li>https://en.wiki.openfoodfacts.org/Mobile_Apps</li>
                        <li>https://github.com/openfoodfacts/openfoodfacts-androidapp/graphs/contributors</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>iOS app
                  <ul>
                    <li>https://github.com/openfoodfacts/openfoodfacts-ios</li>
                  </ul>
                </li>
                <li>cross-platform Cordova app
                  <ul>
                    <li>"Latest commit 2018-09-11"</li>
                    <li>https://github.com/openfoodfacts/openfoodfacts-cordova-app</li>
                    <li>https://en.wiki.openfoodfacts.org/Mobile_App/Development_Notes</li>
                    <li>"We currently have native apps for Android, iOS and Ubuntu Touch. We also have an HTML-based
                    app for other mobile OSes based on Cordova and PhoneGap. We'd very much like [to] have native apps
                    for speed and access to more advanced features."
                    (https://en.wiki.openfoodfacts.org/Mobile_Apps)</li>
                    <li>"a Java/Kotlin version on Android, and an hybrid version on iOS currently developed in HTML and
                    JS with Apache Cordova / Phonegap for iOS, with a [native iOS] Swift version that needs volunteers"
                    (https://world.openfoodfacts.org/contribute)</li>
                    <li>On
                    https://en.wiki.openfoodfacts.org/Product_Opener#Apache_Cordova_mobile_app_for_Android.2C_iOS_and_Windows_Phone
                    it says that the Android app is Apache Cordova ("Phonegap") based. However, the link there now
                    forwards to https://github.com/openfoodfacts/openfoodfacts-cordova-app-old-with-blob . So it seems
                    that this is a legacy attempt at an Android app, and that indeed the current Android app is the
                    native one.</li>
                  </ul>
                </li>
                <li>wiki
                  <ul>
                    <li>https://en.wiki.openfoodfacts.org/</li>
                    <li>https://en.wiki.openfoodfacts.org/Special:AllPages</li>
                    <li>https://en.wiki.openfoodfacts.org/Special:Statistics</li>
                    <li>relevant articles
                      <ul>
                        <li>https://en.wiki.openfoodfacts.org/Expiration_dates</li>
                        <li>https://en.wiki.openfoodfacts.org/Food_Traceability_Codes</li>
                        <li>https://en.wiki.openfoodfacts.org/Global_storage_taxonomy</li>
                        <li>https://en.wiki.openfoodfacts.org/Verification/Noteworthy_Products</li>
                      </ul>
                    </li>
                    <li>"We also have a wiki that we use to collaboratively document Open Food Facts and its
                    sub-projects. We also use the wiki to manage translations
                    (https://en.wiki.openfoodfacts.org/Translations) and to work on the taxonomies / hierarchies
                    (https://en.wiki.openfoodfacts.org/Global_taxonomies) of categories, labels etc."
                    (https://world.openfoodfacts.org/contribute)</li>
                    <li>The wiki is not really active currently. As of 2020-03-03, there were 284 content pages and 12
                    active users in the last month. See: https://en.wiki.openfoodfacts.org/Special:Statistics</li>
                    <li>The French wiki is even less active. As of 2020-03-03, there were 69 content pages and 1 active
                    user in the last month. See: https://fr.wiki.openfoodfacts.org/Sp%C3%A9cial:Statistiques</li>
                  </ul>
                </li>
                <li>user guide
                  <ul>
                    <li>Contributed by bcatelin (Slack username, https://app.slack.com/team/U02L1297N ).</li>
                    <li>https://catelin.net/off/user-guide/</li>
                  </ul>
                </li>
                <li>data dumps
                  <ul>
                    <li>See: <a href="https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=gO3mhj6K3253Vcongc9q2e7c">Tools
                    and Components → data formats → Open Food Facts database</a>
                    </li>
                  </ul>
                </li>
                <li>Kaggle datasets
                  <ul>
                    <li>The same that's available on the Open Food Facts website, but an old version.</li>
                    <li>https://www.kaggle.com/openfoodfacts/world-food-facts</li>
                  </ul>
                </li>
                <li>API
                  <ul>
                    <li>New API docs.
                      <ul>
                        <li>https://documenter.getpostman.com/view/8470508/SVtN3Wzy</li>
                      </ul>
                    </li>
                    <li>Legacy API docs.
                      <ul>
                        <li>https://en.wiki.openfoodfacts.org/API</li>
                      </ul>
                    </li>
                    <li>Other API and field docs.
                      <ul>
                        <li>https://world.openfoodfacts.org/data/data-fields.txt</li>
                      </ul>
                    </li>
                    <li>API example answers. Both return JSON, but there are differences.
                      <ul>
                        <li>https://world.openfoodfacts.org/api/v0/product/5014044006350</li>
                        <li>https://world.openfoodfacts.org/api/v0/product/5014044006350.json</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>issue trackers
                  <ul>
                    <li>general server issues
                      <ul>
                        <li>https://github.com/openfoodfacts/openfoodfacts-server/issues</li>
                      </ul>
                    </li>
                    <li>API issues
                      <ul>
                        <li>https://github.com/openfoodfacts/openfoodfacts-server/labels/api</li>
                      </ul>
                    </li>
                    <li>issues for next API milestone
                      <ul>
                        <li>https://github.com/openfoodfacts/openfoodfacts-server/milestone/8</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>blog
                  <ul>
                    <li>official blog
                      <ul>
                        <li>Not really active. Two posts since 2018-04.</li>
                        <li>https://en.blog.openfoodfacts.org/</li>
                      </ul>
                    </li>
                    <li>raw blog
                      <ul>
                        <li>A good way to contribute an article (written on the OFF wiki) that may eventually be
                        published on the official OFF blog.</li>
                        <li>https://en.wiki.openfoodfacts.org/Raw_blog</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>donation pages
                  <ul>
                    <li>https://world.openfoodfacts.org/donate-to-open-food-facts</li>
                    <li>https://world.openfoodfacts.org/better-food-choices-for-a-better-health-lets-mobilize</li>
                  </ul>
                </li>
                <li>third-party software
                  <ul>
                    <li>https://en.wiki.openfoodfacts.org/Reuses_of_Open_Food_Facts</li>
                    <li>Kaggle notebooks
                      <ul>
                        <li>508 explorations of the Open Food Facts dataset, with Python mostly, using the Kaggle
                        online datascience environment.</li>
                        <li>https://www.kaggle.com/openfoodfacts/world-food-facts/kernels</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>statistics and analysis
                  <ul>
                    <li>
                      <a href="https://www.kaggle.com/daveianhickey/can-we-trust-open-food-facts">analysis of the
                      dataset from 2017-09</a>, with comments by a OFF team member below
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <h2>Instructions</h2>
          <ul>
            <li>
              <i>About</i>
              <ul>
                <li>Contains instructions for project-specific tasks.</li>
                <li>For general documentation and how-to information about tools, see under "<a href=
                "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=Zov0uejcHo6ZldcfV5hTHJsA">Documentation</a>".
                </li>
              </ul>
            </li>
            <li>How to <b>grep</b> through the `foodrescue-content` source code?
              <ul>
                <li>The problem is that the repo also contains many, very large text files that don't contain source
                code. A solution is to ignore all files too large to contain source code.</li>
                <li>Another problem is that we don't want to search in generated documentation, so we exclude
                `./doc`.</li>
                <li>find . -path ./doc -prune -o -size -100k -type f -print | xargs grep "pattern"</li>
              </ul>
            </li>
            <li>How to <b>run YARD</b> for the `foodrescue-content` repo?
              <ul>
                <li>generating documentation for public elements:
                  <ul>
                    <li>yard doc --markup markdown</li>
                  </ul>
                </li>
                <li>generating documentation for public, protected, private elements:
                  <ul>
                    <li>yard doc --markup markdown --protected --private</li>
                  </ul>
                </li>
                <li>generating the most complete documentation
                  <ul>
                    <li>yard doc --markup markdown --protected --private - LICENSE.*.md</li>
                  </ul>
                </li>
                <li>showing undocumented elements
                  <ul>
                    <li>yard stats --list-undoc</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>How to <b>test importing FoodKeeper</b> data?
              <ul>
                <li>```<br>
                cd ./Repo.foodrescue-content/scripts;<br>
                <br>
                sqlite3 ../build/foodrescue-content.sqlite3 &lt;&lt;&lt; 'DROP TABLE IF EXISTS topics; DROP TABLE IF
                EXISTS topic_contents; DROP TABLE IF EXISTS topic_authors; DROP TABLE IF EXISTS topic_literature; DROP
                TABLE IF EXISTS topic_categories; DROP TABLE IF EXISTS literature; DROP TABLE IF EXISTS authors;'<br>
                <br>
                ./frc-import-foodkeepertopics ../content-topics-foodkeeper/foodkeeper.sqlite3
                ../content-topics-foodkeeper/foodkeeper_extra_data.csv ../build/foodrescue-content.sqlite3<br>
                ```</li>
              </ul>
            </li>
            <li>How to <b>test importing OFF categories</b>?
              <ul>
                <li>```<br>
                cd ./Repo.foodrescue-content/scripts;<br>
                <br>
                sqlite3 ../build/foodrescue-content.sqlite3 &lt;&lt;&lt; 'DROP TABLE IF EXISTS categories; DROP TABLE
                IF EXISTS categories_structure; DROP TABLE IF EXISTS product_categories; DROP TABLE IF EXISTS
                topic_categories;'<br>
                <br>
                ./frc-import-categories-txt ../content-categories/categories-txt.1-downloaded.txt
                ../build/foodrescue-content.sqlite3<br>
                ```</li>
              </ul>
            </li>
            <li>How to find <b>the right OFF category</b> for a food rescue topic?
              <ol>
                <li>Think about what food products your food rescue topic should be shown for.</li>
                <li>Edit any product in the Open Food Facts web application (<a href=
                "https://world.openfoodfacts.org/cgi/product.pl?type=edit&amp;code=8410076472946">example</a>) and in
                the category-field, type any word that you would expect in the category you want to assign. Select
                suitable categories from the suggestions. Triple-click on the category names in the field to select
                their text so you can copy & paste the category name to a different program.
                </li>
                <li>If the above did not help: In the <a href="https://world.openfoodfacts.org/">Open Food Facts online
                search</a>, search for keywords that you expect to appear in the name of relevant products. For
                example, <a href="https://world.openfoodfacts.org/cgi/search.pl?search_terms=cheesecake">search for
                cheesecake</a>. Visit some relevant products from the search results and look at their categories. For
                example, you might find a <a href="https://world.openfoodfacts.org/category/cheesecakes">category
                cheesecakes</a>.
                </li>
                <li>Choose the best matching category (or, in some cases, categories). This means:
                  <ul>
                    <li>The chosen category must be part of the Open Food Facts category taxonomy. That is the case for
                    all categories linked in normal font from a product's page, but not for those linked in an italics
                    font. All important major categories are part of the taxonomy, or will become part of it after it
                    becomes apparent that they are important. Only the taxonomy categories are imported into the food
                    rescue database, so if allowing all other categories, spelling errors in category names would not
                    be detectable anymore.</li>
                    <li>It is important that the chosen selection of categories does not include products for which
                    your food rescue topic is not relevant, or for which it is even misleading. It would lead to
                    malfunction of software using this content, for examply by showing the expected storage duration of
                    crisp bread for fresh meat, which is way too generous and potentially dangerous.</li>
                    <li>Ideally, a single category that includes all products relevant for your food rescue topic. Or
                    one that might leave some out.</li>
                    <li>If there is no single category that contains all or nearly all of the relevant products, you
                    can assign several ones. It is ok if some products appear in more than one of the assigned
                    categories. The food rescue topic will still be shown only once.</li>
                    <li>If a category is a good match, there is no need to also include any of its sub-categories.
                    Because every product in a sub-category is logically also contained in the parent category. For
                    example, if you assign category <a href=
                    "https://world.openfoodfacts.org/category/cheesecakes">cheesecakes</a>, there is no need to also
                    assign category <a href="https://world.openfoodfacts.org/category/caramel-cheesecakes">caramel
                    cheesecakes</a>.
                    </li>
                    <li>There is one exception from the rule of assigning no subcategories of an already assigned
                    category. Namely, if a category fits well but a sub-category fits conceptually very well (while
                    also being too narrow), assign both. This will emphasize your topic when matching a product in the
                    more specific category, showing it earlier in the list of food rescue content displayed for such a
                    product.</li>
                  </ul>
                </li>
              </ol>
            </li>
            <li>How to <b>make agreements</b> with Open Food Facts on data structures?
              <ul>
                <li>Some of the data structures used in this project have to be agreed on between this project and the
                Open Food Facts core team. These proposals are being actively discussed in the Open Food Facts Slack
                channel <a href="https://app.slack.com/client/T02KVRT1Q/C0A1SE6Q7">#expirydates</a>.
                </li>
              </ul>
            </li>
            <li>How to <b>collect data about food</b> products without the Open Food Facts app?
              <ul>
                <li><i>Useful for data for which is there is not yet a field in the Open Food Facts app. Below are
                options for software that can be used.</i></li>
                <li>CmpTable Generator + Ucom Free Barcode Scanner
                  <ul>
                    <li>The current solution.</li>
                    <li>https://play.google.com/store/apps/details?id=com.shirobakama.cmptable</li>
                    <li>https://sites.google.com/site/shirobakama724/cmptable-generator</li>
                    <li>Data format: The first two blocks show columns and rows. Then values are listed, to be entered
                    into the field identified by "column ID" and "row ID" shown in the line before the actual line with
                    the data value.</li>
                  </ul>
                </li>
                <li>Omni Notes + Ucom Free Barcode Scanner
                  <ul>
                    <li>Omni Notes
                      <ul>
                        <li>https://omninotes.app/</li>
                        <li>https://f-droid.org/en/packages/it.feio.android.omninotes.foss/</li>
                        <li>https://play.google.com/store/apps/details?id=it.feio.android.omninotes</li>
                      </ul>
                    </li>
                    <li>Ucom Free Barcode Scanner
                      <ul>
                        <li>https://play.google.com/store/apps/details?id=hk.ucom.barcodecamera</li>
                      </ul>
                    </li>
                    <li>Ucom Free Barcode Scanner is the most suitable of all barcode scanner apps that can act as a
                    keyboard. It is relatively small, free, serves no ads, and has useful options. Also, launching the
                    scanner needs just one button.</li>
                    <li>Issue: None of the available barcode scanner keyboard apps can scan into the Omni Notes note
                    body field, only into its note title field. But that is workable already. Seems to indicate an
                    issue with Omni Notes; reported on https://github.com/federicoiosue/Omni-Notes/issues/748 .</li>
                  </ul>
                </li>
                <li>Vorratsübersicht
                  <ul>
                    <li>https://play.google.com/store/apps/details?id=de.stryi.Vorratsuebersicht</li>
                  </ul>
                </li>
                <li>Mobile Inventory FREE
                  <ul>
                    <li>https://play.google.com/store/apps/details?id=hr.foton.brzainventura</li>
                  </ul>
                </li>
                <li>Storage Manager : Stock Tracker
                  <ul>
                    <li>https://play.google.com/store/apps/details?id=ch.huber.storagemanager.free</li>
                  </ul>
                </li>
                <li>X SCAN PET
                  <ul>
                    <li>Allows to scan barcodes and record information about them (incl. a photo) into Excel
                    files.</li>
                    <li>This is the paid version of SCAN PET, removing the annoying ads and the crippleware issue of
                    always being told to buy the paid version …</li>
                    <li>https://play.google.com/store/apps/details?id=com.maiko.xscanpet</li>
                  </ul>
                </li>
                <li>CSV Editor
                  <ul>
                    <li>https://play.google.com/store/apps/details?id=jp.blogspot.halnablue.csveditor</li>
                  </ul>
                </li>
                <li>CSV Editor
                  <ul>
                    <li>https://play.google.com/store/apps/details?id=com.cleveroad.tablelayout</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>How to use the <b>Vorratsübersicht app</b> to collect expiry date information?
              <ol>
                <li>Install the app <a href="https://play.google.com/store/apps/details?id=de.stryi.Vorratsuebersicht">
                  from Google Play</a>.
                </li>
                <li>Use the app to collect expiry dates.
                  <ul>
                    <li>The app does not record the date of data entry, neither when creating a new article nor when
                    creating a new storage item (a number of articles plus an expiry date). Workaround: create expiry
                    dates alternatingly to mean "expiry date entry date" and the associated "expiry date". When
                    converting the data, that will have to be converted accordingly to two different fields.</li>
                  </ul>
                </li>
                <li>Create a database backup under "Settings".</li>
                <li>Transfer the database backup to a Linux computer.
                  <ul>
                    <li>Note: The pictures are contained right in the database.</li>
                    <li>Start SimpleSSHD on the Android device.</li>
                    <li>rsync -avzzhP --inplace --info=progress2 -e 'ssh -p 2222'
                    192.168.179.27:/storage/emulated/0/Download/*.VueBak
                    /home/matthias/Projects/Real_MHD_App/DataCollection/</li>
                    <li>Enter the one-time password that will be shown in the SimpleSSHD app on the Android
                    device.</li>
                  </ul>
                </li>
                <li>Rename the file to *.sqlite3</li>
                <li>Convert the file to a table format.
                  <ul>
                    <li>sqlite3 Vue_2020-03-05_1551.sqlite3 .tables</li>
                    <li>sqlite3 Vue_2020-03-05_1551.sqlite3 .dump</li>
                  </ul>
                </li>
              </ol>
            </li>
            <li>How to access the <b>Open Food Facts MongoDB</b> database?
              <ol>
                <li>Install MongoDB:
                  <ul>
                    <li>`sudo apt install mongodb`</li>
                  </ul>
                </li>
                <li>Download a recent MongoDB database dump (needs ca. 1.7 GiB):
                  <ul>
                    <li>`wget https://world.openfoodfacts.org/data`</li>
                  </ul>
                </li>
                <li>Unpack the ODD MongoDB database (needs ca. 11.5 GiB):
                  <ul>
                    <li>`tar -xzf openfoodfacts-mongodbdump.tar.gz`</li>
                  </ul>
                </li>
                <li>Restore the MongoDB dump into a database "off" (needs ca. 7.8 GiB incl. indexes, 30 min for the
                import, at least 2:00 hours for generating the indexes):
                  <ul>
                    <li>`mongorestore -d off -u username -p password dump/off/`</li>
                  </ul>
                </li>
                <li>Connect to the database with the Mongo Shell:
                  <ul>
                    <li>`mongo off`</li>
                  </ul>
                </li>
                <li>See the "Getting Started" guide for the initial steps:
                  <ul>
                    <li>https://docs.mongodb.com/manual/tutorial/getting-started/#getting-started</li>
                  </ul>
                </li>
              </ol>
            </li>
            <li>How to see the <b>MongoDB database structure</b>?
              <ul>
                <li>`echo 'db.products.find().pretty()' | mongo off | less`</li>
                <li>Source: https://stackoverflow.com/q/14713179 , https://stackoverflow.com/a/6000360</li>
              </ul>
            </li>
            <li>How to use the <b>OFF JSON API</b> for products?
              <ul>
                <li>API example answers. Both return JSON, but there are differences.</li>
                <li>https://world.openfoodfacts.org/api/v0/product/5014044006350</li>
                <li>https://world.openfoodfacts.org/api/v0/product/5014044006350.json</li>
              </ul>
            </li>
            <li>How to convert from <b>SQLite to FreeMind</b>?
              <ul>
                <li>The following will copy a Freemind-compatible indented text format from the output of a SQLite
                command. Each record of the result set will be one FreeMind node with one subnode per field. (The
                example is about category records, but the category hierarchy is <i>not</i> mapped to a FreeMind node
                hierarchy.)</li>
                <li>For this to work, the indentation character must be a proper space character, no non-breaking space
                etc.. Source: https://dba.stackexchange.com/a/264847</li>
                <li>`sqlite3 foodrescue-content.sqlite3 &lt; &lt;(echo -e ".mode csv \n.separator \"\\\\n \"\n SELECT
                name, id, product_count FROM categories WHERE product_count &gt;= 1000 ORDER BY product_count DESC;") |
                xclip -selection clipboard`</li>
              </ul>
            </li>
            <li>How to convert the <b>OFF categories to SQLite3 manually</b>?
              <ol>
                <li>Set up the SQLite3 database structure.
                  <ul>
                    <li>CREATE TABLE IF NOT EXISTS [data] (<br>
                    [url] VARCHAR NULL,<br>
                    [products_count] INT NULL,<br>
                    [id] VARCHAR NULL,<br>
                    [taxonomied] INT NULL,<br>
                    [name] VARCHAR NULL,<br>
                    [sameAs] VARCHAR NULL<br>
                    );</li>
                  </ul>
                </li>
                <li>Download the categories from the JSON API:
                  <ul>
                    <li>http://world.openfoodfacts.org/categories.json</li>
                  </ul>
                </li>
                <li>Adapt the outer structure so that the whole file is one large JSON array of the form
                [{…},{…},{…},{…}].</li>
                <li>Pretty-print the JSON:
                  <ul>
                    <li>`python -m json.tool categories.json categories.pretty.json`</li>
                  </ul>
                </li>
                <li>Adapt the "sameAs" field to contain a string, not a JSON array.</li>
                <li>Upload to Numidian Convert and convert to a SQLite file:
                  <ul>
                    <li>https://numidian.io/convert/json/to/sqlite</li>
                  </ul>
                </li>
                <li>Use the following two commands in vi to convert to one SQL statement per line. This will give
                proper statement numbers in case of errors.
                  <ul>
                    <li>`:%s/),$/);/g`</li>
                    <li>`:%s/^(/INSERT INTO data VALUES (/g`</li>
                  </ul>
                </li>
                <li>Create the SQLite database:
                  <ul>
                    <li>sqlite3 categories.sqlite &lt; categories.SQLite.sql</li>
                  </ul>
                </li>
                <li>Access the SQLite database:
                  <ul>
                    <li>`sqlite3`</li>
                  </ul>
                </li>
                <li>Set a suitable column width. The following is suitable when showing all columns of the table.
                  <ul>
                    <li>`.mode column `</li>
                    <li>.width 20 7 20 4 30 20</li>
                  </ul>
                </li>
                <li>Run some queries.
                  <ul>
                    <li>`SELECT name FROM data WHERE sameAs NOT NULL;`</li>
                    <li>`SELECT COUNT() FROM data WHERE id LIKE 'en:%' AND taxonomied = 1;`</li>
                    <li>`SELECT * FROM data WHERE id LIKE 'en:%' AND taxonomied = 1;`</li>
                    <li>`SELECT COUNT(*) FROM data WHERE id LIKE 'en:%' AND taxonomied = 1 AND sameAs NOT NULL ORDER BY
                    products_count DESC;`</li>
                    <li>`SELECT COUNT() FROM data WHERE id LIKE 'en:%' AND taxonomied = 1 AND products_count &gt;= 1000
                    ORDER BY products_count DESC;`</li>
                  </ul>
                </li>
              </ol>
            </li>
            <li>What are <b>useful SQL commands</b> for the Food Rescue App database?
              <ul>
                <li>remove product related tables
                  <ul>
                    <li>`sqlite3 foodrescue-content.v02.sqlite 'DROP TABLE IF EXISTS products; DROP TABLE IF EXISTS
                    product_categories; DROP TABLE IF EXISTS countries; DROP TABLE IF EXISTS product_countries;'`</li>
                  </ul>
                </li>
                <li>show the last inserted product
                  <ul>
                    <li>```<br>
                    SELECT * FROM products WHERE id = (SELECT MAX(id) FROM products);<br>
                    ```</li>
                  </ul>
                </li>
                <li>show a topic
                  <ul>
                    <li>```<br>
                    SELECT * FROM topics INNER JOIN topic_contents on topics.id = topic_contents.topic_id;<br>
                    ```</li>
                  </ul>
                </li>
                <li>copy categories in a format suitable for pasting to FreeMind (<a href=
                "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=z2gDbMpSs5UZoiZzQUq8gPrb">details</a>)
                  <ul>
                    <li>`sqlite3 foodrescue-content.sqlite3 &lt; &lt;(echo -e ".mode csv \n.separator \"\\\\n \"\n
                    SELECT name, id, product_count FROM categories WHERE product_count &gt;= 1000 ORDER BY
                    product_count DESC;") | xclip -selection clipboard`</li>
                  </ul>
                </li>
                <li>copy categories in a format suitable for pasting to LibreOffice Calc
                  <ul>
                    <li>`sqlite3 foodrescue-content.sqlite3 &lt; &lt;(echo -e ".mode csv \n SELECT name, product_count
                    FROM categories WHERE product_count &gt;= 1000 ORDER BY product_count DESC;") | xclip -selection
                    clipboard`</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>What are <b>useful SQL commands</b> in the FoodKeeper App database?
              <ul>
                <li>show all products in their categories
                  <ul>
                    <li>`SELECT<br>
                    Name, Name_Subtitle, Category_Name, Subcategory_Name<br>
                    FROM<br>
                    PRODUCTS INNER JOIN FOOD_CATEGORY<br>
                    ON PRODUCTS.Category_ID = FOOD_CATEGORY.ID;`</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>How to update the <b>indentation in XMLmind</b> XML Editor for the currently edited XML document?
              <ul>
                <li>Switch from XML source mode to a mode with a stylesheet (for example "View → DocBook") and then
                back to the XML source mode.</li>
              </ul>
            </li>
            <li>How to select the <b>categories for the chapter structure</b> when publishing as book / website?
              <ul>
                <li>The following criteria are used:
                  <ul>
                    <li>Category is an Open Food Facts (OFF) category.</li>
                    <li>Category has an English name.</li>
                    <li>Category is included in the OFF category taxonomy (JSON field "known" = 1).</li>
                    <li>Category has at least 1000 products assigned to it.</li>
                  </ul>
                </li>
                <li>You can apply these selection criteria with a SQL query after importing the categories.json file
                into a SQLite database. The query for the above criteria would then be:
                  <ul>
                    <li>sqlite3 db.sqlite &lt; &lt;(echo -e ".mode csv \n.separator \"\\\\n \"\n SELECT name, id,
                    products_count, url, sameAs FROM data WHERE id LIKE 'en:%' AND known = 1 AND products &gt;= 1000
                    ORDER BY products DESC;") | xclip -selection clipboard</li>
                  </ul>
                </li>
                <li>The top-level categories should be broad and cluster items together well by "level and type of
                danger". For example, both "meat products" and "dried products" make sense in parallel, even though it
                is not too clear where to insert "dried ham" then.</li>
                <li>Do not include categories where products in them could have wildly different shelf lives and
                storage instructions – because then no meaningful text regarding storage life can be written for that
                category. For example “alcoholic beverages” can contain both spirits (that never spoil) and natural
                wine (that spoils in a day). And "fish fillets" can contain both smoked and fresh fish, with very
                different storage life.</li>
                <li>Do not include categories where storage life and storage instructions are not significantly
                different from a superior category. For example, it makes no sense to include “herbal teas” in addition
                to “teas”, as storage life and for all dried tea is the same.</li>
              </ul>
            </li>
            <li>How to <b>see Android SDK packages</b> that are currently installed?
              <ul>
                <li>The command below will show the output without line wrapping, which is much better to read in this
                case. You can see the rest of the long lines by pressing "Arrow Right".</li>
                <li>```<br>
                sdkmanager --list | less -S<br>
                ```</li>
              </ul>
            </li>
            <li>How to do a "<b>make clean</b>" with CMake? #cmake
              <ul>
                <li>
                  <a href="https://stackoverflow.com/a/9680493">See</a>.
                </li>
              </ul>
            </li>
            <li>How to <b>install Qt Creator</b> for Android development from the <b>Ubuntu 19.10 repositories</b>?
            #qtcreator
              <ul>
                <li>Notes
                  <ul>
                    <li>The below will install Qt Creator 4.8 under Ubuntu 19.10, which is the version available in the
                    repositories. If you can, better install under Ubuntu 20.04 LTS, where Qt Creator 4.11 is available
                    (ca. 14 months newer; <a href="https://packages.ubuntu.com/search?keywords=qtcreator">see</a>).
                    </li>
                    <li>The below will also install relevant Qt examples for Android development, while excluding other
                    examples. For that reason, we avoid installing packages `qt5-examples`, `qt5-doc` and
                    `qt5-doc-html` as each of these would bring in documentation and other material from unnecessary
                    examples.</li>
                  </ul>
                </li>
                <li>Sources
                  <ul>
                    <li>Qt documentation: <a href=
                    "https://doc.qt.io/qtcreator/creator-developing-android.html#selecting-android-devices">Connecting
                    Android Devices</a>
                    </li>
                    <li>Qt documentation: <a href="https://doc.qt.io/qt-5/android-getting-started.html">Getting Started
                    with Qt for Android</a>
                    </li>
                    <li>https://stackoverflow.com/a/62090264 (my answer)</li>
                    <li>https://stackoverflow.com/q/48147356</li>
                    <li>https://askubuntu.com/a/1174445</li>
                  </ul>
                </li>
                <li>
                  <b>(1)</b> Install OpenJDK 8, which is a dependency of Qt Creator.
                  <ul>
                    <li>Later versions will not work – <a href=
                    "https://doc.qt.io/qtcreator/creator-developing-android.html#requirements">see</a>. And when not
                    doing the `update-alternatives` step, command line utilities that do not inherit the Qt Creator
                    Java path (such as `sdkmanager` when started manually) will fail to run.
                    </li>
                    <li>```<br>
                    sudo apt install openjdk-8-jdk<br>
                    sudo update-alternatives --config java<br>
                    ```</li>
                  </ul>
                </li>
                <li>
                  <b>(2)</b> Install `sdk-tools-linux-4333796.zip`.<br>
                  Do not install the new edition of this, called "commandlinetools 1.0" as provided on the <a href=
                  "https://developer.android.com/studio">Android Studio download page</a> (<a href=
                  "https://stackoverflow.com/a/62073804">reasons</a>).
                  <ul>
                    <li>Download and unpack the package to the place that will later also host the Android SDK:<br>
                    ```<br>
                    cd /opt/android-sdk/<br>
                    wget https://dl.google.com/android/repository/sdk-tools-linux-4333796.zip<br>
                    unzip sdk-tools-linux-4333796.zip<br>
                    ```</li>
                    <li>Make the `sdkmanager` command accessible system-wide:<br>
                    ```<br>
                    sudo ln -s /opt/android-sdk/tools/bin/sdkmanager /usr/local/bin/<br>
                    ```</li>
                  </ul>
                </li>
                <li>
                  <b>(3)</b> Use the now-installed `sdkmanager` to download the SDK packages required by Qt Creator
                  (<a href="https://doc.qt.io/qtcreator/creator-developing-android.html#requirements">source</a>).
                  <ul>
                    <li>Choose the Android SDK platform that suits your target device, for example
                    `platforms;android-23`. The correct API level number for your Android version can be found
                      <a href="https://developer.android.com/studio/releases/platforms">here</a>. Also, the version of
                      the build tools has to match the version of the Android SDK platform. And finally, according to
                      the <a href=
                      "https://doc.qt.io/qtcreator/creator-developing-android.html#setting-up-the-development-environment">
                      official Qt Creator installation instructions</a>: for Qt 5.12.0 to 5.12.5 [which applies to
                      Ubuntu 19.10] […], the correct versions of packages to install is as follows:<br>
                      ```<br>
                      sdkmanager --install "platform-tools" "platforms;android-29" "build-tools;29.0.2"
                      "ndk;19.2.5345600"<br>
                      ```
                    </li>
                    <li>Batch-accept the licences (<a href="https://stackoverflow.com/a/4682241">see</a>):<br>
                      ```<br>
                      yes | sdkmanager --licenses<br>
                      ```
                    </li>
                  </ul>
                </li>
                <li>
                  <b>(4)</b> Make the Android SDK and NDK installation folders writable.
                  <ul>
                    <li>Reason: "Make sure to unpack the Android SDK and NDK to a writeable location that Qt Creator
                    can access later. Otherwise, Qt Creator won't be able to use sdkmanager or find all components even
                    if they were installed manually." (<a href=
                    "https://doc.qt.io/qt-5/android-getting-started.html">source</a>)
                    </li>
                    <li>Command to execute, with the username of the user running Qt Creator usually:<br>
                    ```<br>
                    chown username:username -R /opt/android/sdk/ /opt/android-ndk/<br>
                    ```</li>
                  </ul>
                </li>
                <li>
                  <b>(5)</b> Install Qt Creator and its dependencies and documentation.<br>
                  The `:i386` architecture dependencies are needed on 64 bit architectures; otherwise Qt Creator will
                  not find Android devices to deploy to (<a href=
                  "https://doc.qt.io/qt-5/android-getting-started.html#linux-64-bit">see</a>).
                  <ul>
                    <li>```<br>
                    sudo apt-get install qtcreator qt5-default build-essential qtcreator-doc libstdc++6:i386
                    libgcc1:i386 zlib1g:i386 libncurses5:i386<br>
                    ```</li>
                  </ul>
                </li>
                <li>
                  <b>(6)</b> Install all Qt modules incl. their header files.
                  <ul>
                    <li>```<br>
                    sudo apt install libqt5gamepad5-dev libqt5opengl5-dev libqt5sensors5-dev libqt5serialport5-dev
                    libqt5svg5-dev libqt5websockets5-dev libqt5x11extras5-dev libqt5xmlpatterns5-dev qtbase5-dev
                    qtbase5-dev-tools qtdeclarative5-dev qtdeclarative5-dev-tools qtlocation5-dev qtpositioning5-dev
                    qtquickcontrols2-5-dev qtscript5-dev qttools5-dev qttools5-dev-tools qtwayland5-dev-tools
                    qtxmlpatterns5-dev-tools<br>
                    ```</li>
                  </ul>
                </li>
                <li>
                  <b>(7)</b> Install relevant Qt examples for Android development.<br>
                  Note that for each example, three packages are needed: source files, API docs (used for the help
                  system) and HTML docs (used for the example index in the welcome page etc.).
                  <ul>
                    <li>```<br>
                    sudo apt install qtbase5-examples qtdeclarative5-doc qtdeclarative5-doc-html
                    qtdeclarative5-examples qtquickcontrols2-5-doc qtquickcontrols2-5-doc-html
                    qtquickcontrols2-5-examples qtsensors5-doc qtsensors5-doc-html qtsensors5-examples
                    qtxmlpatterns5-doc qtxmlpatterns5-doc-html qtxmlpatterns5-examples qtconnectivity5-examples
                    qtconnectivity5-doc qtconnectivity5-doc-html qtdatavisualization5-examples qtdatavisualization5-doc
                    qtdatavisualization5-doc-html qtmultimedia5-examples qtmultimedia5-doc qtmultimedia5-doc-html
                    qtsvg5-examples qtsvg5-doc qtsvg5-doc-html qttools5-examples qttools5-doc qttools5-doc-html
                    qtwayland5-examples qtwayland5-doc qtwayland5-doc-html qtxmlpatterns5-examples qtxmlpatterns5-doc
                    qtxmlpatterns5-doc-html<br>
                    ```</li>
                  </ul>
                </li>
                <li>
                  <b>(8)</b> Install Qt for Android. (Needed because the Ubuntu repositories contain only "Qt 5.14.2
                  (GCC 5.3.1 … 64 bit)", the desktop variant. For Android, we need a variant compiled for ARMv7 /
                  ARMv8.)
                  <ul>
                    <li>Install <a href="https://github.com/miurahr/aqtinstall/">aqtinstall</a>, an unofficial
                    instalelr to install any platform version of Qt on any platform. This is needed because the version
                    of Qt provided in the Ubuntu repositories does not provide the Qt Maintenance Tool that could be
                    used as an alternative.
                    </li>
                    <li>Use `aqtinstall` to install Qt 5.14.2 for Android. Version 5.14.2 is the version contained in
                    Ubuntu 19.10, chosen here because it saves disk space by not needing two Qt versions for desktop
                    installed. However, you can also install any older or newer version. Just make sure the versions
                    chosen for desktop and Android match if you want to test the same codebase on these two platforms
                    in parallel.</li>
                  </ul>
                </li>
                <li>
                  <b>(9)</b> Configure Qt Creator
                  <ul>
                    <li>Under "Tools → Options … → Devices → Android", configure the paths to the Android SDK and
                    NDK.</li>
                    <li>Under "Tools → Options → Kits → Qt versions", configure the paths of your new Qt
                    installations.</li>
                    <li>Connect your Android device by USB cable and under "Tools → Options → Kits → Kits" make sure
                    there is an auto-generated kit for this device.</li>
                    <li>In a new, existing or example Qt project, go in the sidebar to "Projects → Build & Run" and
                    configure the project for the Qt Creator kit corresponding to your Android device.</li>
                    <li>Before deploying to an Android device for testing, emable `adb` debuggon on the Android device
                    and then follow "<a href=
                    "https://doc.qt.io/qtcreator/creator-developing-android.html#selecting-android-devices">Selecting
                    Android Devices</a>".
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>How to install and compile the <b>Qt World Summit 2019</b> Conference App? #qt
              <ul>
                <li>Clone the `android-openssl` and `statusbar` repositories according to <a href=
                "https://github.com/ekke/c2gQtWS_x#to-make-the-app-run-you-must-include">these instructions</a>.
                </li>
                <li>Open `c2gQtWS_x.pro` and adapt the references to the `android-openssl` and `statusbar` project
                includes (means, the `include( ….pri )` statements.</li>
                <li>Compiling of `qrc_data-assets.cpp` (the file automatically generated from `data-assets.qrc`) needs
                a lot of memory – more than 5.5 GiB at the same time. This is only because many images are included
                there. To fix this and make compilation go smoothly without exhausting memory, simply remove all
                references to `speakerImages/*` files from `qrc_data-assets.cpp`. The app will complain at runtime "QML
                Image: Cannot open: qrc:/data-assets/conference/speakerImages/speaker_….jpg" when viewing speakers, but
                everything else works fine.</li>
                <li>As of 2020-05-30 (commit `07738af`), the app is meant to be used with Qt 5.13. To get it to work
                with the new Qt 5.14, follow <a href="https://stackoverflow.com/a/62108461">these steps</a>.
                </li>
              </ul>
            </li>
            <li>How to <b>build a Qt for Android app</b> from the command line? #qt
              <ul>
                <li>Create an APK file for installation on an Android device:<br>
                ```<br>
                make apk<br>
                ```</li>
                <li>Create an Android App Bundle (APKs for multiple mobile architectures combined)<br>
                ```<br>
                make aab<br>
                ```</li>
                <li>Run tests on Android:<br>
                ```<br>
                make check<br>
                ```</li>
                <li>Install the Android APK to the mobile device:<br>
                ```<br>
                adb install -r file.apk<br>
                ```</li>
                <li>Source: <a href="https://www.kdab.com/qt-for-android-better-than-ever-before/">Qt for Android
                better than ever before</a>
                </li>
              </ul>
            </li>
            <li>How to <b>build a KDE Kirigami application</b> under Ubuntu as a <b>desktop</b> application? #kirigami
              <ul>
                <li>
                  <i>Application specific hints</i>
                  <ul>
                    <li><b><a href="https://invent.kde.org/sdk/kirigami-gallery">Kirigami Gallery</a></b>. On Ubuntu
                    19.10, needs `git checkout a67c49e` before, which selects a version from 2019-09.</li>
                    <li>
                      <b>applicationitem</b>. As found in the main Kirigami repo. Needs extra switch
                      `-DBUILD_EXAMPLES=ON` to be built (<a href=
                      "https://github.com/KDE/kirigami#build-examples-to-desktop">see</a>).
                    </li>
                    <li><b>Kongress</b>. But it needs Ubuntu 20.04 as Ubuntu 19.10 comes with a too old, incompatible
                    version of KCalendarCore.</li>
                  </ul>
                </li>
                <li>```<br>
                  sudo apt install cmake extra-cmake-modules kirigami2-dev qtbase5-dev qtdeclarative5-dev
                  "qml-module-qtquick-*"<br>
                  ```
                  <ul>
                    <li>If your distribution provides a version of ECM ("extra cmake modules") lower than 5.62.0,
                    instead follow <a href="https://superuser.com/a/912259">these instructions</a> to install the
                    latest version. This was necessar under Ubuntu 19.10.
                    </li>
                    <li>A nice trick</li>
                    <li>A nice trick to install all required dependencies automatically if the software also has an
                    installable binary package: "In your package manager (eg synaptic) turn on sources from deb-src
                    <a href="https://community.kde.org/Kdenlive/Development/KF5">…] and then execute this command:
                    `sudo apt-get build-dep [packagename]` ([source</a>)
                    </li>
                  </ul>
                </li>
                <li>```<br>
                git clone https://invent.kde.org/example/example.git<br>
                ```</li>
                <li>```<br>
                cd example &amp;& mkdir build &amp;& cd build<br>
                ```</li>
                <li>```<br>
                cmake ..<br>
                ```</li>
                <li>```<br>
                make<br>
                ```</li>
                <li>Both `cmake` and `make` may complain about missing Qt5 and KDE development files ("Could not find a
                package configuration file provided by "…") or missing include files. Look the right ones up and
                install them, then try again.
                  <ul>
                    <li>list for Qt development packages: `apt list "libqt5*-dev" "qt*-dev"`</li>
                    <li>list of KDE development packages: `apt list "libkf5*-dev"`</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <b>[DRAFT]</b> How to <b>build a KDE Kirigami application</b> under Ubuntu as an <b>Android</b>
              application? #kirigami
              <ul>
                <li><i>Application specific hints</i></li>
                <li>```<br>
                  sudo apt install cmake extra-cmake-modules kirigami2-dev qtbase5-dev qtdeclarative5-dev
                  "qml-module-qtquick-*"<br>
                  ```
                  <ul>
                    <li>If your distribution provides a version of ECM ("extra cmake modules") lower than 5.62.0,
                    instead follow <a href="https://superuser.com/a/912259">these instructions</a> to install the
                    latest version. This was necessar under Ubuntu 19.10.
                    </li>
                  </ul>
                </li>
                <li>```<br>
                git clone https://invent.kde.org/example/example.git<br>
                ```</li>
                <li>```<br>
                cd example &amp;& mkdir build &amp;& cd build<br>
                ```</li>
                <li>```<br>
                cmake .. \<br>
                -DQTANDROID_EXPORTED_TARGET=kirigami2gallery \<br>
                -DANDROID_APK_DIR=./src/ \<br>
                -DECM_DIR=/usr/local/share/ECM/cmake \<br>
                -DCMAKE_TOOLCHAIN_FILE=/usr/local/share/ECM/toolchain/Android.cmake \<br>
                -DECM_ADDITIONAL_FIND_ROOT_PATH=/opt/qt/5.15.0/android/ \<br>
                -DCMAKE_PREFIX_PATH=/opt/qt/5.15.0/android/lib/cmake/Qt5Core \<br>
                -DANDROID_NDK=/opt/android-sdk/ndk/21.1.6352462/ \<br>
                -DANDROID_SDK_ROOT=/opt/android-sdk/ \<br>
                -DANDROID_SDK_BUILD_TOOLS_REVISION=29.0.2 \<br>
                -DCMAKE_INSTALL_PREFIX=/home/matthias/Projects/Fairdirect.Food_Rescue_App/<br>
                ```</li>
                <li>```<br>
                cmake .. \<br>
                -DQTANDROID_EXPORTED_TARGET=applicationitemapp \<br>
                -DANDROID_APK_DIR=./examples/applicationitemapp/ \<br>
                -DECM_DIR=/usr/local/share/ECM/cmake \<br>
                -DCMAKE_TOOLCHAIN_FILE=/usr/local/share/ECM/toolchain/Android.cmake \<br>
                -DECM_ADDITIONAL_FIND_ROOT_PATH=/opt/qt/5.15.0/android/ \<br>
                -DCMAKE_PREFIX_PATH=/opt/qt/5.15.0/android/lib/cmake/Qt5Core \<br>
                -DANDROID_NDK=/opt/android-sdk/ndk/21.1.6352462/ \<br>
                -DANDROID_SDK_ROOT=/opt/android-sdk/ \<br>
                -DANDROID_SDK_BUILD_TOOLS_REVISION=29.0.2 \<br>
                -DCMAKE_INSTALL_PREFIX=/home/matthias/Projects/Fairdirect.Food_Rescue_App/<br>
                ```</li>
                <li>```<br>
                make<br>
                ```</li>
                <li>`cmake` and `make` will complain about missing Qt5 development files ("Could not find a package
                configuration file provided by "Qt5…"). Look the right ones up in <a href=
                "https://askubuntu.com/a/577334">this list</a> and install them. (Additions to the list:
                qtquickcontrols2-5-dev ).
                </li>
                <li>```<br>
                make create-apk-kirigami2gallery<br>
                ```</li>
                <li>```<br>
                adb install -r ./kirigami2gallery_build_apk/build/outputs/apk/kirigami2gallery_build_apk-debug.apk<br>
                ```</li>
              </ul>
            </li>
            <li>How to <b>start developing a Kirigami application</b> with Qt Creator? #kirigami
              <ul>
                <li>
                  <i>About</i>
                  <ul>
                    <li>The following instructions make you start from a blank template application derived from the
                    Kirigami Gallery application. But you can just as well start from any other Kirigami application
                    and start extending it rather than emptying it out first.</li>
                    <li>These instructions use Qt Creator as the IDE. That makes sense, as it has special support for
                    graphical editing of QML files. But since the build system does not rely on any files supplied by
                    Qt Creator, any other IDE can be used as well.</li>
                  </ul>
                </li>
                <li>Make sure you can build the Kirigami Gallery application unmodified as a desktop and Android
                application.</li>
                <li>Copy the Kirigami Gallery application to a new directory for your project.</li>
                <li>In Qt Creator, do "File → Open File or Project …" and open `CMakeLists.txt` in your project's
                directory. When asked, only enable the "Imported Kit" build kit.
                  <ul>
                    <li>This is the project definition file for CMake projects. There is no `.pro` file here as in Qt
                    Creator qmake projects.</li>
                    <li>Upon opening the file, Qt Creator will ask some questions and generate build kits for the
                    project. We only enable the "Imported Kit" because that one will work and use the KDE build system
                    (`extra-cmake-modules` and so on). However, creating new Qt Creator defined build kits in a CMake
                    project will use CMake as well, so it's not bad if it works.</li>
                    <li>It will store all that information into a XML file with user settings, called
                    `CMakeLists.txt.user`. That file should not be in version control as it's about your personal
                    settings and paths for building the project.</li>
                  </ul>
                </li>
                <li>Set up the build configuration in Qt Creator.
                  <ul>
                    <li>In Qt Creator under "Tools → Options → Kits", rename "Imported Kit" to something useful like
                    "Desktop (KDE kit, system Qt)".</li>
                    <li>In Qt Creator under "Project (in sidbar) → Build & Run → Desktop (KDE kit, system Qt) → Build",
                    add another build configuration "Release". This will already work then, avoiding to build with
                    debug symbols.</li>
                    <li>In the same place, edit the build directory to be inside the `./build/` directory of the
                    repository, for example `./build/Desktop.KDE_kit+system_Qt.Release` and
                    `./build/Desktop.KDE_kit+system_Qt.Debug`.</li>
                    <li>Try out the Debug Release build configurations by running the application from inside Qt
                    Creator.</li>
                    <li>Rename the project: in file `CMakeLists.txt`, replace `project(kirigami-gallery …)` with
                    `project(your-project-name …)`.</li>
                  </ul>
                </li>
                <li>If you want to start from an empty application, delete everything in your project directory that is
                not necessary for a blank Kirigami application. Only keep the following, with adaptations to account
                for what you deleted:
                  <ul>
                    <li>```<br>
                    .<br>
                    ├── CMakeLists.txt<br>
                    ├── CMakeLists.txt.user<br>
                    ├── org.fairdirect.foodrescue.appdata.xml<br>
                    └── src/<br>
                    ├── android/<br>
                    │&nbsp;&nbsp; ├── AndroidManifest.xml<br>
                    │&nbsp;&nbsp; └── res/<br>
                    │&nbsp;&nbsp; ├── drawable/<br>
                    │&nbsp;&nbsp; ├── drawable-xxxhdpi/<br>
                    │&nbsp;&nbsp; └── values/<br>
                    ├── CMakeLists.txt<br>
                    ├── data/<br>
                    │&nbsp;&nbsp; └── contents/<br>
                    │&nbsp;&nbsp; └── ui/<br>
                    │&nbsp;&nbsp; ├── BaseApp.qml<br>
                    │&nbsp;&nbsp; ├── MainPage.qml<br>
                    │&nbsp;&nbsp; └── mobileApp.qml<br>
                    ├── main.cpp<br>
                    ├── metadata.desktop<br>
                    ├── qtquickcontrols2.conf<br>
                    └── resources.qrc<br>
                    ```<br>
                    (Generated with command `tree`.)</li>
                  </ul>
                </li>
                <li>If you want to start from an empty application, delete the `.git` subdirectory in your project
                directory, then initialize a new Git repository and commit the current "empty app" state as the first
                commit.</li>
              </ul>
            </li>
            <li>How to <b>update the project documentation</b> from the Dynalist document?
              <ul>
                <li>Keep all documentation content concentrated in a single, H1 formatted node in Dynalist (<a href=
                "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=oWcqcT7mEbKD42ZOxBkCvU2J">below</a>). Because due to
                the limitations of current Dynalist HTML export, only that allows to export as a HTML document with a
                properly formatted title.
                </li>
                <li>Do not use the nodes' "note field" functionality for heading nodes in Dynalist. Because in the
                export, these notes would be rendered as part of the title due to a bug in Dynalist.</li>
                <li>Keep a H1 / H2 / H3 document structure for the first three levels of nodes in Dynalist. It helps to
                keep a HTML exported document more readable in the absence of list folding there.</li>
                <li>In Dynalist, export the <a href=
                "https://dynalist.io/d/To5BNup9nYdPq7QQ3KlYa-mA#z=oWcqcT7mEbKD42ZOxBkCvU2J">Food Rescue App
                Documentation</a> node to HTML.
                </li>
                <li>Make sure you have installed HTML tidy, a pretty-printing software for HTML: `sudo apt install
                tidy`.</li>
                <li>Pretty-print the HTML file, modifying it in place: `tidy -modify -indent -wrap 120 doc.html`.
                Wrapping at 120 characters is the most that Github file preview pages can take.</li>
                <li>Commit the updated file to the Git repository.</li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <h2>Related Projects and Initiatives</h2>
          <ul>
            <li>CodeCheck app
              <ul>
                <li>Potentially based on the Open Food Facts dataset.</li>
                <li>https://codecheck-app.com/</li>
                <li>Uses a B2B business model of paid-for surveys to their user base:
                https://codecheck-app.com/de/business/insights/</li>
              </ul>
            </li>
            <li>Die Tafeln
              <ul>
                <li>
                  <a href="https://www.tafel.de/themen/nachhaltigkeit/">article about sustainability at "Die
                  Tafeln"</a> (German)
                </li>
              </ul>
            </li>
            <li>El CoCo
              <ul>
                <li>Open Food Facts based app that focuses on NOVA and Nutriscore metrics, for the Spanish market.</li>
                <li>https://elcoco.es/</li>
                <li>https://play.google.com/store/apps/details?id=es.elcoco.app</li>
                <li>Business model: "At the beginning we started with a B2C business model with a premium app. But
                unfortunatly there is no market in Spain, people don't pay for an app. So we are now B2B, we try to
                help brands to improve their products. For instance we tell them what they should improve to have a
                better rating. We sell also customer insights. (Brands can send survey to our users.)"</li>
              </ul>
            </li>
            <li>EU Platform on Food Losses and Food Waste
              <ul>
                <li>https://ec.europa.eu/food/safety/food_waste/eu_actions/eu-platform_en</li>
                <li>Especially relevant: "Redistribution of surplus food:Examples of practices in the Member States",
                https://ec.europa.eu/food/sites/food/files/safety/docs/fw_eu-actions_food-donation_ms-practices-food-redis.pdf</li>
              </ul>
            </li>
            <li>food expiration tracker apps
              <ul>
                <li>Date Limite (iOS)
                  <ul>
                    <li>A food storage management app that will warn people when products approach their best-before /
                    use-by dates.</li>
                    <li>It is based on Open Food Facts data, but only regarding barcodes, product names etc.. Expiry
                    dates of the products at hand have to be entered by the user herself. Also, Open Food Facts does
                    not yet have any information about expiry period length or the like.</li>
                    <li>This is so far the only expiration tracker app based on OFF. People can contribute product
                    photos and product data back to OFF using this app.</li>
                    <li>https://apps.apple.com/fr/app/date-limite/id504520670</li>
                    <li>
                    https://translate.google.com/translate?sl=fr&amp;tl=en&amp;u=https%3A%2F%2Fapps.apple.com%2Ffr%2Fapp%2Fdate-limite%2Fid504520670</li>
                  </ul>
                </li>
                <li>Vorratsübersicht (Android)
                  <ul>
                    <li>Can fetch data and pictures from Open Food Facts, but does not contribute back there.</li>
                    <li>https://play.google.com/store/apps/details?id=de.stryi.Vorratsuebersicht</li>
                    <li>https://sites.google.com/site/vorratsuebersicht</li>
                  </ul>
                </li>
                <li>Food Expiration Track (Android)</li>
                <li>Fridge (Android)</li>
                <li>FridgeCheck (Android)</li>
                <li>Love Food Hate Waste (Android)</li>
              </ul>
            </li>
            <li>Food Repo
              <ul>
                <li>https://www.foodrepo.org/</li>
                <li>Basically the same idea as Open Food Facts, but with a separate database.&nbsp;Contains ~42 000
                products in total as of 2020-03, see https://www.foodrepo.org/ . Focused on Switzerland, but also
                available for French, Italian and German products.</li>
                <li>All content, but not the software, is CC-BY-4.0 licenced. See:
                https://www.foodrepo.org/ch/terms-of-service</li>
              </ul>
            </li>
            <li>food rescue initiatives and resources
              <ul>
                <li>https://en.wikipedia.org/wiki/Food_rescue</li>
              </ul>
            </li>
            <li>Foodsaving Worldwide
              <ul>
                <li>An international equivalent of Germany's "Foodsharing" network.</li>
                <li>website
                  <ul>
                    <li>https://foodsaving.world/</li>
                  </ul>
                </li>
                <li>software
                  <ul>
                    <li>According to Micha, this software only provides a kind of discussion functionality. There is no
                    offer / marketplace function.</li>
                    <li>"A web platform to support foodsaving groups worldwide."</li>
                    <li>Their software is said to be more democratic compared to the more hierarchical Foodsharing
                    software, as per https://foodsaving.world/about/faq .</li>
                    <li>Backend in Python, frontend in Vue.js.&nbsp;So more modern compared to the Foodsharing software
                    which is written in PHP.</li>
                    <li>https://github.com/yunity/karrot-backend</li>
                    <li>https://github.com/yunity/karrot-frontend</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>Foodsharing
              <ul>
                <li>software
                  <ul>
                    <li>Food rescue software. Does not include a sale function.</li>
                    <li>Written in PHP.</li>
                    <li>Licenced AGPLv3.</li>
                    <li>https://gitlab.com/foodsharing-dev/foodsharing/</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>Made Near Me
              <ul>
                <li>http://madenear.me/</li>
                <li>"Made Near Me: Made Near Me shows on a map where the food products you eat every day are made,
                transformed and/or packaged."&nbsp; (https://catelin.net/off/user-guide/#post-461-_Toc469491389)</li>
              </ul>
            </li>
            <li>Open Food Network
              <ul>
                <li>An open source marketplace software for virtual farmers markets.</li>
                <li>https://about.openfoodnetwork.org.uk/</li>
              </ul>
            </li>
            <li>Open Food Facts</li>
            <li>Product Open Data
              <ul>
                <li>Similar to Open Food Facts, but not really specialized for food. Made by Open Knowledge
                Foundation.</li>
                <li>Ingredients lists and nutrition facts are sourced from manufacturer websites and presented as a
                copy of that. So pretty useless for automated evaluations etc.. See for example:
                http://product-open-data.com/gtin/0857063002102</li>
                <li>So far, containing very little data: http://product-open-data.com/nutrition . Aroun since at least
                2013 (example: http://product-open-data.com/gtin/0857063002102 ), so rather a dead project.</li>
                <li>https://f-droid.org/en/packages/org.okfn.pod/</li>
                <li>http://product-open-data.com/</li>
                <li>https://product.okfn.org/</li>
              </ul>
            </li>
            <li>STREFOWA Reduce Food Waste Network
              <ul>
                <li>An EU funded initiative from 2016-2019. Provides various materials that should help in food waste
                reduction, with different materials available for the different parties involved.</li>
                <li>http://www.reducefoodwaste.eu/</li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <h2>Literature</h2>
          <ul>
            <li>
              <h3>About food rescue</h3>
              <ul>
                <li>❗USDA FoodKeeper app, https://www.foodsafety.gov/keep-food-safe/foodkeeper-app . This also includes
                mobile apps, here for Android: https://play.google.com/store/apps/details?id=gov.usda.fsis.foodkeeper2
                . Data harvesting may best be done from the mobile app.</li>
                <li>❗https://www.ag.ndsu.edu/publications/food-nutrition/food-safety?b_start:int=40 , all CC-BY-NC
                licenced
                  <ul>
                    <li>https://www.ag.ndsu.edu/publications/food-nutrition/food-freezing-guide</li>
                    <li>
                    https://www.ag.ndsu.edu/publications/food-nutrition/food-storage-guide-answers-the-question</li>
                    <li>
                    https://www.ag.ndsu.edu/publications/food-nutrition/questions-and-answers-about-storing-fresh-fruits-and-vegetables</li>
                    <li>
                    https://www.ag.ndsu.edu/publications/lawns-gardens-trees/from-garden-to-table-my-potatoes-turned-green-now-what</li>
                  </ul>
                </li>
                <li>❗USDA Food Safety portal, https://www.foodsafety.gov/ . Among other items:
                  <ul>
                    <li>https://www.foodsafety.gov/keep-food-safe/4-steps-to-food-safety</li>
                    <li>https://www.foodsafety.gov/food-safety-charts/cold-food-storage-charts</li>
                  </ul>
                </li>
                <li>❗Food Deterioration, U.S. Army Manual,
                http://ready4itall.org/wp-content/uploads/2013/05/US-Army-cc-md0723-food-deterioration.pdf</li>
                <li>Compendium of the Microbiological Spoilage of Foods and Beverages
                http://file.qums.ac.ir/repository/vct/nutrition/%D8%A2%D9%85%D9%88%D8%B2%D8%B4%D9%8A/%D9%83%D8%AA%D8%A8%20%D9%85%D8%B1%D8%AC%D8%B9/Compendium%20of%20the%20%20Microbiological%20Spoilage%20of%20Foods%20and%20Beverages.pdf</li>
                <li>
                  <a href="https://www.springer.com/series/7131?detailsPage=titles">Springer "Food Microbiology and
                  Food Safety" series</a> (to be evaluated)
                </li>
                <li>UNHCR Food Storage Manual,
                https://cms.emergency.unhcr.org/documents/11982/45957/Food+storage+manual/c0961a89-389f-4ede-963f-7cd5caa50b20</li>
                <li>Fungi and Food Spoilage,
                https://www.bookdepository.com/Fungi-Food-Spoilage-John-I-Pitt/9780412554605 and
                https://link.springer.com/book/10.1007/978-1-4615-6391-4</li>
                <li>https://www.consumerreports.org/food-storage/how-to-extend-food-expiration-dates/ (some useful tips
                inside)</li>
                <li>https://hickersonbrothers.com/ways-to-prevent-food-from-spoiling/ (some useful tips inside)</li>
                <li>StillTasty, https://www.stilltasty.com/</li>
                <li>Identification and characterization of Specific Spoilage Organisms (SSOs) in different food
                matrices, https://air.unimi.it/retrieve/handle/2434/230015/299627/phd_unimi_R09151.pdf</li>
                <li>Less Food Waste More Profit, https://www.foodwaste.ie/web-images/Food-Waste-Prevention-Guide.pdf
                (some useful tips inside)</li>
                <li>Handbook of Food Preservation, 1088 pp.,
                http://www.cold.org.gr/library/downloads/Docs/Handbook%20of%20Food%20Preservation.PDF</li>
                <li>How to Determine the Shelf Life of Food, https://www.mpi.govt.nz/dmsdocument/12540/direct</li>
                <li>New Zealand Food Safety Information, https://www.mpi.govt.nz/food-safety
                  <ul>
                    <li>Pathogen Data Sheets,
                    https://www.mpi.govt.nz/food-safety/food-safety-and-suitability-research/food-risk-assessment/hazard-data-sheets/data-sheets/</li>
                    <li>Is it safe to eat?,
                    https://www.mpi.govt.nz/food-safety/food-safety-for-consumers/is-it-safe-to-eat/</li>
                  </ul>
                </li>
                <li>NUTRITION TRAINING MANUAL: Module3–Food Safety, Storage & Preservation,
                https://www.ethicalteapartnership.org/wp-content/uploads/Food-Safety-Module-3-1.pdf</li>
                <li>Food Safety is Everybody’s Business,
                https://www.doh.wa.gov/Portals/1/Documents/Pubs/332-036.pdf</li>
                <li>Safe Food Storage at Home,
                https://www.eufic.org/en/food-safety/article/safe-food-storage-at-home</li>
                <li>The safety of bottled water,
                https://www.eufic.org/en/food-safety/article/the-safety-of-bottled-water</li>
                <li>A Guide to Food Hygiene,
                https://www.melbourne.vic.gov.au/SiteCollectionDocuments/guide-to-food-hygiene.pdf</li>
                <li>Handbook of Food Products Manufacturing, https://books.google.de/books?id=mnh6aoI8iF8C</li>
                <li>Manuals of Food Quality Control – 4. Microbiological Analysis,
                http://www.fao.org/3/T0610E/T0610E.pdf</li>
                <li>Food Spoilage and Safety Predictor (FSSP), a software for Windows, http://fssp.food.dtu.dk/</li>
                <li>Handbook of Food Spoilage Yeasts,
                https://epdf.pub/handbook-of-food-spoilage-yeasts-second-edition-contemporary-food-science.html</li>
                <li>Microbial Contamination & Food Degradation, chp. 5. Food Degradation and Foodborne Diseases: A
                Microbial Approach, https://www.researchgate.net/publication/320244516</li>
                <li>Food Spoilage and Preservation – A learning element for staff of consumer cooperatives,
                https://www.ilo.org/wcmsp5/groups/public/---ed_emp/---emp_ent/---coop/documents/instructionalmaterial/wcms_628571.pdf</li>
                <li>Northeast Vegetable and Strawberry Pest Identification Guide,
                https://nevegetable.org/sites/nevegetable.org/files/Pest_ID_2018_no%20cover%20date.pdf and indexed on
                https://nevegetable.org/about-guide/ordering-and-downloads</li>
                <li>Restaurant Food Waste Action Guide
                  <ul>
                    <li>https://www.refed.com/downloads/Restaurant_Guide_Web.pdf</li>
                  </ul>
                </li>
                <li>The Food Safety Information Handbook
                  <ul>
                    <li>https://books.google.de/books?id=G2QL_dyS5YAC</li>
                  </ul>
                </li>
                <li>REDUCEFOODWASTE Handbook
                  <ul>
                    <li>http://www.reducefoodwaste.eu/strefowa-handbook.html</li>
                    <li>Does not provide any detailed tips to judge the edibility of food items, though.</li>
                  </ul>
                </li>
                <li>Welt: "Verschimmelt, verfärbt, aufgewärmt – Ist das noch essbar?"
                  <ul>
                    <li>https://www.welt.de/gesundheit/plus189849987</li>
                  </ul>
                </li>
                <li>
                  <a href="https://www.thebetterindia.com/225455">Mint, Chilli & More: How to Grow Organic Veggies From
                  Kitchen Scraps</a>
                </li>
                <li>
                  <a href="https://1millionideas.com/11-plants-that-you-can-always-regrow-from-kitchen-scraps/">11
                  Plants That You Can Always Regrow From Kitchen Scraps</a>
                </li>
                <li>
                  <a href="https://www.thebetterindia.com/225750">Haryana Man Grows Mini Food Forest In 100 sq m Using
                  Zero Chemicals!</a>
                  <ul>
                    <li>"Vipesh also prepares bio enzymes from fruit and vegetable waste. “I ferment kitchen fruit
                    peels for over 60-90 days and then add jaggery and water. Every month I prepare around 10 litres of
                    BE which is sprayed in my garden every 15 days,” he says."</li>
                  </ul>
                </li>
                <li>
                  <a href="https://www.ruralsprout.com/cure-and-store-winter-squash/">How To Cure and Store Winter
                  Squash and Pumpkins</a>
                </li>
                <li>
                  <a href="https://practicalselfreliance.com/canning-recipes/">100+ Canning Recipes</a>
                </li>
                <li>
                  <a href="https://practicalselfreliance.com/citrus-pectin/">Natural Citrus Seed Pectin for Canning</a>
                </li>
              </ul>
            </li>
            <li>
              <h3>About the food waste situation</h3>
              <ul>
                <li>
                  <a href="https://www.researchgate.net/publication/273137546">Food Waste Generation at Household
                  Level: Results of a Survey among Employees of Two European Research Centers in Italy and Germany</a>
                  <ul>
                    <li>"All available studies consistently come to the conclusion that one of the largest savings
                    potential in Europe is at the household level. Using various national data sources, the BCFN study
                    specifies the amount of food wasted in households per capita and year for different European
                    countries as follows: 110 kg in Great Britain, 108 kg in Italy, 99 kg in France, 82 kg in Germany,
                    and 72 kg in Sweden. These figures illustrate that any effective strategy to combat food wastage
                    needs to focus on the final consumer. "</li>
                  </ul>
                </li>
                <li>"BMEL Ernährungsreport 2019"
                  <ul>
                    <li>This document is referenced in https://www.welt.de/wirtschaft/article200208000 as the source of
                    interesting facts about food waste.</li>
                  </ul>
                </li>
                <li>"<a href="https://www.welt.de/wirtschaft/article200208000">Noch immer verfallen die Deutschen der
                MHD-Panik</a>"
                </li>
                <li>
                  <a href="https://www.refed.com/solutions">ReFED Food Waste Solutions</a>
                  <ul>
                    <li>A great overview of what can be done against food waste. In the United States, consumer
                    education campaigns and standardizing expiration date labelling together are said to have the
                    highest financial benefits of all food waste interventions (<a href=
                    "https://www.refed.com/solutions?sort=economic-value-per-ton">see</a>).
                    </li>
                  </ul>
                </li>
                <li>"Das zeigen neue Berechnungen der Universität Stuttgart, die sich auf das Jahr 2015 beziehen.
                Inklusive der Abfallmengen von Landwirten, Lebensmittelverarbeitern, Handel und Gastronomie komme man
                auf insgesamt 12,7 Millionen Tonnen verschwendete Lebensmittel im Jahr.<br>
                  Mehr als die Hälfte der Abfälle stammt aus Haushalten: Hier fallen rund sieben Millionen Tonnen an.
                  Rund 40 Prozent davon wären laut den Forschern vermeidbar. Verbraucherinnen und Verbraucher könnten
                  37,3 Kilo einsparen, wenn sie weniger einkaufen, etwa Obst, Gemüse und Brot richtig lagern und Reste
                  nicht bedenkenlos wegwerfen. 2,2 Millionen Tonnen stammen aus der Verarbeitung, 1,7 Millionen Tonnen
                  aus der Gastronomie. Von der Gesamtmenge der Lebensmittelabfälle seien knapp 6 bis zu 8,2 Millionen
                  Tonnen theoretisch vermeidbar." (<a href=
                  "https://www.zeit.de/wissen/2019-05/lebensmittelverschwendung-haushalte-essen-muell-deutschland">source</a>)
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</body>
</html>
